{
  "title": "FastMCP Client",
  "source_url": null,
  "content": "[FastMCP](https://gofastmcp.com/) is a higher-level MCP framework that bills itself as \"The fast, Pythonic way to build MCP servers and clients.\" It supports additional capabilities on top of the MCP specification like [Tool Transformation](https://gofastmcp.com/patterns/tool-transformation), [OAuth](https://gofastmcp.com/clients/auth/oauth), and more.\n\nAs an alternative to Pydantic AI's standard [`MCPServer` MCP client](../client/) built on the [MCP SDK](https://github.com/modelcontextprotocol/python-sdk), you can use the FastMCPToolset [toolset](../../toolsets/) that leverages the [FastMCP Client](https://gofastmcp.com/clients/) to connect to local and remote MCP servers, whether or not they're built using [FastMCP Server](https://gofastmcp.com/servers/).\n\nNote that it does not yet support integration elicitation or sampling, which are supported by the [standard `MCPServer` client](../client/).\n\n## Install\n\nTo use the `FastMCPToolset`, you will need to install [`pydantic-ai-slim`](../../install/#slim-install) with the `fastmcp` optional group:\n\n```bash\npip install \"pydantic-ai-slim[fastmcp]\"\n\n```\n\n```bash\nuv add \"pydantic-ai-slim[fastmcp]\"\n\n```\n\n## Usage\n\nA `FastMCPToolset` can then be created from:\n\n- A FastMCP Server: `FastMCPToolset(fastmcp.FastMCP('my_server'))`\n- A FastMCP Client: `FastMCPToolset(fastmcp.Client(...))`\n- A FastMCP Transport: `FastMCPToolset(fastmcp.StdioTransport(command='uvx', args=['mcp-run-python', 'stdio']))`\n- A Streamable HTTP URL: `FastMCPToolset('http://localhost:8000/mcp')`\n- An HTTP SSE URL: `FastMCPToolset('http://localhost:8000/sse')`\n- A Python Script: `FastMCPToolset('my_server.py')`\n- A Node.js Script: `FastMCPToolset('my_server.js')`\n- A JSON MCP Configuration: `FastMCPToolset({'mcpServers': {'my_server': {'command': 'uvx', 'args': ['mcp-run-python', 'stdio']}}})`\n\nIf you already have a [FastMCP Server](https://gofastmcp.com/servers) in the same codebase as your Pydantic AI agent, you can create a `FastMCPToolset` directly from it and save agent a network round trip:\n\n[Learn about Gateway](../../gateway)\n\n```python\nfrom fastmcp import FastMCP\n\nfrom pydantic_ai import Agent\nfrom pydantic_ai.toolsets.fastmcp import FastMCPToolset\n\nfastmcp_server = FastMCP('my_server')\n@fastmcp_server.tool()\nasync def add(a: int, b: int) -> int:\n    return a + b\n\ntoolset = FastMCPToolset(fastmcp_server)\n\nagent = Agent('gateway/openai:gpt-5', toolsets=[toolset])\n\nasync def main():\n    result = await agent.run('What is 7 plus 5?')\n    print(result.output)\n    #> The answer is 12.\n\n```\n\n```python\nfrom fastmcp import FastMCP\n\nfrom pydantic_ai import Agent\nfrom pydantic_ai.toolsets.fastmcp import FastMCPToolset\n\nfastmcp_server = FastMCP('my_server')\n@fastmcp_server.tool()\nasync def add(a: int, b: int) -> int:\n    return a + b\n\ntoolset = FastMCPToolset(fastmcp_server)\n\nagent = Agent('openai:gpt-5', toolsets=[toolset])\n\nasync def main():\n    result = await agent.run('What is 7 plus 5?')\n    print(result.output)\n    #> The answer is 12.\n\n```\n\n*(This example is complete, it can be run \"as is\" — you'll need to add `asyncio.run(main())` to run `main`)*\n\nConnecting your agent to a Streamable HTTP MCP Server is as simple as:\n\n[Learn about Gateway](../../gateway)\n\n```python\nfrom pydantic_ai import Agent\nfrom pydantic_ai.toolsets.fastmcp import FastMCPToolset\n\ntoolset = FastMCPToolset('http://localhost:8000/mcp')\n\nagent = Agent('gateway/openai:gpt-5', toolsets=[toolset])\n\n```\n\n```python\nfrom pydantic_ai import Agent\nfrom pydantic_ai.toolsets.fastmcp import FastMCPToolset\n\ntoolset = FastMCPToolset('http://localhost:8000/mcp')\n\nagent = Agent('openai:gpt-5', toolsets=[toolset])\n\n```\n\n*(This example is complete, it can be run \"as is\" — you'll need to add `asyncio.run(main())` to run `main`)*\n\nYou can also create a `FastMCPToolset` from a JSON MCP Configuration:\n\n[Learn about Gateway](../../gateway)\n\n```python\nfrom pydantic_ai import Agent\nfrom pydantic_ai.toolsets.fastmcp import FastMCPToolset\n\nmcp_config = {\n    'mcpServers': {\n        'time_mcp_server': {\n            'command': 'uvx',\n            'args': ['mcp-run-python', 'stdio']\n        }\n    }\n}\n\ntoolset = FastMCPToolset(mcp_config)\n\nagent = Agent('gateway/openai:gpt-5', toolsets=[toolset])\n\n```\n\n```python\nfrom pydantic_ai import Agent\nfrom pydantic_ai.toolsets.fastmcp import FastMCPToolset\n\nmcp_config = {\n    'mcpServers': {\n        'time_mcp_server': {\n            'command': 'uvx',\n            'args': ['mcp-run-python', 'stdio']\n        }\n    }\n}\n\ntoolset = FastMCPToolset(mcp_config)\n\nagent = Agent('openai:gpt-5', toolsets=[toolset])\n\n```\n\n*(This example is complete, it can be run \"as is\" — you'll need to add `asyncio.run(main())` to run `main`)*",
  "content_length": 4691
}