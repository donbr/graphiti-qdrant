{
  "title": "`fasta2a`",
  "source_url": null,
  "content": "### FastA2A\n\nBases: `Starlette`\n\nThe main class for the FastA2A library.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/applications.py`\n\n```python\nclass FastA2A(Starlette):\n    \"\"\"The main class for the FastA2A library.\"\"\"\n\n    def __init__(\n        self,\n        *,\n        storage: Storage,\n        broker: Broker,\n        # Agent card\n        name: str | None = None,\n        url: str = 'http://localhost:8000',\n        version: str = '1.0.0',\n        description: str | None = None,\n        provider: AgentProvider | None = None,\n        skills: list[Skill] | None = None,\n        # Starlette\n        debug: bool = False,\n        routes: Sequence[Route] | None = None,\n        middleware: Sequence[Middleware] | None = None,\n        exception_handlers: dict[Any, ExceptionHandler] | None = None,\n        lifespan: Lifespan[FastA2A] | None = None,\n    ):\n        if lifespan is None:\n            lifespan = _default_lifespan\n\n        super().__init__(\n            debug=debug,\n            routes=routes,\n            middleware=middleware,\n            exception_handlers=exception_handlers,\n            lifespan=lifespan,\n        )\n\n        self.name = name or 'My Agent'\n        self.url = url\n        self.version = version\n        self.description = description\n        self.provider = provider\n        self.skills = skills or []\n        # NOTE: For now, I don't think there's any reason to support any other input/output modes.\n        self.default_input_modes = ['application/json']\n        self.default_output_modes = ['application/json']\n\n        self.task_manager = TaskManager(broker=broker, storage=storage)\n\n        # Setup\n        self._agent_card_json_schema: bytes | None = None\n        self.router.add_route('/.well-known/agent.json', self._agent_card_endpoint, methods=['HEAD', 'GET', 'OPTIONS'])\n        self.router.add_route('/', self._agent_run_endpoint, methods=['POST'])\n        self.router.add_route('/docs', self._docs_endpoint, methods=['GET'])\n\n    async def __call__(self, scope: Scope, receive: Receive, send: Send) -> None:\n        if scope['type'] == 'http' and not self.task_manager.is_running:\n            raise RuntimeError('TaskManager was not properly initialized.')\n        await super().__call__(scope, receive, send)\n\n    async def _agent_card_endpoint(self, request: Request) -> Response:\n        if self._agent_card_json_schema is None:\n            agent_card = AgentCard(\n                name=self.name,\n                description=self.description or 'An AI agent exposed as an A2A agent.',\n                url=self.url,\n                version=self.version,\n                protocol_version='0.2.5',\n                skills=self.skills,\n                default_input_modes=self.default_input_modes,\n                default_output_modes=self.default_output_modes,\n                capabilities=AgentCapabilities(\n                    streaming=False, push_notifications=False, state_transition_history=False\n                ),\n            )\n            if self.provider is not None:\n                agent_card['provider'] = self.provider\n            self._agent_card_json_schema = agent_card_ta.dump_json(agent_card, by_alias=True)\n        return Response(content=self._agent_card_json_schema, media_type='application/json')\n\n    async def _docs_endpoint(self, request: Request) -> Response:\n        \"\"\"Serve the documentation interface.\"\"\"\n        docs_path = Path(__file__).parent / 'static' / 'docs.html'\n        return FileResponse(docs_path, media_type='text/html')\n\n    async def _agent_run_endpoint(self, request: Request) -> Response:\n        \"\"\"This is the main endpoint for the A2A server.\n\n        Although the specification allows freedom of choice and implementation, I'm pretty sure about some decisions.\n\n        1. The server will always either send a \"submitted\" or a \"failed\" on `tasks/send`.\n            Never a \"completed\" on the first message.\n        2. There are three possible ends for the task:\n            2.1. The task was \"completed\" successfully.\n            2.2. The task was \"canceled\".\n            2.3. The task \"failed\".\n        3. The server will send a \"working\" on the first chunk on `tasks/pushNotification/get`.\n        \"\"\"\n        data = await request.body()\n        a2a_request = a2a_request_ta.validate_json(data)\n\n        if a2a_request['method'] == 'message/send':\n            jsonrpc_response = await self.task_manager.send_message(a2a_request)\n        elif a2a_request['method'] == 'tasks/get':\n            jsonrpc_response = await self.task_manager.get_task(a2a_request)\n        elif a2a_request['method'] == 'tasks/cancel':\n            jsonrpc_response = await self.task_manager.cancel_task(a2a_request)\n        else:\n            raise NotImplementedError(f'Method {a2a_request[\"method\"]} not implemented.')\n        return Response(\n            content=a2a_response_ta.dump_json(jsonrpc_response, by_alias=True), media_type='application/json'\n        )\n\n```\n\n### Broker\n\nBases: `ABC`\n\nThe broker class is in charge of scheduling the tasks.\n\nThe HTTP server uses the broker to schedule tasks.\n\nThe simple implementation is the `InMemoryBroker`, which is the broker that runs the tasks in the same process as the HTTP server. That said, this class can be extended to support remote workers.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/broker.py`\n\n```python\n@dataclass\nclass Broker(ABC):\n    \"\"\"The broker class is in charge of scheduling the tasks.\n\n    The HTTP server uses the broker to schedule tasks.\n\n    The simple implementation is the `InMemoryBroker`, which is the broker that\n    runs the tasks in the same process as the HTTP server. That said, this class can be\n    extended to support remote workers.\n    \"\"\"\n\n    @abstractmethod\n    async def run_task(self, params: TaskSendParams) -> None:\n        \"\"\"Send a task to be executed by the worker.\"\"\"\n        raise NotImplementedError('send_run_task is not implemented yet.')\n\n    @abstractmethod\n    async def cancel_task(self, params: TaskIdParams) -> None:\n        \"\"\"Cancel a task.\"\"\"\n        raise NotImplementedError('send_cancel_task is not implemented yet.')\n\n    @abstractmethod\n    async def __aenter__(self) -> Self: ...\n\n    @abstractmethod\n    async def __aexit__(self, exc_type: Any, exc_value: Any, traceback: Any): ...\n\n    @abstractmethod\n    def receive_task_operations(self) -> AsyncIterator[TaskOperation]:\n        \"\"\"Receive task operations from the broker.\n\n        On a multi-worker setup, the broker will need to round-robin the task operations\n        between the workers.\n        \"\"\"\n\n```\n\n#### run_task\n\n```python\nrun_task(params: TaskSendParams) -> None\n\n```\n\nSend a task to be executed by the worker.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/broker.py`\n\n```python\n@abstractmethod\nasync def run_task(self, params: TaskSendParams) -> None:\n    \"\"\"Send a task to be executed by the worker.\"\"\"\n    raise NotImplementedError('send_run_task is not implemented yet.')\n\n```\n\n#### cancel_task\n\n```python\ncancel_task(params: TaskIdParams) -> None\n\n```\n\nCancel a task.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/broker.py`\n\n```python\n@abstractmethod\nasync def cancel_task(self, params: TaskIdParams) -> None:\n    \"\"\"Cancel a task.\"\"\"\n    raise NotImplementedError('send_cancel_task is not implemented yet.')\n\n```\n\n#### receive_task_operations\n\n```python\nreceive_task_operations() -> AsyncIterator[TaskOperation]\n\n```\n\nReceive task operations from the broker.\n\nOn a multi-worker setup, the broker will need to round-robin the task operations between the workers.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/broker.py`\n\n```python\n@abstractmethod\ndef receive_task_operations(self) -> AsyncIterator[TaskOperation]:\n    \"\"\"Receive task operations from the broker.\n\n    On a multi-worker setup, the broker will need to round-robin the task operations\n    between the workers.\n    \"\"\"\n\n```\n\n### Skill\n\nBases: `TypedDict`\n\nSkills are a unit of capability that an agent can perform.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass Skill(TypedDict):\n    \"\"\"Skills are a unit of capability that an agent can perform.\"\"\"\n\n    id: str\n    \"\"\"A unique identifier for the skill.\"\"\"\n\n    name: str\n    \"\"\"Human readable name of the skill.\"\"\"\n\n    description: str\n    \"\"\"A human-readable description of the skill.\n\n    It will be used by the client or a human as a hint to understand the skill.\n    \"\"\"\n\n    tags: list[str]\n    \"\"\"Set of tag-words describing classes of capabilities for this specific skill.\n\n    Examples: \"cooking\", \"customer support\", \"billing\".\n    \"\"\"\n\n    examples: NotRequired[list[str]]\n    \"\"\"The set of example scenarios that the skill can perform.\n\n    Will be used by the client as a hint to understand how the skill can be used. (e.g. \"I need a recipe for bread\")\n    \"\"\"\n\n    input_modes: list[str]\n    \"\"\"Supported mime types for input data.\"\"\"\n\n    output_modes: list[str]\n    \"\"\"Supported mime types for output data.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nA unique identifier for the skill.\n\n#### name\n\n```python\nname: str\n\n```\n\nHuman readable name of the skill.\n\n#### description\n\n```python\ndescription: str\n\n```\n\nA human-readable description of the skill.\n\nIt will be used by the client or a human as a hint to understand the skill.\n\n#### tags\n\n```python\ntags: list[str]\n\n```\n\nSet of tag-words describing classes of capabilities for this specific skill.\n\nExamples: \"cooking\", \"customer support\", \"billing\".\n\n#### examples\n\n```python\nexamples: NotRequired[list[str]]\n\n```\n\nThe set of example scenarios that the skill can perform.\n\nWill be used by the client as a hint to understand how the skill can be used. (e.g. \"I need a recipe for bread\")\n\n#### input_modes\n\n```python\ninput_modes: list[str]\n\n```\n\nSupported mime types for input data.\n\n#### output_modes\n\n```python\noutput_modes: list[str]\n\n```\n\nSupported mime types for output data.\n\n### Storage\n\nBases: `ABC`, `Generic[ContextT]`\n\nA storage to retrieve and save tasks, as well as retrieve and save context.\n\nThe storage serves two purposes:\n\n1. Task storage: Stores tasks in A2A protocol format with their status, artifacts, and message history\n1. Context storage: Stores conversation context in a format optimized for the specific agent implementation\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/storage.py`\n\n```python\nclass Storage(ABC, Generic[ContextT]):\n    \"\"\"A storage to retrieve and save tasks, as well as retrieve and save context.\n\n    The storage serves two purposes:\n    1. Task storage: Stores tasks in A2A protocol format with their status, artifacts, and message history\n    2. Context storage: Stores conversation context in a format optimized for the specific agent implementation\n    \"\"\"\n\n    @abstractmethod\n    async def load_task(self, task_id: str, history_length: int | None = None) -> Task | None:\n        \"\"\"Load a task from storage.\n\n        If the task is not found, return None.\n        \"\"\"\n\n    @abstractmethod\n    async def submit_task(self, context_id: str, message: Message) -> Task:\n        \"\"\"Submit a task to storage.\"\"\"\n\n    @abstractmethod\n    async def update_task(\n        self,\n        task_id: str,\n        state: TaskState,\n        new_artifacts: list[Artifact] | None = None,\n        new_messages: list[Message] | None = None,\n    ) -> Task:\n        \"\"\"Update the state of a task. Appends artifacts and messages, if specified.\"\"\"\n\n    @abstractmethod\n    async def load_context(self, context_id: str) -> ContextT | None:\n        \"\"\"Retrieve the stored context given the `context_id`.\"\"\"\n\n    @abstractmethod\n    async def update_context(self, context_id: str, context: ContextT) -> None:\n        \"\"\"Updates the context for a `context_id`.\n\n        Implementing agent can decide what to store in context.\n        \"\"\"\n\n```\n\n#### load_task\n\n```python\nload_task(\n    task_id: str, history_length: int | None = None\n) -> Task | None\n\n```\n\nLoad a task from storage.\n\nIf the task is not found, return None.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/storage.py`\n\n```python\n@abstractmethod\nasync def load_task(self, task_id: str, history_length: int | None = None) -> Task | None:\n    \"\"\"Load a task from storage.\n\n    If the task is not found, return None.\n    \"\"\"\n\n```\n\n#### submit_task\n\n```python\nsubmit_task(context_id: str, message: Message) -> Task\n\n```\n\nSubmit a task to storage.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/storage.py`\n\n```python\n@abstractmethod\nasync def submit_task(self, context_id: str, message: Message) -> Task:\n    \"\"\"Submit a task to storage.\"\"\"\n\n```\n\n#### update_task\n\n```python\nupdate_task(\n    task_id: str,\n    state: TaskState,\n    new_artifacts: list[Artifact] | None = None,\n    new_messages: list[Message] | None = None,\n) -> Task\n\n```\n\nUpdate the state of a task. Appends artifacts and messages, if specified.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/storage.py`\n\n```python\n@abstractmethod\nasync def update_task(\n    self,\n    task_id: str,\n    state: TaskState,\n    new_artifacts: list[Artifact] | None = None,\n    new_messages: list[Message] | None = None,\n) -> Task:\n    \"\"\"Update the state of a task. Appends artifacts and messages, if specified.\"\"\"\n\n```\n\n#### load_context\n\n```python\nload_context(context_id: str) -> ContextT | None\n\n```\n\nRetrieve the stored context given the `context_id`.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/storage.py`\n\n```python\n@abstractmethod\nasync def load_context(self, context_id: str) -> ContextT | None:\n    \"\"\"Retrieve the stored context given the `context_id`.\"\"\"\n\n```\n\n#### update_context\n\n```python\nupdate_context(context_id: str, context: ContextT) -> None\n\n```\n\nUpdates the context for a `context_id`.\n\nImplementing agent can decide what to store in context.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/storage.py`\n\n```python\n@abstractmethod\nasync def update_context(self, context_id: str, context: ContextT) -> None:\n    \"\"\"Updates the context for a `context_id`.\n\n    Implementing agent can decide what to store in context.\n    \"\"\"\n\n```\n\n### Worker\n\nBases: `ABC`, `Generic[ContextT]`\n\nA worker is responsible for executing tasks.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/worker.py`\n\n```python\n@dataclass\nclass Worker(ABC, Generic[ContextT]):\n    \"\"\"A worker is responsible for executing tasks.\"\"\"\n\n    broker: Broker\n    storage: Storage[ContextT]\n\n    @asynccontextmanager\n    async def run(self) -> AsyncIterator[None]:\n        \"\"\"Run the worker.\n\n        It connects to the broker, and it makes itself available to receive commands.\n        \"\"\"\n        async with anyio.create_task_group() as tg:\n            tg.start_soon(self._loop)\n            yield\n            tg.cancel_scope.cancel()\n\n    async def _loop(self) -> None:\n        async for task_operation in self.broker.receive_task_operations():\n            await self._handle_task_operation(task_operation)\n\n    async def _handle_task_operation(self, task_operation: TaskOperation) -> None:\n        try:\n            with use_span(task_operation['_current_span']):\n                with tracer.start_as_current_span(\n                    f'{task_operation[\"operation\"]} task', attributes={'logfire.tags': ['fasta2a']}\n                ):\n                    if task_operation['operation'] == 'run':\n                        await self.run_task(task_operation['params'])\n                    elif task_operation['operation'] == 'cancel':\n                        await self.cancel_task(task_operation['params'])\n                    else:\n                        assert_never(task_operation)\n        except Exception:\n            await self.storage.update_task(task_operation['params']['id'], state='failed')\n\n    @abstractmethod\n    async def run_task(self, params: TaskSendParams) -> None: ...\n\n    @abstractmethod\n    async def cancel_task(self, params: TaskIdParams) -> None: ...\n\n    @abstractmethod\n    def build_message_history(self, history: list[Message]) -> list[Any]: ...\n\n    @abstractmethod\n    def build_artifacts(self, result: Any) -> list[Artifact]: ...\n\n```\n\n#### run\n\n```python\nrun() -> AsyncIterator[None]\n\n```\n\nRun the worker.\n\nIt connects to the broker, and it makes itself available to receive commands.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/worker.py`\n\n```python\n@asynccontextmanager\nasync def run(self) -> AsyncIterator[None]:\n    \"\"\"Run the worker.\n\n    It connects to the broker, and it makes itself available to receive commands.\n    \"\"\"\n    async with anyio.create_task_group() as tg:\n        tg.start_soon(self._loop)\n        yield\n        tg.cancel_scope.cancel()\n\n```\n\nThis module contains the schema for the agent card.\n\n### AgentCard\n\nBases: `TypedDict`\n\nThe card that describes an agent.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass AgentCard(TypedDict):\n    \"\"\"The card that describes an agent.\"\"\"\n\n    name: str\n    \"\"\"Human readable name of the agent e.g. \"Recipe Agent\".\"\"\"\n\n    description: str\n    \"\"\"A human-readable description of the agent.\n\n    Used to assist users and other agents in understanding what the agent can do.\n    (e.g. \"Agent that helps users with recipes and cooking.\")\n    \"\"\"\n\n    url: str\n    \"\"\"A URL to the address the agent is hosted at.\"\"\"\n\n    version: str\n    \"\"\"The version of the agent - format is up to the provider. (e.g. \"1.0.0\")\"\"\"\n\n    protocol_version: str\n    \"\"\"The version of the A2A protocol this agent supports.\"\"\"\n\n    provider: NotRequired[AgentProvider]\n    \"\"\"The service provider of the agent.\"\"\"\n\n    documentation_url: NotRequired[str]\n    \"\"\"A URL to documentation for the agent.\"\"\"\n\n    icon_url: NotRequired[str]\n    \"\"\"A URL to an icon for the agent.\"\"\"\n\n    preferred_transport: NotRequired[str]\n    \"\"\"The transport of the preferred endpoint. If empty, defaults to JSONRPC.\"\"\"\n\n    additional_interfaces: NotRequired[list[AgentInterface]]\n    \"\"\"Announcement of additional supported transports.\"\"\"\n\n    capabilities: AgentCapabilities\n    \"\"\"The capabilities of the agent.\"\"\"\n\n    security: NotRequired[list[dict[str, list[str]]]]\n    \"\"\"Security requirements for contacting the agent.\"\"\"\n\n    security_schemes: NotRequired[dict[str, SecurityScheme]]\n    \"\"\"Security scheme definitions.\"\"\"\n\n    default_input_modes: list[str]\n    \"\"\"Supported mime types for input data.\"\"\"\n\n    default_output_modes: list[str]\n    \"\"\"Supported mime types for output data.\"\"\"\n\n    skills: list[Skill]\n\n```\n\n#### name\n\n```python\nname: str\n\n```\n\nHuman readable name of the agent e.g. \"Recipe Agent\".\n\n#### description\n\n```python\ndescription: str\n\n```\n\nA human-readable description of the agent.\n\nUsed to assist users and other agents in understanding what the agent can do. (e.g. \"Agent that helps users with recipes and cooking.\")\n\n#### url\n\n```python\nurl: str\n\n```\n\nA URL to the address the agent is hosted at.\n\n#### version\n\n```python\nversion: str\n\n```\n\nThe version of the agent - format is up to the provider. (e.g. \"1.0.0\")\n\n#### protocol_version\n\n```python\nprotocol_version: str\n\n```\n\nThe version of the A2A protocol this agent supports.\n\n#### provider\n\n```python\nprovider: NotRequired[AgentProvider]\n\n```\n\nThe service provider of the agent.\n\n#### documentation_url\n\n```python\ndocumentation_url: NotRequired[str]\n\n```\n\nA URL to documentation for the agent.\n\n#### icon_url\n\n```python\nicon_url: NotRequired[str]\n\n```\n\nA URL to an icon for the agent.\n\n#### preferred_transport\n\n```python\npreferred_transport: NotRequired[str]\n\n```\n\nThe transport of the preferred endpoint. If empty, defaults to JSONRPC.\n\n#### additional_interfaces\n\n```python\nadditional_interfaces: NotRequired[list[AgentInterface]]\n\n```\n\nAnnouncement of additional supported transports.\n\n#### capabilities\n\n```python\ncapabilities: AgentCapabilities\n\n```\n\nThe capabilities of the agent.\n\n#### security\n\n```python\nsecurity: NotRequired[list[dict[str, list[str]]]]\n\n```\n\nSecurity requirements for contacting the agent.\n\n#### security_schemes\n\n```python\nsecurity_schemes: NotRequired[dict[str, SecurityScheme]]\n\n```\n\nSecurity scheme definitions.\n\n#### default_input_modes\n\n```python\ndefault_input_modes: list[str]\n\n```\n\nSupported mime types for input data.\n\n#### default_output_modes\n\n```python\ndefault_output_modes: list[str]\n\n```\n\nSupported mime types for output data.\n\n### AgentProvider\n\nBases: `TypedDict`\n\nThe service provider of the agent.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\nclass AgentProvider(TypedDict):\n    \"\"\"The service provider of the agent.\"\"\"\n\n    organization: str\n    url: str\n\n```\n\n### AgentCapabilities\n\nBases: `TypedDict`\n\nThe capabilities of the agent.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass AgentCapabilities(TypedDict):\n    \"\"\"The capabilities of the agent.\"\"\"\n\n    streaming: NotRequired[bool]\n    \"\"\"Whether the agent supports streaming.\"\"\"\n\n    push_notifications: NotRequired[bool]\n    \"\"\"Whether the agent can notify updates to client.\"\"\"\n\n    state_transition_history: NotRequired[bool]\n    \"\"\"Whether the agent exposes status change history for tasks.\"\"\"\n\n```\n\n#### streaming\n\n```python\nstreaming: NotRequired[bool]\n\n```\n\nWhether the agent supports streaming.\n\n#### push_notifications\n\n```python\npush_notifications: NotRequired[bool]\n\n```\n\nWhether the agent can notify updates to client.\n\n#### state_transition_history\n\n```python\nstate_transition_history: NotRequired[bool]\n\n```\n\nWhether the agent exposes status change history for tasks.\n\n### HttpSecurityScheme\n\nBases: `TypedDict`\n\nHTTP security scheme.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass HttpSecurityScheme(TypedDict):\n    \"\"\"HTTP security scheme.\"\"\"\n\n    type: Literal['http']\n    scheme: str\n    \"\"\"The name of the HTTP Authorization scheme.\"\"\"\n    bearer_format: NotRequired[str]\n    \"\"\"A hint to the client to identify how the bearer token is formatted.\"\"\"\n    description: NotRequired[str]\n    \"\"\"Description of this security scheme.\"\"\"\n\n```\n\n#### scheme\n\n```python\nscheme: str\n\n```\n\nThe name of the HTTP Authorization scheme.\n\n#### bearer_format\n\n```python\nbearer_format: NotRequired[str]\n\n```\n\nA hint to the client to identify how the bearer token is formatted.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nDescription of this security scheme.\n\n### ApiKeySecurityScheme\n\nBases: `TypedDict`\n\nAPI Key security scheme.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass ApiKeySecurityScheme(TypedDict):\n    \"\"\"API Key security scheme.\"\"\"\n\n    type: Literal['apiKey']\n    name: str\n    \"\"\"The name of the header, query or cookie parameter to be used.\"\"\"\n    in_: Literal['query', 'header', 'cookie']\n    \"\"\"The location of the API key.\"\"\"\n    description: NotRequired[str]\n    \"\"\"Description of this security scheme.\"\"\"\n\n```\n\n#### name\n\n```python\nname: str\n\n```\n\nThe name of the header, query or cookie parameter to be used.\n\n#### in\\_\n\n```python\nin_: Literal['query', 'header', 'cookie']\n\n```\n\nThe location of the API key.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nDescription of this security scheme.\n\n### OAuth2SecurityScheme\n\nBases: `TypedDict`\n\nOAuth2 security scheme.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass OAuth2SecurityScheme(TypedDict):\n    \"\"\"OAuth2 security scheme.\"\"\"\n\n    type: Literal['oauth2']\n    flows: dict[str, Any]\n    \"\"\"An object containing configuration information for the flow types supported.\"\"\"\n    description: NotRequired[str]\n    \"\"\"Description of this security scheme.\"\"\"\n\n```\n\n#### flows\n\n```python\nflows: dict[str, Any]\n\n```\n\nAn object containing configuration information for the flow types supported.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nDescription of this security scheme.\n\n### OpenIdConnectSecurityScheme\n\nBases: `TypedDict`\n\nOpenID Connect security scheme.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass OpenIdConnectSecurityScheme(TypedDict):\n    \"\"\"OpenID Connect security scheme.\"\"\"\n\n    type: Literal['openIdConnect']\n    open_id_connect_url: str\n    \"\"\"OpenId Connect URL to discover OAuth2 configuration values.\"\"\"\n    description: NotRequired[str]\n    \"\"\"Description of this security scheme.\"\"\"\n\n```\n\n#### open_id_connect_url\n\n```python\nopen_id_connect_url: str\n\n```\n\nOpenId Connect URL to discover OAuth2 configuration values.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nDescription of this security scheme.\n\n### SecurityScheme\n\n```python\nSecurityScheme = Annotated[\n    Union[\n        HttpSecurityScheme,\n        ApiKeySecurityScheme,\n        OAuth2SecurityScheme,\n        OpenIdConnectSecurityScheme,\n    ],\n    Field(discriminator=\"type\"),\n]\n\n```\n\nA security scheme for authentication.\n\n### AgentInterface\n\nBases: `TypedDict`\n\nAn interface that the agent supports.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass AgentInterface(TypedDict):\n    \"\"\"An interface that the agent supports.\"\"\"\n\n    transport: str\n    \"\"\"The transport protocol (e.g., 'jsonrpc', 'websocket').\"\"\"\n\n    url: str\n    \"\"\"The URL endpoint for this transport.\"\"\"\n\n    description: NotRequired[str]\n    \"\"\"Description of this interface.\"\"\"\n\n```\n\n#### transport\n\n```python\ntransport: str\n\n```\n\nThe transport protocol (e.g., 'jsonrpc', 'websocket').\n\n#### url\n\n```python\nurl: str\n\n```\n\nThe URL endpoint for this transport.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nDescription of this interface.\n\n### AgentExtension\n\nBases: `TypedDict`\n\nA declaration of an extension supported by an Agent.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass AgentExtension(TypedDict):\n    \"\"\"A declaration of an extension supported by an Agent.\"\"\"\n\n    uri: str\n    \"\"\"The URI of the extension.\"\"\"\n\n    description: NotRequired[str]\n    \"\"\"A description of how this agent uses this extension.\"\"\"\n\n    required: NotRequired[bool]\n    \"\"\"Whether the client must follow specific requirements of the extension.\"\"\"\n\n    params: NotRequired[dict[str, Any]]\n    \"\"\"Optional configuration for the extension.\"\"\"\n\n```\n\n#### uri\n\n```python\nuri: str\n\n```\n\nThe URI of the extension.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nA description of how this agent uses this extension.\n\n#### required\n\n```python\nrequired: NotRequired[bool]\n\n```\n\nWhether the client must follow specific requirements of the extension.\n\n#### params\n\n```python\nparams: NotRequired[dict[str, Any]]\n\n```\n\nOptional configuration for the extension.\n\n### Skill\n\nBases: `TypedDict`\n\nSkills are a unit of capability that an agent can perform.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass Skill(TypedDict):\n    \"\"\"Skills are a unit of capability that an agent can perform.\"\"\"\n\n    id: str\n    \"\"\"A unique identifier for the skill.\"\"\"\n\n    name: str\n    \"\"\"Human readable name of the skill.\"\"\"\n\n    description: str\n    \"\"\"A human-readable description of the skill.\n\n    It will be used by the client or a human as a hint to understand the skill.\n    \"\"\"\n\n    tags: list[str]\n    \"\"\"Set of tag-words describing classes of capabilities for this specific skill.\n\n    Examples: \"cooking\", \"customer support\", \"billing\".\n    \"\"\"\n\n    examples: NotRequired[list[str]]\n    \"\"\"The set of example scenarios that the skill can perform.\n\n    Will be used by the client as a hint to understand how the skill can be used. (e.g. \"I need a recipe for bread\")\n    \"\"\"\n\n    input_modes: list[str]\n    \"\"\"Supported mime types for input data.\"\"\"\n\n    output_modes: list[str]\n    \"\"\"Supported mime types for output data.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nA unique identifier for the skill.\n\n#### name\n\n```python\nname: str\n\n```\n\nHuman readable name of the skill.\n\n#### description\n\n```python\ndescription: str\n\n```\n\nA human-readable description of the skill.\n\nIt will be used by the client or a human as a hint to understand the skill.\n\n#### tags\n\n```python\ntags: list[str]\n\n```\n\nSet of tag-words describing classes of capabilities for this specific skill.\n\nExamples: \"cooking\", \"customer support\", \"billing\".\n\n#### examples\n\n```python\nexamples: NotRequired[list[str]]\n\n```\n\nThe set of example scenarios that the skill can perform.\n\nWill be used by the client as a hint to understand how the skill can be used. (e.g. \"I need a recipe for bread\")\n\n#### input_modes\n\n```python\ninput_modes: list[str]\n\n```\n\nSupported mime types for input data.\n\n#### output_modes\n\n```python\noutput_modes: list[str]\n\n```\n\nSupported mime types for output data.\n\n### Artifact\n\nBases: `TypedDict`\n\nAgents generate Artifacts as an end result of a Task.\n\nArtifacts are immutable, can be named, and can have multiple parts. A streaming response can append parts to existing Artifacts.\n\nA single Task can generate many Artifacts. For example, \"create a webpage\" could create separate HTML and image Artifacts.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass Artifact(TypedDict):\n    \"\"\"Agents generate Artifacts as an end result of a Task.\n\n    Artifacts are immutable, can be named, and can have multiple parts. A streaming response can append parts to\n    existing Artifacts.\n\n    A single Task can generate many Artifacts. For example, \"create a webpage\" could create separate HTML and image\n    Artifacts.\n    \"\"\"\n\n    artifact_id: str\n    \"\"\"Unique identifier for the artifact.\"\"\"\n\n    name: NotRequired[str]\n    \"\"\"The name of the artifact.\"\"\"\n\n    description: NotRequired[str]\n    \"\"\"A description of the artifact.\"\"\"\n\n    parts: list[Part]\n    \"\"\"The parts that make up the artifact.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Metadata about the artifact.\"\"\"\n\n    extensions: NotRequired[list[str]]\n    \"\"\"Array of extensions.\"\"\"\n\n    append: NotRequired[bool]\n    \"\"\"Whether to append this artifact to an existing one.\"\"\"\n\n    last_chunk: NotRequired[bool]\n    \"\"\"Whether this is the last chunk of the artifact.\"\"\"\n\n```\n\n#### artifact_id\n\n```python\nartifact_id: str\n\n```\n\nUnique identifier for the artifact.\n\n#### name\n\n```python\nname: NotRequired[str]\n\n```\n\nThe name of the artifact.\n\n#### description\n\n```python\ndescription: NotRequired[str]\n\n```\n\nA description of the artifact.\n\n#### parts\n\n```python\nparts: list[Part]\n\n```\n\nThe parts that make up the artifact.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nMetadata about the artifact.\n\n#### extensions\n\n```python\nextensions: NotRequired[list[str]]\n\n```\n\nArray of extensions.\n\n#### append\n\n```python\nappend: NotRequired[bool]\n\n```\n\nWhether to append this artifact to an existing one.\n\n#### last_chunk\n\n```python\nlast_chunk: NotRequired[bool]\n\n```\n\nWhether this is the last chunk of the artifact.\n\n### PushNotificationConfig\n\nBases: `TypedDict`\n\nConfiguration for push notifications.\n\nA2A supports a secure notification mechanism whereby an agent can notify a client of an update outside of a connected session via a PushNotificationService. Within and across enterprises, it is critical that the agent verifies the identity of the notification service, authenticates itself with the service, and presents an identifier that ties the notification to the executing Task.\n\nThe target server of the PushNotificationService should be considered a separate service, and is not guaranteed (or even expected) to be the client directly. This PushNotificationService is responsible for authenticating and authorizing the agent and for proxying the verified notification to the appropriate endpoint (which could be anything from a pub/sub queue, to an email inbox or other service, etc).\n\nFor contrived scenarios with isolated client-agent pairs (e.g. local service mesh in a contained VPC, etc.) or isolated environments without enterprise security concerns, the client may choose to simply open a port and act as its own PushNotificationService. Any enterprise implementation will likely have a centralized service that authenticates the remote agents with trusted notification credentials and can handle online/offline scenarios. (This should be thought of similarly to a mobile Push Notification Service).\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass PushNotificationConfig(TypedDict):\n    \"\"\"Configuration for push notifications.\n\n    A2A supports a secure notification mechanism whereby an agent can notify a client of an update\n    outside of a connected session via a PushNotificationService. Within and across enterprises,\n    it is critical that the agent verifies the identity of the notification service, authenticates\n    itself with the service, and presents an identifier that ties the notification to the executing\n    Task.\n\n    The target server of the PushNotificationService should be considered a separate service, and\n    is not guaranteed (or even expected) to be the client directly. This PushNotificationService is\n    responsible for authenticating and authorizing the agent and for proxying the verified notification\n    to the appropriate endpoint (which could be anything from a pub/sub queue, to an email inbox or\n    other service, etc).\n\n    For contrived scenarios with isolated client-agent pairs (e.g. local service mesh in a contained\n    VPC, etc.) or isolated environments without enterprise security concerns, the client may choose to\n    simply open a port and act as its own PushNotificationService. Any enterprise implementation will\n    likely have a centralized service that authenticates the remote agents with trusted notification\n    credentials and can handle online/offline scenarios. (This should be thought of similarly to a\n    mobile Push Notification Service).\n    \"\"\"\n\n    id: NotRequired[str]\n    \"\"\"Server-assigned identifier.\"\"\"\n\n    url: str\n    \"\"\"The URL to send push notifications to.\"\"\"\n\n    token: NotRequired[str]\n    \"\"\"Token unique to this task/session.\"\"\"\n\n    authentication: NotRequired[SecurityScheme]\n    \"\"\"Authentication details for push notifications.\"\"\"\n\n```\n\n#### id\n\n```python\nid: NotRequired[str]\n\n```\n\nServer-assigned identifier.\n\n#### url\n\n```python\nurl: str\n\n```\n\nThe URL to send push notifications to.\n\n#### token\n\n```python\ntoken: NotRequired[str]\n\n```\n\nToken unique to this task/session.\n\n#### authentication\n\n```python\nauthentication: NotRequired[SecurityScheme]\n\n```\n\nAuthentication details for push notifications.\n\n### TaskPushNotificationConfig\n\nBases: `TypedDict`\n\nConfiguration for task push notifications.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskPushNotificationConfig(TypedDict):\n    \"\"\"Configuration for task push notifications.\"\"\"\n\n    id: str\n    \"\"\"The task id.\"\"\"\n\n    push_notification_config: PushNotificationConfig\n    \"\"\"The push notification configuration.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nThe task id.\n\n#### push_notification_config\n\n```python\npush_notification_config: PushNotificationConfig\n\n```\n\nThe push notification configuration.\n\n### Message\n\nBases: `TypedDict`\n\nA Message contains any content that is not an Artifact.\n\nThis can include things like agent thoughts, user context, instructions, errors, status, or metadata.\n\nAll content from a client comes in the form of a Message. Agents send Messages to communicate status or to provide instructions (whereas generated results are sent as Artifacts).\n\nA Message can have multiple parts to denote different pieces of content. For example, a user request could include a textual description from a user and then multiple files used as context from the client.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass Message(TypedDict):\n    \"\"\"A Message contains any content that is not an Artifact.\n\n    This can include things like agent thoughts, user context, instructions, errors, status, or metadata.\n\n    All content from a client comes in the form of a Message. Agents send Messages to communicate status or to provide\n    instructions (whereas generated results are sent as Artifacts).\n\n    A Message can have multiple parts to denote different pieces of content. For example, a user request could include\n    a textual description from a user and then multiple files used as context from the client.\n    \"\"\"\n\n    role: Literal['user', 'agent']\n    \"\"\"The role of the message.\"\"\"\n\n    parts: list[Part]\n    \"\"\"The parts of the message.\"\"\"\n\n    kind: Literal['message']\n    \"\"\"Event type.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Metadata about the message.\"\"\"\n\n    # Additional fields\n    message_id: str\n    \"\"\"Identifier created by the message creator.\"\"\"\n\n    context_id: NotRequired[str]\n    \"\"\"The context the message is associated with.\"\"\"\n\n    task_id: NotRequired[str]\n    \"\"\"Identifier of task the message is related to.\"\"\"\n\n    reference_task_ids: NotRequired[list[str]]\n    \"\"\"Array of task IDs this message references.\"\"\"\n\n    extensions: NotRequired[list[str]]\n    \"\"\"Array of extensions.\"\"\"\n\n```\n\n#### role\n\n```python\nrole: Literal['user', 'agent']\n\n```\n\nThe role of the message.\n\n#### parts\n\n```python\nparts: list[Part]\n\n```\n\nThe parts of the message.\n\n#### kind\n\n```python\nkind: Literal['message']\n\n```\n\nEvent type.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nMetadata about the message.\n\n#### message_id\n\n```python\nmessage_id: str\n\n```\n\nIdentifier created by the message creator.\n\n#### context_id\n\n```python\ncontext_id: NotRequired[str]\n\n```\n\nThe context the message is associated with.\n\n#### task_id\n\n```python\ntask_id: NotRequired[str]\n\n```\n\nIdentifier of task the message is related to.\n\n#### reference_task_ids\n\n```python\nreference_task_ids: NotRequired[list[str]]\n\n```\n\nArray of task IDs this message references.\n\n#### extensions\n\n```python\nextensions: NotRequired[list[str]]\n\n```\n\nArray of extensions.\n\n### TextPart\n\nBases: `_BasePart`\n\nA part that contains text.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TextPart(_BasePart):\n    \"\"\"A part that contains text.\"\"\"\n\n    kind: Literal['text']\n    \"\"\"The kind of the part.\"\"\"\n\n    text: str\n    \"\"\"The text of the part.\"\"\"\n\n```\n\n#### kind\n\n```python\nkind: Literal['text']\n\n```\n\nThe kind of the part.\n\n#### text\n\n```python\ntext: str\n\n```\n\nThe text of the part.\n\n### FileWithBytes\n\nBases: `TypedDict`\n\nFile with base64 encoded data.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass FileWithBytes(TypedDict):\n    \"\"\"File with base64 encoded data.\"\"\"\n\n    bytes: str\n    \"\"\"The base64 encoded content of the file.\"\"\"\n\n    mime_type: NotRequired[str]\n    \"\"\"Optional mime type for the file.\"\"\"\n\n```\n\n#### bytes\n\n```python\nbytes: str\n\n```\n\nThe base64 encoded content of the file.\n\n#### mime_type\n\n```python\nmime_type: NotRequired[str]\n\n```\n\nOptional mime type for the file.\n\n### FileWithUri\n\nBases: `TypedDict`\n\nFile with URI reference.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass FileWithUri(TypedDict):\n    \"\"\"File with URI reference.\"\"\"\n\n    uri: str\n    \"\"\"The URI of the file.\"\"\"\n\n    mime_type: NotRequired[str]\n    \"\"\"The mime type of the file.\"\"\"\n\n```\n\n#### uri\n\n```python\nuri: str\n\n```\n\nThe URI of the file.\n\n#### mime_type\n\n```python\nmime_type: NotRequired[str]\n\n```\n\nThe mime type of the file.\n\n### FilePart\n\nBases: `_BasePart`\n\nA part that contains a file.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass FilePart(_BasePart):\n    \"\"\"A part that contains a file.\"\"\"\n\n    kind: Literal['file']\n    \"\"\"The kind of the part.\"\"\"\n\n    file: FileWithBytes | FileWithUri\n    \"\"\"The file content - either bytes or URI.\"\"\"\n\n```\n\n#### kind\n\n```python\nkind: Literal['file']\n\n```\n\nThe kind of the part.\n\n#### file\n\n```python\nfile: FileWithBytes | FileWithUri\n\n```\n\nThe file content - either bytes or URI.\n\n### DataPart\n\nBases: `_BasePart`\n\nA part that contains structured data.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass DataPart(_BasePart):\n    \"\"\"A part that contains structured data.\"\"\"\n\n    kind: Literal['data']\n    \"\"\"The kind of the part.\"\"\"\n\n    data: dict[str, Any]\n    \"\"\"The data of the part.\"\"\"\n\n```\n\n#### kind\n\n```python\nkind: Literal['data']\n\n```\n\nThe kind of the part.\n\n#### data\n\n```python\ndata: dict[str, Any]\n\n```\n\nThe data of the part.\n\n### Part\n\n```python\nPart = Annotated[\n    Union[TextPart, FilePart, DataPart],\n    Field(discriminator=\"kind\"),\n]\n\n```\n\nA fully formed piece of content exchanged between a client and a remote agent as part of a Message or an Artifact.\n\nEach Part has its own content type and metadata.\n\n### TaskState\n\n```python\nTaskState: TypeAlias = Literal[\n    \"submitted\",\n    \"working\",\n    \"input-required\",\n    \"completed\",\n    \"canceled\",\n    \"failed\",\n    \"rejected\",\n    \"auth-required\",\n    \"unknown\",\n]\n\n```\n\nThe possible states of a task.\n\n### TaskStatus\n\nBases: `TypedDict`\n\nStatus and accompanying message for a task.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskStatus(TypedDict):\n    \"\"\"Status and accompanying message for a task.\"\"\"\n\n    state: TaskState\n    \"\"\"The current state of the task.\"\"\"\n\n    message: NotRequired[Message]\n    \"\"\"Additional status updates for client.\"\"\"\n\n    timestamp: NotRequired[str]\n    \"\"\"ISO datetime value of when the status was updated.\"\"\"\n\n```\n\n#### state\n\n```python\nstate: TaskState\n\n```\n\nThe current state of the task.\n\n#### message\n\n```python\nmessage: NotRequired[Message]\n\n```\n\nAdditional status updates for client.\n\n#### timestamp\n\n```python\ntimestamp: NotRequired[str]\n\n```\n\nISO datetime value of when the status was updated.\n\n### Task\n\nBases: `TypedDict`\n\nA Task is a stateful entity that allows Clients and Remote Agents to achieve a specific outcome.\n\nClients and Remote Agents exchange Messages within a Task. Remote Agents generate results as Artifacts. A Task is always created by a Client and the status is always determined by the Remote Agent.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass Task(TypedDict):\n    \"\"\"A Task is a stateful entity that allows Clients and Remote Agents to achieve a specific outcome.\n\n    Clients and Remote Agents exchange Messages within a Task. Remote Agents generate results as Artifacts.\n    A Task is always created by a Client and the status is always determined by the Remote Agent.\n    \"\"\"\n\n    id: str\n    \"\"\"Unique identifier for the task.\"\"\"\n\n    context_id: str\n    \"\"\"The context the task is associated with.\"\"\"\n\n    kind: Literal['task']\n    \"\"\"Event type.\"\"\"\n\n    status: TaskStatus\n    \"\"\"Current status of the task.\"\"\"\n\n    history: NotRequired[list[Message]]\n    \"\"\"Optional history of messages.\"\"\"\n\n    artifacts: NotRequired[list[Artifact]]\n    \"\"\"Collection of artifacts created by the agent.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nUnique identifier for the task.\n\n#### context_id\n\n```python\ncontext_id: str\n\n```\n\nThe context the task is associated with.\n\n#### kind\n\n```python\nkind: Literal['task']\n\n```\n\nEvent type.\n\n#### status\n\n```python\nstatus: TaskStatus\n\n```\n\nCurrent status of the task.\n\n#### history\n\n```python\nhistory: NotRequired[list[Message]]\n\n```\n\nOptional history of messages.\n\n#### artifacts\n\n```python\nartifacts: NotRequired[list[Artifact]]\n\n```\n\nCollection of artifacts created by the agent.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### TaskStatusUpdateEvent\n\nBases: `TypedDict`\n\nSent by server during message/stream requests.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskStatusUpdateEvent(TypedDict):\n    \"\"\"Sent by server during message/stream requests.\"\"\"\n\n    task_id: str\n    \"\"\"The id of the task.\"\"\"\n\n    context_id: str\n    \"\"\"The context the task is associated with.\"\"\"\n\n    kind: Literal['status-update']\n    \"\"\"Event type.\"\"\"\n\n    status: TaskStatus\n    \"\"\"The status of the task.\"\"\"\n\n    final: bool\n    \"\"\"Indicates the end of the event stream.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### task_id\n\n```python\ntask_id: str\n\n```\n\nThe id of the task.\n\n#### context_id\n\n```python\ncontext_id: str\n\n```\n\nThe context the task is associated with.\n\n#### kind\n\n```python\nkind: Literal['status-update']\n\n```\n\nEvent type.\n\n#### status\n\n```python\nstatus: TaskStatus\n\n```\n\nThe status of the task.\n\n#### final\n\n```python\nfinal: bool\n\n```\n\nIndicates the end of the event stream.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### TaskArtifactUpdateEvent\n\nBases: `TypedDict`\n\nSent by server during message/stream requests.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskArtifactUpdateEvent(TypedDict):\n    \"\"\"Sent by server during message/stream requests.\"\"\"\n\n    task_id: str\n    \"\"\"The id of the task.\"\"\"\n\n    context_id: str\n    \"\"\"The context the task is associated with.\"\"\"\n\n    kind: Literal['artifact-update']\n    \"\"\"Event type identification.\"\"\"\n\n    artifact: Artifact\n    \"\"\"The artifact that was updated.\"\"\"\n\n    append: NotRequired[bool]\n    \"\"\"Whether to append to existing artifact (true) or replace (false).\"\"\"\n\n    last_chunk: NotRequired[bool]\n    \"\"\"Indicates this is the final chunk of the artifact.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### task_id\n\n```python\ntask_id: str\n\n```\n\nThe id of the task.\n\n#### context_id\n\n```python\ncontext_id: str\n\n```\n\nThe context the task is associated with.\n\n#### kind\n\n```python\nkind: Literal['artifact-update']\n\n```\n\nEvent type identification.\n\n#### artifact\n\n```python\nartifact: Artifact\n\n```\n\nThe artifact that was updated.\n\n#### append\n\n```python\nappend: NotRequired[bool]\n\n```\n\nWhether to append to existing artifact (true) or replace (false).\n\n#### last_chunk\n\n```python\nlast_chunk: NotRequired[bool]\n\n```\n\nIndicates this is the final chunk of the artifact.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### TaskIdParams\n\nBases: `TypedDict`\n\nParameters for a task id.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskIdParams(TypedDict):\n    \"\"\"Parameters for a task id.\"\"\"\n\n    id: str\n    metadata: NotRequired[dict[str, Any]]\n\n```\n\n### TaskQueryParams\n\nBases: `TaskIdParams`\n\nQuery parameters for a task.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskQueryParams(TaskIdParams):\n    \"\"\"Query parameters for a task.\"\"\"\n\n    history_length: NotRequired[int]\n    \"\"\"Number of recent messages to be retrieved.\"\"\"\n\n```\n\n#### history_length\n\n```python\nhistory_length: NotRequired[int]\n\n```\n\nNumber of recent messages to be retrieved.\n\n### MessageSendConfiguration\n\nBases: `TypedDict`\n\nConfiguration for the send message request.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass MessageSendConfiguration(TypedDict):\n    \"\"\"Configuration for the send message request.\"\"\"\n\n    accepted_output_modes: list[str]\n    \"\"\"Accepted output modalities by the client.\"\"\"\n\n    blocking: NotRequired[bool]\n    \"\"\"If the server should treat the client as a blocking request.\"\"\"\n\n    history_length: NotRequired[int]\n    \"\"\"Number of recent messages to be retrieved.\"\"\"\n\n    push_notification_config: NotRequired[PushNotificationConfig]\n    \"\"\"Where the server should send notifications when disconnected.\"\"\"\n\n```\n\n#### accepted_output_modes\n\n```python\naccepted_output_modes: list[str]\n\n```\n\nAccepted output modalities by the client.\n\n#### blocking\n\n```python\nblocking: NotRequired[bool]\n\n```\n\nIf the server should treat the client as a blocking request.\n\n#### history_length\n\n```python\nhistory_length: NotRequired[int]\n\n```\n\nNumber of recent messages to be retrieved.\n\n#### push_notification_config\n\n```python\npush_notification_config: NotRequired[\n    PushNotificationConfig\n]\n\n```\n\nWhere the server should send notifications when disconnected.\n\n### MessageSendParams\n\nBases: `TypedDict`\n\nParameters for message/send method.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass MessageSendParams(TypedDict):\n    \"\"\"Parameters for message/send method.\"\"\"\n\n    configuration: NotRequired[MessageSendConfiguration]\n    \"\"\"Send message configuration.\"\"\"\n\n    message: Message\n    \"\"\"The message being sent to the server.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### configuration\n\n```python\nconfiguration: NotRequired[MessageSendConfiguration]\n\n```\n\nSend message configuration.\n\n#### message\n\n```python\nmessage: Message\n\n```\n\nThe message being sent to the server.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### TaskSendParams\n\nBases: `TypedDict`\n\nInternal parameters for task execution within the framework.\n\nNote: This is not part of the A2A protocol - it's used internally for broker/worker communication.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass TaskSendParams(TypedDict):\n    \"\"\"Internal parameters for task execution within the framework.\n\n    Note: This is not part of the A2A protocol - it's used internally\n    for broker/worker communication.\n    \"\"\"\n\n    id: str\n    \"\"\"The id of the task.\"\"\"\n\n    context_id: str\n    \"\"\"The context id for the task.\"\"\"\n\n    message: Message\n    \"\"\"The message to process.\"\"\"\n\n    history_length: NotRequired[int]\n    \"\"\"Number of recent messages to be retrieved.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nThe id of the task.\n\n#### context_id\n\n```python\ncontext_id: str\n\n```\n\nThe context id for the task.\n\n#### message\n\n```python\nmessage: Message\n\n```\n\nThe message to process.\n\n#### history_length\n\n```python\nhistory_length: NotRequired[int]\n\n```\n\nNumber of recent messages to be retrieved.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### ListTaskPushNotificationConfigParams\n\nBases: `TypedDict`\n\nParameters for getting list of pushNotificationConfigurations associated with a Task.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass ListTaskPushNotificationConfigParams(TypedDict):\n    \"\"\"Parameters for getting list of pushNotificationConfigurations associated with a Task.\"\"\"\n\n    id: str\n    \"\"\"Task id.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nTask id.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### DeleteTaskPushNotificationConfigParams\n\nBases: `TypedDict`\n\nParameters for removing pushNotificationConfiguration associated with a Task.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\n@pydantic.with_config({'alias_generator': to_camel})\nclass DeleteTaskPushNotificationConfigParams(TypedDict):\n    \"\"\"Parameters for removing pushNotificationConfiguration associated with a Task.\"\"\"\n\n    id: str\n    \"\"\"Task id.\"\"\"\n\n    push_notification_config_id: str\n    \"\"\"The push notification config id to delete.\"\"\"\n\n    metadata: NotRequired[dict[str, Any]]\n    \"\"\"Extension metadata.\"\"\"\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nTask id.\n\n#### push_notification_config_id\n\n```python\npush_notification_config_id: str\n\n```\n\nThe push notification config id to delete.\n\n#### metadata\n\n```python\nmetadata: NotRequired[dict[str, Any]]\n\n```\n\nExtension metadata.\n\n### JSONRPCMessage\n\nBases: `TypedDict`\n\nA JSON RPC message.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\nclass JSONRPCMessage(TypedDict):\n    \"\"\"A JSON RPC message.\"\"\"\n\n    jsonrpc: Literal['2.0']\n    \"\"\"The JSON RPC version.\"\"\"\n\n    id: int | str | None\n    \"\"\"The request id.\"\"\"\n\n```\n\n#### jsonrpc\n\n```python\njsonrpc: Literal['2.0']\n\n```\n\nThe JSON RPC version.\n\n#### id\n\n```python\nid: int | str | None\n\n```\n\nThe request id.\n\n### JSONRPCRequest\n\nBases: `JSONRPCMessage`, `Generic[Method, Params]`\n\nA JSON RPC request.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\nclass JSONRPCRequest(JSONRPCMessage, Generic[Method, Params]):\n    \"\"\"A JSON RPC request.\"\"\"\n\n    method: Method\n    \"\"\"The method to call.\"\"\"\n\n    params: Params\n    \"\"\"The parameters to pass to the method.\"\"\"\n\n```\n\n#### method\n\n```python\nmethod: Method\n\n```\n\nThe method to call.\n\n#### params\n\n```python\nparams: Params\n\n```\n\nThe parameters to pass to the method.\n\n### JSONRPCError\n\nBases: `TypedDict`, `Generic[CodeT, MessageT]`\n\nA JSON RPC error.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\nclass JSONRPCError(TypedDict, Generic[CodeT, MessageT]):\n    \"\"\"A JSON RPC error.\"\"\"\n\n    code: CodeT\n    message: MessageT\n    data: NotRequired[Any]\n\n```\n\n### JSONRPCResponse\n\nBases: `JSONRPCMessage`, `Generic[ResultT, ErrorT]`\n\nA JSON RPC response.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/schema.py`\n\n```python\nclass JSONRPCResponse(JSONRPCMessage, Generic[ResultT, ErrorT]):\n    \"\"\"A JSON RPC response.\"\"\"\n\n    result: NotRequired[ResultT]\n    error: NotRequired[ErrorT]\n\n```\n\n### JSONParseError\n\n```python\nJSONParseError = JSONRPCError[\n    Literal[-32700], Literal[\"Invalid JSON payload\"]\n]\n\n```\n\nA JSON RPC error for a parse error.\n\n### InvalidRequestError\n\n```python\nInvalidRequestError = JSONRPCError[\n    Literal[-32600],\n    Literal[\"Request payload validation error\"],\n]\n\n```\n\nA JSON RPC error for an invalid request.\n\n### MethodNotFoundError\n\n```python\nMethodNotFoundError = JSONRPCError[\n    Literal[-32601], Literal[\"Method not found\"]\n]\n\n```\n\nA JSON RPC error for a method not found.\n\n### InvalidParamsError\n\n```python\nInvalidParamsError = JSONRPCError[\n    Literal[-32602], Literal[\"Invalid parameters\"]\n]\n\n```\n\nA JSON RPC error for invalid parameters.\n\n### InternalError\n\n```python\nInternalError = JSONRPCError[\n    Literal[-32603], Literal[\"Internal error\"]\n]\n\n```\n\nA JSON RPC error for an internal error.\n\n### TaskNotFoundError\n\n```python\nTaskNotFoundError = JSONRPCError[\n    Literal[-32001], Literal[\"Task not found\"]\n]\n\n```\n\nA JSON RPC error for a task not found.\n\n### TaskNotCancelableError\n\n```python\nTaskNotCancelableError = JSONRPCError[\n    Literal[-32002], Literal[\"Task not cancelable\"]\n]\n\n```\n\nA JSON RPC error for a task not cancelable.\n\n### PushNotificationNotSupportedError\n\n```python\nPushNotificationNotSupportedError = JSONRPCError[\n    Literal[-32003],\n    Literal[\"Push notification not supported\"],\n]\n\n```\n\nA JSON RPC error for a push notification not supported.\n\n### UnsupportedOperationError\n\n```python\nUnsupportedOperationError = JSONRPCError[\n    Literal[-32004],\n    Literal[\"This operation is not supported\"],\n]\n\n```\n\nA JSON RPC error for an unsupported operation.\n\n### ContentTypeNotSupportedError\n\n```python\nContentTypeNotSupportedError = JSONRPCError[\n    Literal[-32005], Literal[\"Incompatible content types\"]\n]\n\n```\n\nA JSON RPC error for incompatible content types.\n\n### InvalidAgentResponseError\n\n```python\nInvalidAgentResponseError = JSONRPCError[\n    Literal[-32006], Literal[\"Invalid agent response\"]\n]\n\n```\n\nA JSON RPC error for invalid agent response.\n\n### SendMessageRequest\n\n```python\nSendMessageRequest = JSONRPCRequest[\n    Literal[\"message/send\"], MessageSendParams\n]\n\n```\n\nA JSON RPC request to send a message.\n\n### SendMessageResponse\n\n```python\nSendMessageResponse = JSONRPCResponse[\n    Union[Task, Message], JSONRPCError[Any, Any]\n]\n\n```\n\nA JSON RPC response to send a message.\n\n### StreamMessageRequest\n\n```python\nStreamMessageRequest = JSONRPCRequest[\n    Literal[\"message/stream\"], MessageSendParams\n]\n\n```\n\nA JSON RPC request to stream a message.\n\n### GetTaskRequest\n\n```python\nGetTaskRequest = JSONRPCRequest[\n    Literal[\"tasks/get\"], TaskQueryParams\n]\n\n```\n\nA JSON RPC request to get a task.\n\n### GetTaskResponse\n\n```python\nGetTaskResponse = JSONRPCResponse[Task, TaskNotFoundError]\n\n```\n\nA JSON RPC response to get a task.\n\n### CancelTaskRequest\n\n```python\nCancelTaskRequest = JSONRPCRequest[\n    Literal[\"tasks/cancel\"], TaskIdParams\n]\n\n```\n\nA JSON RPC request to cancel a task.\n\n### CancelTaskResponse\n\n```python\nCancelTaskResponse = JSONRPCResponse[\n    Task, Union[TaskNotCancelableError, TaskNotFoundError]\n]\n\n```\n\nA JSON RPC response to cancel a task.\n\n### SetTaskPushNotificationRequest\n\n```python\nSetTaskPushNotificationRequest = JSONRPCRequest[\n    Literal[\"tasks/pushNotification/set\"],\n    TaskPushNotificationConfig,\n]\n\n```\n\nA JSON RPC request to set a task push notification.\n\n### SetTaskPushNotificationResponse\n\n```python\nSetTaskPushNotificationResponse = JSONRPCResponse[\n    TaskPushNotificationConfig,\n    PushNotificationNotSupportedError,\n]\n\n```\n\nA JSON RPC response to set a task push notification.\n\n### GetTaskPushNotificationRequest\n\n```python\nGetTaskPushNotificationRequest = JSONRPCRequest[\n    Literal[\"tasks/pushNotification/get\"], TaskIdParams\n]\n\n```\n\nA JSON RPC request to get a task push notification.\n\n### GetTaskPushNotificationResponse\n\n```python\nGetTaskPushNotificationResponse = JSONRPCResponse[\n    TaskPushNotificationConfig,\n    PushNotificationNotSupportedError,\n]\n\n```\n\nA JSON RPC response to get a task push notification.\n\n### ResubscribeTaskRequest\n\n```python\nResubscribeTaskRequest = JSONRPCRequest[\n    Literal[\"tasks/resubscribe\"], TaskIdParams\n]\n\n```\n\nA JSON RPC request to resubscribe to a task.\n\n### ListTaskPushNotificationConfigRequest\n\n```python\nListTaskPushNotificationConfigRequest = JSONRPCRequest[\n    Literal[\"tasks/pushNotificationConfig/list\"],\n    ListTaskPushNotificationConfigParams,\n]\n\n```\n\nA JSON RPC request to list task push notification configs.\n\n### DeleteTaskPushNotificationConfigRequest\n\n```python\nDeleteTaskPushNotificationConfigRequest = JSONRPCRequest[\n    Literal[\"tasks/pushNotificationConfig/delete\"],\n    DeleteTaskPushNotificationConfigParams,\n]\n\n```\n\nA JSON RPC request to delete a task push notification config.\n\n### A2ARequest\n\n```python\nA2ARequest = Annotated[\n    Union[\n        SendMessageRequest,\n        StreamMessageRequest,\n        GetTaskRequest,\n        CancelTaskRequest,\n        SetTaskPushNotificationRequest,\n        GetTaskPushNotificationRequest,\n        ResubscribeTaskRequest,\n        ListTaskPushNotificationConfigRequest,\n        DeleteTaskPushNotificationConfigRequest,\n    ],\n    Discriminator(\"method\"),\n]\n\n```\n\nA JSON RPC request to the A2A server.\n\n### A2AResponse\n\n```python\nA2AResponse: TypeAlias = Union[\n    SendMessageResponse,\n    GetTaskResponse,\n    CancelTaskResponse,\n    SetTaskPushNotificationResponse,\n    GetTaskPushNotificationResponse,\n]\n\n```\n\nA JSON RPC response from the A2A server.\n\n### A2AClient\n\nA client for the A2A protocol.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/client.py`\n\n```python\nclass A2AClient:\n    \"\"\"A client for the A2A protocol.\"\"\"\n\n    def __init__(self, base_url: str = 'http://localhost:8000', http_client: httpx.AsyncClient | None = None) -> None:\n        if http_client is None:\n            self.http_client = httpx.AsyncClient(base_url=base_url)\n        else:\n            self.http_client = http_client\n            self.http_client.base_url = base_url\n\n    async def send_message(\n        self,\n        message: Message,\n        *,\n        metadata: dict[str, Any] | None = None,\n        configuration: MessageSendConfiguration | None = None,\n    ) -> SendMessageResponse:\n        \"\"\"Send a message using the A2A protocol.\n\n        Returns a JSON-RPC response containing either a result (Task) or an error.\n        \"\"\"\n        params = MessageSendParams(message=message)\n        if metadata is not None:\n            params['metadata'] = metadata\n        if configuration is not None:\n            params['configuration'] = configuration\n\n        request_id = str(uuid.uuid4())\n        payload = SendMessageRequest(jsonrpc='2.0', id=request_id, method='message/send', params=params)\n        content = send_message_request_ta.dump_json(payload, by_alias=True)\n        response = await self.http_client.post('/', content=content, headers={'Content-Type': 'application/json'})\n        self._raise_for_status(response)\n\n        return send_message_response_ta.validate_json(response.content)\n\n    async def get_task(self, task_id: str) -> GetTaskResponse:\n        payload = GetTaskRequest(jsonrpc='2.0', id=None, method='tasks/get', params={'id': task_id})\n        content = a2a_request_ta.dump_json(payload, by_alias=True)\n        response = await self.http_client.post('/', content=content, headers={'Content-Type': 'application/json'})\n        self._raise_for_status(response)\n        return get_task_response_ta.validate_json(response.content)\n\n    def _raise_for_status(self, response: httpx.Response) -> None:\n        if response.status_code >= 400:\n            raise UnexpectedResponseError(response.status_code, response.text)\n\n```\n\n#### send_message\n\n```python\nsend_message(\n    message: Message,\n    *,\n    metadata: dict[str, Any] | None = None,\n    configuration: MessageSendConfiguration | None = None\n) -> SendMessageResponse\n\n```\n\nSend a message using the A2A protocol.\n\nReturns a JSON-RPC response containing either a result (Task) or an error.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/client.py`\n\n```python\nasync def send_message(\n    self,\n    message: Message,\n    *,\n    metadata: dict[str, Any] | None = None,\n    configuration: MessageSendConfiguration | None = None,\n) -> SendMessageResponse:\n    \"\"\"Send a message using the A2A protocol.\n\n    Returns a JSON-RPC response containing either a result (Task) or an error.\n    \"\"\"\n    params = MessageSendParams(message=message)\n    if metadata is not None:\n        params['metadata'] = metadata\n    if configuration is not None:\n        params['configuration'] = configuration\n\n    request_id = str(uuid.uuid4())\n    payload = SendMessageRequest(jsonrpc='2.0', id=request_id, method='message/send', params=params)\n    content = send_message_request_ta.dump_json(payload, by_alias=True)\n    response = await self.http_client.post('/', content=content, headers={'Content-Type': 'application/json'})\n    self._raise_for_status(response)\n\n    return send_message_response_ta.validate_json(response.content)\n\n```\n\n### UnexpectedResponseError\n\nBases: `Exception`\n\nAn error raised when an unexpected response is received from the server.\n\nSource code in `.venv/lib/python3.12/site-packages/fasta2a/client.py`\n\n```python\nclass UnexpectedResponseError(Exception):\n    \"\"\"An error raised when an unexpected response is received from the server.\"\"\"\n\n    def __init__(self, status_code: int, content: str) -> None:\n        self.status_code = status_code\n        self.content = content\n\n```",
  "content_length": 64360
}