{
  "title": "`pydantic_ai.builtin_tools`",
  "source_url": null,
  "content": "### AbstractBuiltinTool\n\nBases: `ABC`\n\nA builtin tool that can be used by an agent.\n\nThis class is abstract and cannot be instantiated directly.\n\nThe builtin tools are passed to the model as part of the `ModelRequestParameters`.\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass AbstractBuiltinTool(ABC):\n    \"\"\"A builtin tool that can be used by an agent.\n\n    This class is abstract and cannot be instantiated directly.\n\n    The builtin tools are passed to the model as part of the `ModelRequestParameters`.\n    \"\"\"\n\n    kind: str = 'unknown_builtin_tool'\n    \"\"\"Built-in tool identifier, this should be available on all built-in tools as a discriminator.\"\"\"\n\n    @property\n    def unique_id(self) -> str:\n        \"\"\"A unique identifier for the builtin tool.\n\n        If multiple instances of the same builtin tool can be passed to the model, subclasses should override this property to allow them to be distinguished.\n        \"\"\"\n        return self.kind\n\n    def __init_subclass__(cls, **kwargs: Any) -> None:\n        super().__init_subclass__(**kwargs)\n        _BUILTIN_TOOL_TYPES[cls.kind] = cls\n\n    @classmethod\n    def __get_pydantic_core_schema__(\n        cls, _source_type: Any, handler: pydantic.GetCoreSchemaHandler\n    ) -> core_schema.CoreSchema:\n        if cls is not AbstractBuiltinTool:\n            return handler(cls)\n\n        tools = _BUILTIN_TOOL_TYPES.values()\n        if len(tools) == 1:  # pragma: no cover\n            tools_type = next(iter(tools))\n        else:\n            tools_annotated = [Annotated[tool, pydantic.Tag(tool.kind)] for tool in tools]\n            tools_type = Annotated[Union[tuple(tools_annotated)], pydantic.Discriminator(_tool_discriminator)]  # noqa: UP007\n\n        return handler(tools_type)\n\n```\n\n#### kind\n\n```python\nkind: str = 'unknown_builtin_tool'\n\n```\n\nBuilt-in tool identifier, this should be available on all built-in tools as a discriminator.\n\n#### unique_id\n\n```python\nunique_id: str\n\n```\n\nA unique identifier for the builtin tool.\n\nIf multiple instances of the same builtin tool can be passed to the model, subclasses should override this property to allow them to be distinguished.\n\n### WebSearchTool\n\nBases: `AbstractBuiltinTool`\n\nA builtin tool that allows your agent to search the web for information.\n\nThe parameters that PydanticAI passes depend on the model, as some parameters may not be supported by certain models.\n\nSupported by:\n\n- Anthropic\n- OpenAI Responses\n- Groq\n- Google\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass WebSearchTool(AbstractBuiltinTool):\n    \"\"\"A builtin tool that allows your agent to search the web for information.\n\n    The parameters that PydanticAI passes depend on the model, as some parameters may not be supported by certain models.\n\n    Supported by:\n\n    * Anthropic\n    * OpenAI Responses\n    * Groq\n    * Google\n    \"\"\"\n\n    search_context_size: Literal['low', 'medium', 'high'] = 'medium'\n    \"\"\"The `search_context_size` parameter controls how much context is retrieved from the web to help the tool formulate a response.\n\n    Supported by:\n\n    * OpenAI Responses\n    \"\"\"\n\n    user_location: WebSearchUserLocation | None = None\n    \"\"\"The `user_location` parameter allows you to localize search results based on a user's location.\n\n    Supported by:\n\n    * Anthropic\n    * OpenAI Responses\n    \"\"\"\n\n    blocked_domains: list[str] | None = None\n    \"\"\"If provided, these domains will never appear in results.\n\n    With Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\n    Supported by:\n\n    * Anthropic, see <https://docs.anthropic.com/en/docs/build-with-claude/tool-use/web-search-tool#domain-filtering>\n    * Groq, see <https://console.groq.com/docs/agentic-tooling#search-settings>\n    \"\"\"\n\n    allowed_domains: list[str] | None = None\n    \"\"\"If provided, only these domains will be included in results.\n\n    With Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\n    Supported by:\n\n    * Anthropic, see <https://docs.anthropic.com/en/docs/build-with-claude/tool-use/web-search-tool#domain-filtering>\n    * Groq, see <https://console.groq.com/docs/agentic-tooling#search-settings>\n    \"\"\"\n\n    max_uses: int | None = None\n    \"\"\"If provided, the tool will stop searching the web after the given number of uses.\n\n    Supported by:\n\n    * Anthropic\n    \"\"\"\n\n    kind: str = 'web_search'\n    \"\"\"The kind of tool.\"\"\"\n\n```\n\n#### search_context_size\n\n```python\nsearch_context_size: Literal[\"low\", \"medium\", \"high\"] = (\n    \"medium\"\n)\n\n```\n\nThe `search_context_size` parameter controls how much context is retrieved from the web to help the tool formulate a response.\n\nSupported by:\n\n- OpenAI Responses\n\n#### user_location\n\n```python\nuser_location: WebSearchUserLocation | None = None\n\n```\n\nThe `user_location` parameter allows you to localize search results based on a user's location.\n\nSupported by:\n\n- Anthropic\n- OpenAI Responses\n\n#### blocked_domains\n\n```python\nblocked_domains: list[str] | None = None\n\n```\n\nIf provided, these domains will never appear in results.\n\nWith Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\nSupported by:\n\n- Anthropic, see <https://docs.anthropic.com/en/docs/build-with-claude/tool-use/web-search-tool#domain-filtering>\n- Groq, see <https://console.groq.com/docs/agentic-tooling#search-settings>\n\n#### allowed_domains\n\n```python\nallowed_domains: list[str] | None = None\n\n```\n\nIf provided, only these domains will be included in results.\n\nWith Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\nSupported by:\n\n- Anthropic, see <https://docs.anthropic.com/en/docs/build-with-claude/tool-use/web-search-tool#domain-filtering>\n- Groq, see <https://console.groq.com/docs/agentic-tooling#search-settings>\n\n#### max_uses\n\n```python\nmax_uses: int | None = None\n\n```\n\nIf provided, the tool will stop searching the web after the given number of uses.\n\nSupported by:\n\n- Anthropic\n\n#### kind\n\n```python\nkind: str = 'web_search'\n\n```\n\nThe kind of tool.\n\n### WebSearchUserLocation\n\nBases: `TypedDict`\n\nAllows you to localize search results based on a user's location.\n\nSupported by:\n\n- Anthropic\n- OpenAI Responses\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\nclass WebSearchUserLocation(TypedDict, total=False):\n    \"\"\"Allows you to localize search results based on a user's location.\n\n    Supported by:\n\n    * Anthropic\n    * OpenAI Responses\n    \"\"\"\n\n    city: str\n    \"\"\"The city where the user is located.\"\"\"\n\n    country: str\n    \"\"\"The country where the user is located. For OpenAI, this must be a 2-letter country code (e.g., 'US', 'GB').\"\"\"\n\n    region: str\n    \"\"\"The region or state where the user is located.\"\"\"\n\n    timezone: str\n    \"\"\"The timezone of the user's location.\"\"\"\n\n```\n\n#### city\n\n```python\ncity: str\n\n```\n\nThe city where the user is located.\n\n#### country\n\n```python\ncountry: str\n\n```\n\nThe country where the user is located. For OpenAI, this must be a 2-letter country code (e.g., 'US', 'GB').\n\n#### region\n\n```python\nregion: str\n\n```\n\nThe region or state where the user is located.\n\n#### timezone\n\n```python\ntimezone: str\n\n```\n\nThe timezone of the user's location.\n\n### CodeExecutionTool\n\nBases: `AbstractBuiltinTool`\n\nA builtin tool that allows your agent to execute code.\n\nSupported by:\n\n- Anthropic\n- OpenAI Responses\n- Google\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass CodeExecutionTool(AbstractBuiltinTool):\n    \"\"\"A builtin tool that allows your agent to execute code.\n\n    Supported by:\n\n    * Anthropic\n    * OpenAI Responses\n    * Google\n    \"\"\"\n\n    kind: str = 'code_execution'\n    \"\"\"The kind of tool.\"\"\"\n\n```\n\n#### kind\n\n```python\nkind: str = 'code_execution'\n\n```\n\nThe kind of tool.\n\n### WebFetchTool\n\nBases: `AbstractBuiltinTool`\n\nAllows your agent to access contents from URLs.\n\nThe parameters that PydanticAI passes depend on the model, as some parameters may not be supported by certain models.\n\nSupported by:\n\n- Anthropic\n- Google\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass WebFetchTool(AbstractBuiltinTool):\n    \"\"\"Allows your agent to access contents from URLs.\n\n    The parameters that PydanticAI passes depend on the model, as some parameters may not be supported by certain models.\n\n    Supported by:\n\n    * Anthropic\n    * Google\n    \"\"\"\n\n    max_uses: int | None = None\n    \"\"\"If provided, the tool will stop fetching URLs after the given number of uses.\n\n    Supported by:\n\n    * Anthropic\n    \"\"\"\n\n    allowed_domains: list[str] | None = None\n    \"\"\"If provided, only these domains will be fetched.\n\n    With Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\n    Supported by:\n\n    * Anthropic, see <https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/web-fetch-tool#domain-filtering>\n    \"\"\"\n\n    blocked_domains: list[str] | None = None\n    \"\"\"If provided, these domains will never be fetched.\n\n    With Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\n    Supported by:\n\n    * Anthropic, see <https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/web-fetch-tool#domain-filtering>\n    \"\"\"\n\n    enable_citations: bool = False\n    \"\"\"If True, enables citations for fetched content.\n\n    Supported by:\n\n    * Anthropic\n    \"\"\"\n\n    max_content_tokens: int | None = None\n    \"\"\"Maximum content length in tokens for fetched content.\n\n    Supported by:\n\n    * Anthropic\n    \"\"\"\n\n    kind: str = 'web_fetch'\n    \"\"\"The kind of tool.\"\"\"\n\n```\n\n#### max_uses\n\n```python\nmax_uses: int | None = None\n\n```\n\nIf provided, the tool will stop fetching URLs after the given number of uses.\n\nSupported by:\n\n- Anthropic\n\n#### allowed_domains\n\n```python\nallowed_domains: list[str] | None = None\n\n```\n\nIf provided, only these domains will be fetched.\n\nWith Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\nSupported by:\n\n- Anthropic, see <https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/web-fetch-tool#domain-filtering>\n\n#### blocked_domains\n\n```python\nblocked_domains: list[str] | None = None\n\n```\n\nIf provided, these domains will never be fetched.\n\nWith Anthropic, you can only use one of `blocked_domains` or `allowed_domains`, not both.\n\nSupported by:\n\n- Anthropic, see <https://docs.anthropic.com/en/docs/agents-and-tools/tool-use/web-fetch-tool#domain-filtering>\n\n#### enable_citations\n\n```python\nenable_citations: bool = False\n\n```\n\nIf True, enables citations for fetched content.\n\nSupported by:\n\n- Anthropic\n\n#### max_content_tokens\n\n```python\nmax_content_tokens: int | None = None\n\n```\n\nMaximum content length in tokens for fetched content.\n\nSupported by:\n\n- Anthropic\n\n#### kind\n\n```python\nkind: str = 'web_fetch'\n\n```\n\nThe kind of tool.\n\n### UrlContextTool\n\nBases: `WebFetchTool`\n\nDeprecated\n\nUse `WebFetchTool` instead.\n\nDeprecated alias for WebFetchTool. Use WebFetchTool instead.\n\nOverrides kind to 'url_context' so old serialized payloads with {\"kind\": \"url_context\", ...} can be deserialized to UrlContextTool for backward compatibility.\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@deprecated('Use `WebFetchTool` instead.')\n@dataclass(kw_only=True)\nclass UrlContextTool(WebFetchTool):\n    \"\"\"Deprecated alias for WebFetchTool. Use WebFetchTool instead.\n\n    Overrides kind to 'url_context' so old serialized payloads with {\"kind\": \"url_context\", ...}\n    can be deserialized to UrlContextTool for backward compatibility.\n    \"\"\"\n\n    kind: str = 'url_context'\n    \"\"\"The kind of tool (deprecated value for backward compatibility).\"\"\"\n\n```\n\n#### kind\n\n```python\nkind: str = 'url_context'\n\n```\n\nThe kind of tool (deprecated value for backward compatibility).\n\n### ImageGenerationTool\n\nBases: `AbstractBuiltinTool`\n\nA builtin tool that allows your agent to generate images.\n\nSupported by:\n\n- OpenAI Responses\n- Google\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass ImageGenerationTool(AbstractBuiltinTool):\n    \"\"\"A builtin tool that allows your agent to generate images.\n\n    Supported by:\n\n    * OpenAI Responses\n    * Google\n    \"\"\"\n\n    background: Literal['transparent', 'opaque', 'auto'] = 'auto'\n    \"\"\"Background type for the generated image.\n\n    Supported by:\n\n    * OpenAI Responses. 'transparent' is only supported for 'png' and 'webp' output formats.\n    \"\"\"\n\n    input_fidelity: Literal['high', 'low'] | None = None\n    \"\"\"\n    Control how much effort the model will exert to match the style and features,\n    especially facial features, of input images.\n\n    Supported by:\n\n    * OpenAI Responses. Default: 'low'.\n    \"\"\"\n\n    moderation: Literal['auto', 'low'] = 'auto'\n    \"\"\"Moderation level for the generated image.\n\n    Supported by:\n\n    * OpenAI Responses\n    \"\"\"\n\n    output_compression: int = 100\n    \"\"\"Compression level for the output image.\n\n    Supported by:\n\n    * OpenAI Responses. Only supported for 'png' and 'webp' output formats.\n    \"\"\"\n\n    output_format: Literal['png', 'webp', 'jpeg'] | None = None\n    \"\"\"The output format of the generated image.\n\n    Supported by:\n\n    * OpenAI Responses. Default: 'png'.\n    \"\"\"\n\n    partial_images: int = 0\n    \"\"\"\n    Number of partial images to generate in streaming mode.\n\n    Supported by:\n\n    * OpenAI Responses. Supports 0 to 3.\n    \"\"\"\n\n    quality: Literal['low', 'medium', 'high', 'auto'] = 'auto'\n    \"\"\"The quality of the generated image.\n\n    Supported by:\n\n    * OpenAI Responses\n    \"\"\"\n\n    size: Literal['1024x1024', '1024x1536', '1536x1024', 'auto'] = 'auto'\n    \"\"\"The size of the generated image.\n\n    Supported by:\n\n    * OpenAI Responses\n    \"\"\"\n\n    kind: str = 'image_generation'\n    \"\"\"The kind of tool.\"\"\"\n\n```\n\n#### background\n\n```python\nbackground: Literal[\"transparent\", \"opaque\", \"auto\"] = (\n    \"auto\"\n)\n\n```\n\nBackground type for the generated image.\n\nSupported by:\n\n- OpenAI Responses. 'transparent' is only supported for 'png' and 'webp' output formats.\n\n#### input_fidelity\n\n```python\ninput_fidelity: Literal['high', 'low'] | None = None\n\n```\n\nControl how much effort the model will exert to match the style and features, especially facial features, of input images.\n\nSupported by:\n\n- OpenAI Responses. Default: 'low'.\n\n#### moderation\n\n```python\nmoderation: Literal['auto', 'low'] = 'auto'\n\n```\n\nModeration level for the generated image.\n\nSupported by:\n\n- OpenAI Responses\n\n#### output_compression\n\n```python\noutput_compression: int = 100\n\n```\n\nCompression level for the output image.\n\nSupported by:\n\n- OpenAI Responses. Only supported for 'png' and 'webp' output formats.\n\n#### output_format\n\n```python\noutput_format: Literal['png', 'webp', 'jpeg'] | None = None\n\n```\n\nThe output format of the generated image.\n\nSupported by:\n\n- OpenAI Responses. Default: 'png'.\n\n#### partial_images\n\n```python\npartial_images: int = 0\n\n```\n\nNumber of partial images to generate in streaming mode.\n\nSupported by:\n\n- OpenAI Responses. Supports 0 to 3.\n\n#### quality\n\n```python\nquality: Literal['low', 'medium', 'high', 'auto'] = 'auto'\n\n```\n\nThe quality of the generated image.\n\nSupported by:\n\n- OpenAI Responses\n\n#### size\n\n```python\nsize: Literal[\n    \"1024x1024\", \"1024x1536\", \"1536x1024\", \"auto\"\n] = \"auto\"\n\n```\n\nThe size of the generated image.\n\nSupported by:\n\n- OpenAI Responses\n\n#### kind\n\n```python\nkind: str = 'image_generation'\n\n```\n\nThe kind of tool.\n\n### MemoryTool\n\nBases: `AbstractBuiltinTool`\n\nA builtin tool that allows your agent to use memory.\n\nSupported by:\n\n- Anthropic\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass MemoryTool(AbstractBuiltinTool):\n    \"\"\"A builtin tool that allows your agent to use memory.\n\n    Supported by:\n\n    * Anthropic\n    \"\"\"\n\n    kind: str = 'memory'\n    \"\"\"The kind of tool.\"\"\"\n\n```\n\n#### kind\n\n```python\nkind: str = 'memory'\n\n```\n\nThe kind of tool.\n\n### MCPServerTool\n\nBases: `AbstractBuiltinTool`\n\nA builtin tool that allows your agent to use MCP servers.\n\nSupported by:\n\n- OpenAI Responses\n- Anthropic\n\nSource code in `pydantic_ai_slim/pydantic_ai/builtin_tools.py`\n\n```python\n@dataclass(kw_only=True)\nclass MCPServerTool(AbstractBuiltinTool):\n    \"\"\"A builtin tool that allows your agent to use MCP servers.\n\n    Supported by:\n\n    * OpenAI Responses\n    * Anthropic\n    \"\"\"\n\n    id: str\n    \"\"\"A unique identifier for the MCP server.\"\"\"\n\n    url: str\n    \"\"\"The URL of the MCP server to use.\n\n    For OpenAI Responses, it is possible to use `connector_id` by providing it as `x-openai-connector:<connector_id>`.\n    \"\"\"\n\n    authorization_token: str | None = None\n    \"\"\"Authorization header to use when making requests to the MCP server.\n\n    Supported by:\n\n    * OpenAI Responses\n    * Anthropic\n    \"\"\"\n\n    description: str | None = None\n    \"\"\"A description of the MCP server.\n\n    Supported by:\n\n    * OpenAI Responses\n    \"\"\"\n\n    allowed_tools: list[str] | None = None\n    \"\"\"A list of tools that the MCP server can use.\n\n    Supported by:\n\n    * OpenAI Responses\n    * Anthropic\n    \"\"\"\n\n    headers: dict[str, str] | None = None\n    \"\"\"Optional HTTP headers to send to the MCP server.\n\n    Use for authentication or other purposes.\n\n    Supported by:\n\n    * OpenAI Responses\n    \"\"\"\n\n    kind: str = 'mcp_server'\n\n    @property\n    def unique_id(self) -> str:\n        return ':'.join([self.kind, self.id])\n\n```\n\n#### id\n\n```python\nid: str\n\n```\n\nA unique identifier for the MCP server.\n\n#### url\n\n```python\nurl: str\n\n```\n\nThe URL of the MCP server to use.\n\nFor OpenAI Responses, it is possible to use `connector_id` by providing it as `x-openai-connector:<connector_id>`.\n\n#### authorization_token\n\n```python\nauthorization_token: str | None = None\n\n```\n\nAuthorization header to use when making requests to the MCP server.\n\nSupported by:\n\n- OpenAI Responses\n- Anthropic\n\n#### description\n\n```python\ndescription: str | None = None\n\n```\n\nA description of the MCP server.\n\nSupported by:\n\n- OpenAI Responses\n\n#### allowed_tools\n\n```python\nallowed_tools: list[str] | None = None\n\n```\n\nA list of tools that the MCP server can use.\n\nSupported by:\n\n- OpenAI Responses\n- Anthropic\n\n#### headers\n\n```python\nheaders: dict[str, str] | None = None\n\n```\n\nOptional HTTP headers to send to the MCP server.\n\nUse for authentication or other purposes.\n\nSupported by:\n\n- OpenAI Responses",
  "content_length": 18503
}