{
  "title": "Overview",
  "source_url": "https://docs.langchain.com/langsmith/administration-overview",
  "content": "This overview covers topics related to managing users, organizations, and workspaces within LangSmith.\n\n## Resource Hierarchy\n\n### Organizations\n\nAn organization is a logical grouping of users within LangSmith with its own billing configuration. Typically, there is one organization per company. An organization can have multiple workspaces. For more details, see the [setup guide](/langsmith/set-up-a-workspace#set-up-an-organization).\n\nWhen you log in for the first time, a personal organization will be created for you automatically. If you'd like to collaborate with others, you can create a separate organization and invite your team members to join. There are a few important differences between your personal organization and shared organizations:\n\n| Feature             | Personal            | Shared                                                                                       |\n| ------------------- | ------------------- | -------------------------------------------------------------------------------------------- |\n| Maximum workspaces  | 1                   | Variable, depending on plan (see [pricing page](https://www.langchain.com/pricing-langsmith) |\n| Collaboration       | Cannot invite users | Can invite users                                                                             |\n| Billing: paid plans | Developer plan only | All other plans available                                                                    |\n\n### Workspaces\n\n<Info>\n  Workspaces were formerly called Tenants. Some code and APIs may still reference the old name for a period of time during the transition.\n</Info>\n\nA workspace is a logical grouping of users and resources within an organization. A workspace separates trust boundaries for resources and access control. Users may have permissions in a workspace that grant them access to the resources in that workspace, including tracing projects, datasets, annotation queues, and prompts. For more details, see the [setup guide](/langsmith/set-up-a-workspace).\n\nIt is recommended to create a separate workspace for each team within your organization. To organize resources even further, you can use [Resource Tags](#resource-tags) to group resources within a workspace.\n\nThe following image shows a sample workspace settings page: <img src=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=a2af70dec53a98f502132de92445aed2\" alt=\"Sample Workspace\" data-og-width=\"3008\" width=\"3008\" data-og-height=\"956\" height=\"956\" data-path=\"langsmith/images/sample-workspace.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?w=280&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=439802e412d8f96c45a4af9829659f5a 280w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?w=560&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=0ce5170a93ee736faf115533f46467f2 560w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?w=840&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=e3d47902f66ad077ae9a893be183c348 840w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?w=1100&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=b5af7b353e10c44b844f60a677740eb7 1100w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?w=1650&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=6acccca51bf1962f2abcd82ab3dca96e 1650w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/sample-workspace.png?w=2500&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=213d4b9372f31ca2babcbe02e69a0e3e 2500w\" />\n\nThe following diagram explains the relationship between organizations, workspaces, and the different resources scoped to and within a workspace: <img src=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=bc51967d88ce39120547d174ab6a442e\" alt=\"Resource Hierarchy\" data-og-width=\"1403\" width=\"1403\" data-og-height=\"272\" height=\"272\" data-path=\"langsmith/images/resource-hierarchy.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?w=280&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=a679974443061378a17aef96f8118bc2 280w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?w=560&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=15fa6c782376f97d79a2c2f87a13d5a7 560w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?w=840&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=f6ff24a91b5c00e17c44c07bd5868a06 840w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?w=1100&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=7eaab6991daaca255d41da41fad268a9 1100w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?w=1650&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=fd2c292577912b0cf04c6d14ba636fe7 1650w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-hierarchy.png?w=2500&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=da5879f0ae4b12f5e8b64d447ddee8fe 2500w\" />\n\nSee the table below for details on which features are available in which scope (organization or workspace):\n\n| Resource/Setting                                                            | Scope            |\n| --------------------------------------------------------------------------- | ---------------- |\n| Trace Projects                                                              | Workspace        |\n| Annotation Queues                                                           | Workspace        |\n| Deployments                                                                 | Workspace        |\n| Datasets & Experiments                                                      | Workspace        |\n| Prompts                                                                     | Workspace        |\n| Resource Tags                                                               | Workspace        |\n| API Keys                                                                    | Workspace        |\n| Settings including Secrets, Feedback config, Models, Rules, and Shared URLs | Workspace        |\n| User management: Invite User to Workspace                                   | Workspace        |\n| RBAC: Assigning Workspace Roles                                             | Workspace        |\n| Data Retention, Usage Limits                                                | Workspace\\*      |\n| Plans and Billing, Credits, Invoices                                        | Organization     |\n| User management: Invite User to Organization                                | Organization\\*\\* |\n| Adding Workspaces                                                           | Organization     |\n| Assigning Organization Roles                                                | Organization     |\n| RBAC: Creating/Editing/Deleting Custom Roles                                | Organization     |\n\n\\* Data retention settings and usage limits will be available soon for the organization level as well \\*\\* Self-hosted installations may enable workspace-level invites of users to the organization via a feature flag. See the [self-hosted user management docs](/langsmith/self-host-user-management) for details.\n\n### Resource tags\n\nResource tags allow you to organize resources within a workspace. Each tag is a key-value pair that can be assigned to a resource. Tags can be used to filter workspace-scoped resources in the UI and API: Projects, Datasets, Annotation Queues, Deployments, and Experiments.\n\nEach new workspace comes with two default tag keys: `Application` and `Environment`; as the names suggest, these tags can be used to categorize resources based on the application and environment they belong to. More tags can be added as needed.\n\nLangSmith resource tags are very similar to tags in cloud services like [AWS](https://docs.aws.amazon.com/tag-editor/latest/userguide/tagging.html).\n\n<img src=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=99d640e56b981397219e3ad1a5d3f3b2\" alt=\"Sample Resource Tags\" data-og-width=\"1152\" width=\"1152\" data-og-height=\"233\" height=\"233\" data-path=\"langsmith/images/resource-tags.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?w=280&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=d819b9e316cd0ac5cd065f51999cbfe5 280w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?w=560&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=d2389e8878ee353d730f13ad63f59482 560w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?w=840&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=bbdafff1f16e1036d0f243e8aa75481d 840w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?w=1100&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=5f02b3dcfd6c6c842ad8899cd19d43ee 1100w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?w=1650&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=5d362a1f024b376c19c0dc03d06406ac 1650w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/resource-tags.png?w=2500&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=0f5fc4688726e872dbb53a1d3d4f0b00 2500w\" />\n\n## User Management and RBAC\n\n### Users\n\nA user is a person who has access to LangSmith. Users can be members of one or more organizations and workspaces within those organizations.\n\nOrganization members are managed in organization settings:\n\n<img src=\"https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=93249dc8c55c6d8001b350e497b2a0ac\" alt=\"Sample Organization Members\" data-og-width=\"3020\" width=\"3020\" data-og-height=\"1246\" height=\"1246\" data-path=\"langsmith/images/org-members-settings.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?w=280&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=d2c0bbf572906894c972ea1047ff1c3a 280w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?w=560&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=fe38d538de5f0436f05fa1fa0679f612 560w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?w=840&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=cf5e551ff7c68793da8a3f5ecdef7e49 840w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?w=1100&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=a401368eebe3fc19a5bec603ad9bb9c8 1100w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?w=1650&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=be6d182043d052dece018f54bd546916 1650w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-members-settings.png?w=2500&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=450b385d226c53c1f327612e44abc5d1 2500w\" />\n\nAnd workspace members are managed in workspace settings:\n\n<img src=\"https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=678c90095209d5e1440e452297478dc2\" alt=\"Sample Workspace Members\" data-og-width=\"3016\" width=\"3016\" data-og-height=\"1248\" height=\"1248\" data-path=\"langsmith/images/org-settings-workspaces-tab.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?w=280&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=a1a6827b0fc3fdc068b98a02bbb58a05 280w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?w=560&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=79c438ec6b20a407d607a56b66dfa431 560w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?w=840&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=1c622e1fcd3afdff3f001fe4f642a9cf 840w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?w=1100&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=bda1583680e7f19c2cc65a72a5158fae 1100w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?w=1650&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=c80bcd52cb503a6652978dad756123f0 1650w, https://mintcdn.com/langchain-5e9cc07a/H9jA2WRyA-MV4-H0/langsmith/images/org-settings-workspaces-tab.png?w=2500&fit=max&auto=format&n=H9jA2WRyA-MV4-H0&q=85&s=d8350437e643a858e138674d38ed8751 2500w\" />\n\n### API keys\n\n<Warning>\n  We ended support for legacy API keys prefixed with `ls__` on October 22, 2024 in favor of personal access tokens (PATs) and service keys. We require using PATs and service keys for all new integrations. API keys prefixed with `ls__` will no longer work as of October 22, 2024.\n</Warning>\n\n#### Expiration Dates\n\nWhen you create an API key, you have the option to set an expiration date. Adding an expiration date to keys enhances security and minimizes the risk of unauthorized access. For example, you may set expiration dates on keys for temporary tasks that require elevated access.\n\nBy default, keys never expire. Once expired, an API key is no longer valid and cannot be reactivated or have its expiration modified.\n\n#### Personal Access Tokens (PATs)\n\nPersonal Access Tokens (PATs) are used to authenticate requests to the LangSmith API. They are created by users and scoped to a user. The PAT will have the same permissions as the user that created it. We recommend not using these to authenticate requests from your application, but rather using them for personal scripts or tools that interact with the LangSmith API. If the user associated with the PAT is removed from the organization, the PAT will no longer work.\n\nPATs are prefixed with `lsv2_pt_`\n\n#### Service keys\n\nService keys are similar to PATs, but are used to authenticate requests to the LangSmith API on behalf of a service account. Only admins can create service keys. We recommend using these for applications / services that need to interact with the LangSmith API, such as LangGraph agents or other integrations. Service keys may be scoped to a single workspace, multiple workspaces, or the entire organization, and can be used to authenticate requests to the LangSmith API for whichever workspace(s) it has access to.\n\nService keys are prefixed with `lsv2_sk_`\n\n<Warning>\n  Use the `X-Tenant-Id` header to specify the target workspace.\n\n  * **When using PATs**: If this header is omitted, requests will run against the default workspace associated with the key.\n  * **When using organization-scoped service keys**: You must include the `X-Tenant-Id` header when accessing workspace-scoped resources. Without it, the request will fail with a `403 Forbidden` error.\n</Warning>\n\n<Note>\n  To see how to create a service key or Personal Access Token, see the [setup guide](/langsmith/create-account-api-key)\n</Note>\n\n### Organization roles\n\nOrganization roles are distinct from the [Enterprise feature workspace RBAC](#workspace-roles-rbac) and are used in the context of multiple [workspaces](#workspaces). Your organization role determines your workspace membership characteristics and your [organization-level permissions](/langsmith/organization-workspace-operations).\n\nThe organization role selected also impacts workspace membership as described here:\n\n* [Organization Admin](/langsmith/rbac#organization-admin) grants full access to manage all organization configuration, users, billing, and workspaces.\n  * An Organization Admin has `Admin` access to all workspaces in an organization.\n* [Organization User](/langsmith/rbac#organization-user) may read organization information but cannot execute any write actions at the organization level. An Organization User may create [Personal Access Tokens](#personal-access-tokens-pats).\n  * An Organization User can be added to a subset of workspaces and assigned workspace roles as usual (if RBAC is enabled), which specify permissions at the workspace level.\n* [Organization Viewer](/langsmith/rbac#organization-viewer) is equivalent to Organization User, but **cannot** create Personal Access Tokens. (for self-hosted, available in Helm chart version 0.11.25+).\n\n<Info>\n  The Organization User and Organization Viewer roles are only available in organizations on [plans](https://langchain.com/pricing) with multiple workspaces. In organizations limited to a single workspace, all users have the Organization Admin role.\n\n  See [security settings](/langsmith/manage-organization-by-api#security-settings) for instructions on how to disable PAT creation for the entire organization.\n</Info>\n\nFor more information on setting up organizations and workspaces, refer to the [organization setup guide](/langsmith/set-up-a-workspace#organization-roles) for more information.\n\nThe following table provdies an overview of organization level permissions:\n\n|                                             | Organization Viewer | Organization User | Organization Admin |\n| ------------------------------------------- | ------------------- | ----------------- | ------------------ |\n| View organization configuration             | ✅                   | ✅                 | ✅                  |\n| View organization roles                     | ✅                   | ✅                 | ✅                  |\n| View organization members                   | ✅                   | ✅                 | ✅                  |\n| View data retention settings                | ✅                   | ✅                 | ✅                  |\n| View usage limits                           | ✅                   | ✅                 | ✅                  |\n| Create personal access tokens (PATs)        | ❌                   | ✅                 | ✅                  |\n| Admin access to all workspaces              | ❌                   | ❌                 | ✅                  |\n| Manage billing settings                     | ❌                   | ❌                 | ✅                  |\n| Create workspaces                           | ❌                   | ❌                 | ✅                  |\n| Create, edit, and delete organization roles | ❌                   | ❌                 | ✅                  |\n| Invite new users to organization            | ❌                   | ❌                 | ✅                  |\n| Delete user invites                         | ❌                   | ❌                 | ✅                  |\n| Remove users from an organization           | ❌                   | ❌                 | ✅                  |\n| Update data retention settings              | ❌                   | ❌                 | ✅                  |\n| Update usage limits                         | ❌                   | ❌                 | ✅                  |\n\nFor a comprehensive list of required permissions along with the operations and roles that can perform them, refer to the [Organization and workspace reference](/langsmith/organization-workspace-operations).\n\n### Workspace roles (RBAC)\n\n<Note>\n  RBAC (Role-Based Access Control) is a feature that is only available to Enterprise customers. If you are interested in this feature, [contact our sales team](https://www.langchain.com/contact-sales). Other plans default to using the Admin role for all users.\n</Note>\n\nRoles are used to define the set of permissions that a user has within a workspace. There are three built-in system roles that cannot be edited:\n\n* [Workspace Admin](/langsmith/rbac#workspace-admin) has full access to all resources within the workspace.\n* [Workspace Editor](/langsmith/rbac#workspace-editor) has full permissions except for workspace management (adding/removing users, changing roles, configuring service keys).\n* [Workspace Viewer](/langsmith/rbac#workspace-viewer) has read-only access to all resources within the workspace.\n\n[Organization admins](/langsmith/rbac#organization-admin) can also create/edit custom roles with specific permissions for different resources.\n\nRoles can be managed in **Organization Settings** under the **Roles** tab:\n\n<img src=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=8c9f1e2b8e18b6f40b59ecc3c18d0e5f\" alt=\"The Organization members and roles view showing a list of the roles.\" data-og-width=\"3018\" width=\"3018\" data-og-height=\"1546\" height=\"1546\" data-path=\"langsmith/images/roles-tab-rbac.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?w=280&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=94ab2c109a053547c6bbe9ac0364d870 280w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?w=560&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=fd6bc62163b03e32aca8fd40d831111f 560w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?w=840&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=f85073d5302051fd6febed8762615018 840w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?w=1100&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=5c1f79814e3b54e747cc33d7096364e5 1100w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?w=1650&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=78bfc784d69847b1c08d40671e30d64e 1650w, https://mintcdn.com/langchain-5e9cc07a/Fr2lazPB4XVeEA7l/langsmith/images/roles-tab-rbac.png?w=2500&fit=max&auto=format&n=Fr2lazPB4XVeEA7l&q=85&s=a4651067818a7de28a672307d4ecdbee 2500w\" />\n\n* For comprehensive documentation on roles and permissions, refer to the [Role-based access control](/langsmith/rbac) guide.\n* For more details on assigning and creating roles, refer to the [User Management](/langsmith/user-management) guide.\n* For a comprehensive list of required permissions along with the operations and roles that can perform them, refer to the [Organization and workspace reference](/langsmith/organization-workspace-operations).\n\n## Best Practices\n\n### Environment Separation\n\nUse [resource tags](#resource-tags) to organize resources by environment using the default tag key `Environment` and different values for the environment (e.g., `dev`, `staging`, `prod`). We do not recommend using separate workspaces for environment separation because resources cannot be shared across workspaces, which would prevent you from promoting resources (like prompts) between environments.\n\n<Note>\n  **Resource tags vs. commit tags for prompt management**\n\n  While both types of tags can use environment terminology like `dev`, `staging`, and `prod`, they serve different purposes:\n\n  * **Resource tags** (`Environment: prod`): Use these to *organize and filter* resources across your workspace. Apply resource tags to tracing projects, datasets, and other resources (including prompts) to group them by environment, which enables filtering in the UI.\n  * [Commit tags](/langsmith/manage-prompts#commit-tags) (`prod` tag): Use these to manage which [prompt version](/langsmith/prompt-engineering) your code references. Commit tags are labels that point to specific commits in a prompt's history. When your code pulls a prompt by tag name (e.g., `client.pull_prompt(\"prompt-name:prod\")`), it retrieves whichever commit that tag currently points to. To promote a prompt from `staging` to `prod`, move the commit tag to point to the desired version.\n\n  Resource tags organize **which resources** belong to an environment. Commit tags let you control **which version** of a prompt your code references without changing the code itself.\n</Note>\n\n## Usage and Billing\n\n### Data Retention\n\nThis section covers how data retention works and how it's priced in LangSmith.\n\n#### Why retention matters\n\n* **Privacy**: Many data privacy regulations, such as GDPR in Europe or CCPA in California, require organizations to delete personal data once it's no longer necessary for the purposes for which it was collected. Setting retention periods aids in compliance with such regulations.\n* **Cost**: LangSmith charges less for traces that have low data retention. See our tutorial on how to [optimize spend](/langsmith/billing#optimize-your-tracing-spend) for details.\n\n#### How it works\n\nLangSmith has two tiers of traces based on Data Retention with the following characteristics:\n\n|                      | Base              | Extended        |\n| -------------------- | ----------------- | --------------- |\n| **Price**            | \\$.50 / 1k traces | \\$5 / 1k traces |\n| **Retention Period** | 14 days           | 400 days        |\n\n**Data deletion after retention ends**\n\nAfter the specified retention period, traces are no longer accessible in the tracing project UI or via the API. All user data associated with the trace (e.g. inputs and outputs) is deleted from our internal systems within a day thereafter. Some metadata associated with each trace may be retained indefinitely for analytics and billing purposes.\n\n**Data retention auto-upgrades**\n\n<Warning>\n  Auto upgrades can have an impact on your bill. Please read this section carefully to fully understand your estimated LangSmith tracing costs.\n</Warning>\n\nWhen you use certain features with `base` tier traces, their data retention will be automatically upgraded to `extended` tier. This will increase both the retention period, and the cost of the trace.\n\nThe complete list of scenarios in which a trace will upgrade when:\n\n* **Feedback** is added to any run on the trace (or any trace in the thread), whether through [manual annotation](/langsmith/annotate-traces-inline#annotate-traces-and-runs-inline), automatically with [an online evaluator](/langsmith/online-evaluations), or programmatically [via the SDK](/langsmith/attach-user-feedback#log-user-feedback-using-the-sdk).\n* An **[annotation queue](/langsmith/annotation-queues#assign-runs-to-an-annotation-queue)** receives any run from the trace.\n* An **[automation rule](/langsmith/rules#set-up-automation-rules)** matches any run within a trace.\n\n**Why auto-upgrade traces?**\n\nWe have two reasons behind the auto-upgrade model for tracing:\n\n1. We think that traces that match any of these conditions are fundamentally more interesting than other traces, and therefore it is good for users to be able to keep them around longer.\n2. We philosophically want to charge customers an order of magnitude lower for traces that may not be interacted with meaningfully. We think auto-upgrades align our pricing model with the value that LangSmith brings, where only traces with meaningful interaction are charged at a higher rate.\n\nIf you have questions or concerns about our pricing model, please feel free to reach out to [support@langchain.dev](mailto:support@langchain.dev) and let us know your thoughts!\n\n**How does data retention affect downstream features?**\n\n* **Annotation Queues, Run Rules, and Feedback**: Traces that use these features will be [auto-upgraded](#data-retention-auto-upgrades).\n* **Monitoring**: The monitoring tab will continue to work even after a base tier trace's data retention period ends. It is powered by trace metadata that exists for >30 days, meaning that your monitoring graphs will continue to stay accurate even on `base` tier traces.\n* **Datasets**: Datasets have an indefinite data retention period. Restated differently, if you add a trace's inputs and outputs to a dataset, they will never be deleted. We suggest that if you are using LangSmith for data collection, you take advantage of the datasets feature.\n\n#### Billing model\n\n**Billable metrics**\n\nOn your LangSmith invoice, you will see two metrics that we charge for:\n\n* LangSmith Traces (Base Charge)\n* LangSmith Traces (Extended Data Retention Upgrades).\n\nThe first metric includes all traces, regardless of tier. The second metric just counts the number of extended retention traces.\n\n**Why measure all traces + upgrades instead of base and extended traces?**\n\nA natural question to ask when considering our pricing is why not just show the number of `base` tier and `extended` tier traces directly on the invoice?\n\nWhile we understand this would be more straightforward, it doesn't fit trace upgrades properly. Consider a `base` tier trace that was recorded on June 30, and upgraded to `extended` tier on July 3. The `base` tier trace occurred in the June billing period, but the upgrade occurred in the July billing period. Therefore, we need to be able to measure these two events independently to properly bill our customers.\n\nIf your trace was recorded as an extended retention trace, then the `base` and `extended` metrics will both be recorded with the same timestamp.\n\n**Cost breakdown**\n\nThe Base Charge for a trace is .05¢ per trace. We priced the upgrade such that an `extended` retention trace costs 10x the price of a base tier trace (.50¢ per trace) including both metrics. Thus, each upgrade costs .45¢.\n\n### Rate Limits\n\nLangSmith has rate limits which are designed to ensure the stability of the service for all users.\n\nTo ensure access and stability, LangSmith will respond with HTTP Status Code 429 indicating that rate or usage limits have been exceeded under the following circumstances:\n\n#### Temporary throughput limit over a 1 minute period at our application load balancer\n\nThis 429 is the the result of exceeding a fixed number of API calls over a 1 minute window on a per API key/access token basis. The start of the window will vary slightly — it is not guaranteed to start at the start of a clock minute — and may change depending on application deployment events.\n\nAfter the max events are received we will respond with a 429 until 60 seconds from the start of the evaluation window has been reached and then the process repeats.\n\nThis 429 is thrown by our application load balancer and is a mechanism in place for all LangSmith users independent of plan tier to ensure continuity of service for all users.\n\n| Method            | Endpoints     | Limit | Window   |\n| ----------------- | ------------- | ----- | -------- |\n| `DELETE`          | `/sessions*`  | 30    | 1 minute |\n| `POST` OR `PATCH` | `/runs*`      | 5000  | 1 minute |\n| `GET`             | `/runs/:id`   | 30    | 1 minute |\n| `POST`            | `/feedbacks*` | 5000  | 1 minute |\n| `*`               | `*`           | 2000  | 1 minute |\n\n<Note>\n  The LangSmith SDK takes steps to minimize the likelihood of reaching these limits on run-related endpoints by batching up to 100 runs from a single session ID into a single API call.\n</Note>\n\n#### Plan-level hourly trace event limit\n\nThis 429 is the result of reaching your maximum hourly events ingested and is evaluated in a fixed window starting at the beginning of each clock hour in UTC and resets at the top of each new hour.\n\nAn event in this context is the creation or update of a run. So if run is created, then subsequently updated in the same hourly window, that will count as 2 events against this limit.\n\nThis is thrown by our application and varies by plan tier, with organizations on our Startup/Plus and Enterprise plan tiers having higher hourly limits than our Free and Developer Plan Tiers which are designed for personal use.\n\n| Plan                             | Limit          | Window |\n| -------------------------------- | -------------- | ------ |\n| Developer (no payment on file)   | 50,000 events  | 1 hour |\n| Developer (with payment on file) | 250,000 events | 1 hour |\n| Startup/Plus                     | 500,000 events | 1 hour |\n| Enterprise                       | Custom         | Custom |\n\n#### Plan-level hourly trace data ingest limit\n\nThis 429 is the result of reaching the maximum amount of data ingested across your trace inputs, outputs, and metadata and is evaluated in a fixed window starting at the beginning of each clock hour in UTC and resets at the top of each new hour.\n\nTypically, inputs, outputs, and metadata are send on both run creation and update events. So if a run is created and is 2.0MB in size at creation, and 3.0MB in size when updated in the same hourly window, that will count as 5.0MB of storage against this limit.\n\nThis is thrown by our application and varies by plan tier, with organizations on our Startup/Plus and Enterprise plan tiers having higher hourly limits than our Free and Developer Plan Tiers which are designed for personal use.\n\n| Plan                             | Limit  | Window |\n| -------------------------------- | ------ | ------ |\n| Developer (no payment on file)   | 500MB  | 1 hour |\n| Developer (with payment on file) | 2.5GB  | 1 hour |\n| Startup/Plus                     | 5.0GB  | 1 hour |\n| Enterprise                       | Custom | Custom |\n\n#### Plan-level monthly unique traces limit\n\nThis 429 is the result of reaching your maximum monthly traces ingested and is evaluated in a fixed window starting at the beginning of each calendar month in UTC and resets at the beginning of each new month.\n\nThis is thrown by our application and applies only to the Developer Plan Tier when there is no payment method on file.\n\n| Plan                           | Limit        | Window  |\n| ------------------------------ | ------------ | ------- |\n| Developer (no payment on file) | 5,000 traces | 1 month |\n\n#### Self-configured monthly usage limits\n\nThis 429 is the result of reaching your usage limit as configured by your organization admin and is evaluated in a fixed window starting at the beginning of each calendar month in UTC and resets at the beginning of each new month.\n\nThis is thrown by our application and varies by organization based on their configured settings.\n\n#### Handling 429s responses in your application\n\nSince some 429 responses are temporary and may succeed on a successive call, if you are directly calling the LangSmith API in your application we recommend implementing retry logic with exponential backoff and jitter.\n\nFor convenience, LangChain applications built with the LangSmith SDK has this capability built-in.\n\n<Note>\n  It is important to note that if you are saturating the endpoints for extended periods of time, retries may not be effective as your application will eventually run large enough backlogs to exhaust all retries.\n\n  If that is the case, we would like to discuss your needs more specifically. Please reach out to [LangSmith Support](mailto:support@langchain.dev) with details about your applications throughput needs and sample code and we can work with you to better understand whether the best approach is fixing a bug, changes to your application code, or a different LangSmith plan.\n</Note>\n\n### Usage Limits\n\nLangSmith lets you configure usage limits on tracing. Note that these are *usage* limits, not *spend* limits, which mean they let you limit the quantity of occurrences of some event rather than the total amount you will spend.\n\nLangSmith lets you set two different monthly limits, mirroring our Billable Metrics discussed in the aforementioned data retention guide:\n\n* All traces limit\n* Extended data retention traces limit\n\nThese let you limit the number of total traces, and extended data retention traces respectively.\n\n#### Properties of usage limiting\n\nUsage limiting is approximate, meaning that we do not guarantee the exactness of the limit. In rare cases, there may be a small period of time where additional traces are processed above the limit threshold before usage limiting begins to apply.\n\n#### Side effects of extended data retention traces limit\n\nThe extended data retention traces limit has side effects. If the limit is already reached, any feature that could cause an auto-upgrade of tracing tiers becomes inaccessible. This is because an auto-upgrade of a trace would cause another extended retention trace to be created, which in turn should not be allowed by the limit. Therefore, you can no longer:\n\n1. match run rules\n2. add feedback to traces\n3. add runs to annotation queues\n\nEach of these features may cause an auto upgrade, so we shut them off when the limit is reached.\n\n#### Updating usage limits\n\nUsage limits can be updated from the `Settings` page under `Usage and Billing`. Limit values are cached, so it may take a minute or two before the new limits apply.\n\n### Related content\n\n* Tutorial on how to [optimize spend](/langsmith/billing#optimize-your-tracing-spend)\n\n## Additional Resources\n\n* **[Release Versions](/langsmith/release-versions)**: Learn about LangSmith's version support policy, including Active, Critical, End of Life, and Deprecated support levels.\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/administration-overview.mdx)\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "content_length": 37597
}