{
  "title": "Deep Agents CLI",
  "source_url": "https://docs.langchain.com/oss/python/deepagents/cli",
  "content": "Interactive command-line interface for building with Deep Agents\n\nA terminal interface for building agents with persistent memory. Agents maintain context across sessions, learn project conventions, and execute code with approval controls.\n\nThe Deep Agents CLI has the following built-in capabilities:\n\n* <Icon icon=\"file\" size={16} /> **File operations** - read, write, and edit files in your project with tools that enable agents to manage and modify code and documentation.\n* <Icon icon=\"terminal\" size={16} /> **Shell command execution** - execute shell commands to run tests, build projects, manage dependencies, and interact with version control systems.\n* <Icon icon=\"magnifying-glass\" size={16} /> **Web search** - search the web for up-to-date information and documentation (requires Tavily API key).\n* <Icon icon=\"globe\" size={16} /> **HTTP requests** - make HTTP requests to APIs and external services for data fetching and integration tasks.\n* <Icon icon=\"list-check\" size={16} /> **Task planning and tracking** - break down complex tasks into discrete steps and track progress through the built-in todo system.\n* <Icon icon=\"brain\" size={16} /> **Memory storage and retrieval** - store and retrieve information across sessions, enabling agents to remember project conventions and learned patterns.\n* <Icon icon=\"head-side\" size={16} /> **Human-in-the-loop** - require human approval for sensitive tool operations.\n\n<Tip>\n  [Watch the demo video](https://youtu.be/IrnacLa9PJc?si=3yUnPbxnm2yaqVQb) to see how the Deep Agents CLI works.\n</Tip>\n\n## Quick start\n\n<Steps>\n  <Step title=\"Set your API key\" icon=\"key\">\n    Export as an environment variable:\n\n    ```bash  theme={null}\n    export ANTHROPIC_API_KEY=\"your-api-key\"\n    ```\n\n    Or create a `.env` file in your project root:\n\n    ```bash  theme={null}\n    ANTHROPIC_API_KEY=your-api-key\n    ```\n  </Step>\n\n  <Step title=\"Run the CLI\" icon=\"terminal\">\n    ```bash  theme={null}\n    uvx deepagents-cli\n    ```\n  </Step>\n\n  <Step title=\"Give the agent a task\" icon=\"message\">\n    ```bash  theme={null}\n    > Create a Python script that prints \"Hello, World!\"\n    ```\n\n    The agent proposes changes with diffs for your approval before modifying files.\n  </Step>\n</Steps>\n\n<Accordion title=\"Additional installation and configuration options\">\n  Install locally if needed:\n\n  <CodeGroup>\n    ```bash pip theme={null}\n    pip install deepagents-cli\n    ```\n\n    ```bash uv theme={null}\n    uv add deepagents-cli\n    ```\n  </CodeGroup>\n\n  The CLI uses Anthropic Claude Sonnet 4 by default. To use OpenAI:\n\n  ```bash  theme={null}\n  export OPENAI_API_KEY=\"your-key\"\n  ```\n\n  Enable web search (optional):\n\n  ```bash  theme={null}\n  export TAVILY_API_KEY=\"your-key\"\n  ```\n\n  API keys can be set as environment variables or in a `.env` file.\n</Accordion>\n\n## Configuration\n\n<AccordionGroup>\n  <Accordion title=\"Command-line options\" icon=\"flag\">\n    | Option                 | Description                                                 |\n    | ---------------------- | ----------------------------------------------------------- |\n    | `--agent NAME`         | Use named agent with separate memory                        |\n    | `--auto-approve`       | Skip tool confirmation prompts (toggle with `Ctrl+T`)       |\n    | `--sandbox TYPE`       | Execute in remote sandbox: `modal`, `daytona`, or `runloop` |\n    | `--sandbox-id ID`      | Reuse existing sandbox                                      |\n    | `--sandbox-setup PATH` | Run setup script in sandbox                                 |\n  </Accordion>\n\n  <Accordion title=\"CLI commands\" icon=\"terminal\">\n    | Command                                         | Description                             |\n    | ----------------------------------------------- | --------------------------------------- |\n    | `deepagents list`                               | List all agents                         |\n    | `deepagents help`                               | Show help                               |\n    | `deepagents reset --agent NAME`                 | Clear agent memory and reset to default |\n    | `deepagents reset --agent NAME --target SOURCE` | Copy memory from another agent          |\n  </Accordion>\n</AccordionGroup>\n\n## Interactive mode\n\n<AccordionGroup>\n  <Accordion title=\"Slash commands\" icon=\"slash\">\n    Use these commands within the CLI session:\n\n    * `/tokens` - Display token usage\n    * `/clear` - Clear conversation history\n    * `/exit` - Exit the CLI\n  </Accordion>\n\n  <Accordion title=\"Bash commands\" icon=\"terminal\">\n    Execute shell commands directly by prefixing with `!`:\n\n    ```bash  theme={null}\n    !git status\n    !npm test\n    !ls -la\n    ```\n  </Accordion>\n\n  <Accordion title=\"Keyboard shortcuts\" icon=\"keyboard\">\n    | Shortcut    | Action              |\n    | ----------- | ------------------- |\n    | `Enter`     | Submit              |\n    | `Alt+Enter` | Newline             |\n    | `Ctrl+E`    | External editor     |\n    | `Ctrl+T`    | Toggle auto-approve |\n    | `Ctrl+C`    | Interrupt           |\n    | `Ctrl+D`    | Exit                |\n  </Accordion>\n</AccordionGroup>\n\n## Set project conventions with memories\n\nAgents store information in `~/.deepagents/AGENT_NAME/memories/` as markdown files using a memory-first protocol:\n\n1. **Research**: Searches memory for relevant context before starting tasks\n2. **Response**: Checks memory when uncertain during execution\n3. **Learning**: Automatically saves new information for future sessions\n\nOrganize memories by topic with descriptive filenames:\n\n```\n~/.deepagents/backend-dev/memories/\n├── api-conventions.md\n├── database-schema.md\n└── deployment-process.md\n```\n\nTeach the agent conventions once:\n\n```bash  theme={null}\nuvx deepagents-cli --agent backend-dev\n> Our API uses snake_case and includes created_at/updated_at timestamps\n```\n\nIt remembers for future sessions:\n\n```bash  theme={null}\n> Create a /users endpoint\n# Applies conventions without prompting\n```\n\n## Use remote sandboxes\n\nExecute code in isolated remote environments for safety and flexibility. Remote sandboxes provide the following benefits:\n\n* **Safety**: Protect your local machine from potentially harmful code execution\n* **Clean environments**: Use specific dependencies or OS configurations without local setup\n* **Parallel execution**: Run multiple agents simultaneously in isolated environments\n* **Long-running tasks**: Execute time-intensive operations without blocking your machine\n* **Reproducibility**: Ensure consistent execution environments across teams\n\nTo use a remote sandbox, follow these steps:\n\n1. Configure your sandbox provider ([Runloop](https://www.runloop.ai/), [Daytona](https://www.daytona.io/), or [Modal](https://modal.com/)):\n\n   ```bash  theme={null}\n   # Runloop\n   export RUNLOOP_API_KEY=\"your-key\"\n\n   # Daytona\n   export DAYTONA_API_KEY=\"your-key\"\n\n   # Modal\n   modal setup\n   ```\n\n2. Run the CLI with a sandbox:\n\n   ```bash  theme={null}\n   uvx deepagents-cli --sandbox runloop --sandbox-setup ./setup.sh\n   ```\n\n   The agent runs locally but executes all code operations in the remote sandbox. Optional setup scripts can configure environment variables, clone repositories, and prepare dependencies.\n\n3. (Optional) Create a `setup.sh` file to configure your sandbox environment:\n\n   ```bash  theme={null}\n   #!/bin/bash\n   set -e\n\n   # Clone repository using GitHub token\n   git clone https://x-access-token:${GITHUB_TOKEN}@github.com/username/repo.git $HOME/workspace\n   cd $HOME/workspace\n\n   # Make environment variables persistent\n   cat >> ~/.bashrc <<'EOF'\n   export GITHUB_TOKEN=\"${GITHUB_TOKEN}\"\n   export OPENAI_API_KEY=\"${OPENAI_API_KEY}\"\n   cd $HOME/workspace\n   EOF\n\n   source ~/.bashrc\n   ```\n\n   Store secrets in a local `.env` file for the setup script to access.\n\n<Warning>\n  Sandboxes isolate code execution, but agents remain vulnerable to prompt injection with untrusted inputs. Use human-in-the-loop approval, short-lived secrets, and trusted setup scripts only. Note that sandbox APIs are evolving rapidly, and we expect more providers to support proxies that help mitigate prompt injection and secrets management concerns.\n</Warning>\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/deepagents/cli.mdx)\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "content_length": 8534
}