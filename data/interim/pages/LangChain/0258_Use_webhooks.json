{
  "title": "Use webhooks",
  "source_url": "https://docs.langchain.com/langsmith/use-webhooks",
  "content": "Webhooks enable event-driven communication from your LangSmith application to external services. For example, you may want to issue an update to a separate service once an API call to LangSmith has finished running.\n\nMany LangSmith endpoints accept a `webhook` parameter. If this parameter is specified by an endpoint that can accept POST requests, LangSmith will send a request at the completion of a run.\n\nWhen working with LangSmith, you may want to use webhooks to receive updates after an API call completes. Webhooks are useful for triggering actions in your service once a run has finished processing. To implement this, you need to expose an endpoint that can accept `POST` requests and pass this endpoint as a `webhook` parameter in your API request.\n\nCurrently, the SDK does not provide built-in support for defining webhook endpoints, but you can specify them manually using API requests.\n\n## Supported endpoints\n\nThe following API endpoints accept a `webhook` parameter:\n\n| Operation            | HTTP Method | Endpoint                          |\n| -------------------- | ----------- | --------------------------------- |\n| Create Run           | `POST`      | `/thread/{thread_id}/runs`        |\n| Create Thread Cron   | `POST`      | `/thread/{thread_id}/runs/crons`  |\n| Stream Run           | `POST`      | `/thread/{thread_id}/runs/stream` |\n| Wait Run             | `POST`      | `/thread/{thread_id}/runs/wait`   |\n| Create Cron          | `POST`      | `/runs/crons`                     |\n| Stream Run Stateless | `POST`      | `/runs/stream`                    |\n| Wait Run Stateless   | `POST`      | `/runs/wait`                      |\n\nIn this guide, we’ll show how to trigger a webhook after streaming a run.\n\n## Set up your assistant and thread\n\nBefore making API calls, set up your assistant and thread.\n\n<Tabs>\n  <Tab title=\"Python\">\n    ```python  theme={null}\n    from langgraph_sdk import get_client\n\n    client = get_client(url=<DEPLOYMENT_URL>)\n    assistant_id = \"agent\"\n    thread = await client.threads.create()\n    print(thread)\n    ```\n  </Tab>\n\n  <Tab title=\"JavaScript\">\n    ```js  theme={null}\n    import { Client } from \"@langchain/langgraph-sdk\";\n\n    const client = new Client({ apiUrl: <DEPLOYMENT_URL> });\n    const assistantID = \"agent\";\n    const thread = await client.threads.create();\n    console.log(thread);\n    ```\n  </Tab>\n\n  <Tab title=\"CURL\">\n    ```bash  theme={null}\n    curl --request POST \\\n        --url <DEPLOYMENT_URL>/assistants/search \\\n        --header 'Content-Type: application/json' \\\n        --data '{ \"limit\": 10, \"offset\": 0 }' | jq -c 'map(select(.config == null or .config == {})) | .[0]' && \\\n    curl --request POST \\\n        --url <DEPLOYMENT_URL>/threads \\\n        --header 'Content-Type: application/json' \\\n        --data '{}'\n    ```\n  </Tab>\n</Tabs>\n\nExample response:\n\n```json  theme={null}\n{\n    \"thread_id\": \"9dde5490-2b67-47c8-aa14-4bfec88af217\",\n    \"created_at\": \"2024-08-30T23:07:38.242730+00:00\",\n    \"updated_at\": \"2024-08-30T23:07:38.242730+00:00\",\n    \"metadata\": {},\n    \"status\": \"idle\",\n    \"config\": {},\n    \"values\": null\n}\n```\n\n## Use a webhook with a graph run\n\nTo use a webhook, specify the `webhook` parameter in your API request. When the run completes, LangSmith sends a `POST` request to the specified webhook URL.\n\nFor example, if your server listens for webhook events at `https://my-server.app/my-webhook-endpoint`, include this in your request:\n\n<Tabs>\n  <Tab title=\"Python\">\n    ```python  theme={null}\n    input = { \"messages\": [{ \"role\": \"user\", \"content\": \"Hello!\" }] }\n\n    async for chunk in client.runs.stream(\n        thread_id=thread[\"thread_id\"],\n        assistant_id=assistant_id,\n        input=input,\n        stream_mode=\"events\",\n        webhook=\"https://my-server.app/my-webhook-endpoint\"\n    ):\n        pass\n    ```\n  </Tab>\n\n  <Tab title=\"JavaScript\">\n    ```js  theme={null}\n    const input = { messages: [{ role: \"human\", content: \"Hello!\" }] };\n\n    const streamResponse = client.runs.stream(\n      thread[\"thread_id\"],\n      assistantID,\n      {\n        input: input,\n        webhook: \"https://my-server.app/my-webhook-endpoint\"\n      }\n    );\n\n    for await (const chunk of streamResponse) {\n      // Handle stream output\n    }\n    ```\n  </Tab>\n\n  <Tab title=\"CURL\">\n    ```bash  theme={null}\n    curl --request POST \\\n        --url <DEPLOYMENT_URL>/threads/<THREAD_ID>/runs/stream \\\n        --header 'Content-Type: application/json' \\\n        --data '{\n            \"assistant_id\": <ASSISTANT_ID>,\n            \"input\": {\"messages\": [{\"role\": \"user\", \"content\": \"Hello!\"}]},\n            \"webhook\": \"https://my-server.app/my-webhook-endpoint\"\n        }'\n    ```\n  </Tab>\n</Tabs>\n\n## Webhook payload\n\nLangSmith sends webhook notifications in the format of a [Run](/langsmith/assistants#execution). See the [API Reference](https://langchain-ai.github.io/langgraph/cloud/reference/api/api_ref.html#tag/assistants) for details. The request payload includes run input, configuration, and other metadata in the `kwargs` field.\n\n## Secure webhooks\n\nTo ensure only authorized requests hit your webhook endpoint, consider adding a security token as a query parameter:\n\n```\nhttps://my-server.app/my-webhook-endpoint?token=YOUR_SECRET_TOKEN\n```\n\nYour server should extract and validate this token before processing requests.\n\n## Disable webhooks\n\nAs of `langgraph-api>=0.2.78`, developers can disable webhooks in the `langgraph.json` file:\n\n```json  theme={null}\n{\n  \"http\": {\n    \"disable_webhooks\": true\n  }\n}\n```\n\nThis feature is primarily intended for self-hosted deployments, where platform administrators or developers may prefer to disable webhooks to simplify their security posture—especially if they are not configuring firewall rules or other network controls. Disabling webhooks helps prevent untrusted payloads from being sent to internal endpoints.\n\nFor full configuration details, refer to the [configuration file reference](/langsmith/cli?h=disable_webhooks#configuration-file).\n\n## Test webhooks\n\nYou can test your webhook using online services like:\n\n* **[Beeceptor](https://beeceptor.com/)** – Quickly create a test endpoint and inspect incoming webhook payloads.\n* **[Webhook.site](https://webhook.site/)** – View, debug, and log incoming webhook requests in real time.\n\nThese tools help you verify that LangSmith is correctly triggering and sending webhooks to your service.\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/use-webhooks.mdx)\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "content_length": 6767
}