{
  "title": "Application structure",
  "source_url": "https://docs.langchain.com/langsmith/application-structure",
  "content": "To deploy on LangSmith, an application must consist of one or more graphs, a configuration file (`langgraph.json`), a file that specifies dependencies, and an optional `.env` file that specifies environment variables.\n\nThis page explains how a LangSmith application is organized and how to provide the configuration details required for deployment.\n\n## Key Concepts\n\nTo deploy using LangSmith, provide the following information:\n\n1. A [configuration file](#configuration-file-concepts) (`langgraph.json`) that specifies the dependencies, graphs, and environment variables to use for the application.\n2. The [graphs](#graphs) that implement the logic of the application.\n3. A file that specifies [dependencies](#dependencies) required to run the application.\n4. [Environment variables](#environment-variables) that are required for the application to run.\n\n<Tip>\n  **Framework agnostic**\n\n  LangSmith Deployment supports deploying a [LangGraph](/oss/python/langgraph/overview) *graph*. However, the implementation of a *node* of a graph can contain arbitrary Python code. This means any framework can be implemented within a node and deployed on LangSmith Deployment. This lets you keep your core application logic outside LangGraph while still using LangSmith for [deployment](/langsmith/deployments), scaling, and [observability](/langsmith/observability).\n</Tip>\n\n## File structure\n\nThe following are examples of directory structures for Python and JavaScript applications:\n\n<Tabs>\n  <Tab title=\"Python (requirements.txt)\">\n    ```plaintext  theme={null}\n    my-app/\n    ├── my_agent # all project code lies within here\n    │   ├── utils # utilities for your graph\n    │   │   ├── __init__.py\n    │   │   ├── tools.py # tools for your graph\n    │   │   ├── nodes.py # node functions for your graph\n    │   │   └── state.py # state definition of your graph\n    │   ├── __init__.py\n    │   └── agent.py # code for constructing your graph\n    ├── .env # environment variables\n    ├── requirements.txt # package dependencies\n    └── langgraph.json # configuration file for LangGraph\n    ```\n  </Tab>\n\n  <Tab title=\"Python (pyproject.toml)\">\n    ```plaintext  theme={null}\n    my-app/\n    ├── my_agent # all project code lies within here\n    │   ├── utils # utilities for your graph\n    │   │   ├── __init__.py\n    │   │   ├── tools.py # tools for your graph\n    │   │   ├── nodes.py # node functions for your graph\n    │   │   └── state.py # state definition of your graph\n    │   ├── __init__.py\n    │   └── agent.py # code for constructing your graph\n    ├── .env # environment variables\n    ├── langgraph.json  # configuration file for LangGraph\n    └── pyproject.toml # dependencies for your project\n    ```\n  </Tab>\n\n  <Tab title=\"JS (package.json)\">\n    ```plaintext  theme={null}\n    my-app/\n    ├── src # all project code lies within here\n    │   ├── utils # optional utilities for your graph\n    │   │   ├── tools.ts # tools for your graph\n    │   │   ├── nodes.ts # node functions for your graph\n    │   │   └── state.ts # state definition of your graph\n    │   └── agent.ts # code for constructing your graph\n    ├── package.json # package dependencies\n    ├── .env # environment variables\n    └── langgraph.json # configuration file for LangGraph\n    ```\n  </Tab>\n</Tabs>\n\n<Note>\n  The directory structure of an application can vary depending on the programming language and the package manager used.\n</Note>\n\n<a id=\"configuration-file-concepts\" />\n\n## Configuration file\n\nThe `langgraph.json` file is a JSON file that specifies the dependencies, graphs, environment variables, and other settings required to deploy an application.\n\nFor details on all supported keys in the JSON file, refer to the [LangGraph configuration file reference](/langsmith/cli#configuration-file).\n\n<Tip>\n  The [LangGraph CLI](/langsmith/cli) defaults to using the configuration file `langgraph.json` in the current directory.\n</Tip>\n\n### Examples\n\n<Tabs>\n  <Tab title=\"Python\">\n    * The dependencies involve a custom local package and the `langchain_openai` package.\n    * A single graph will be loaded from the file `./your_package/your_file.py` with the variable `variable`.\n    * The environment variables are loaded from the `.env` file.\n\n    ```json  theme={null}\n    {\n        \"dependencies\": [\n            \"langchain_openai\",\n            \"./your_package\"\n        ],\n        \"graphs\": {\n            \"my_agent\": \"./your_package/your_file.py:agent\"\n        },\n        \"env\": \"./.env\"\n    }\n    ```\n  </Tab>\n\n  <Tab title=\"JavaScript\">\n    * The dependencies will be loaded from a dependency file in the local directory (e.g., `package.json`).\n    * A single graph will be loaded from the file `./your_package/your_file.js` with the function `agent`.\n    * The environment variable `OPENAI_API_KEY` is set inline.\n\n    ```json  theme={null}\n    {\n        \"dependencies\": [\n            \".\"\n        ],\n        \"graphs\": {\n            \"my_agent\": \"./your_package/your_file.js:agent\"\n        },\n        \"env\": {\n            \"OPENAI_API_KEY\": \"secret-key\"\n        }\n    }\n    ```\n  </Tab>\n</Tabs>\n\n## Dependencies\n\nAn application may depend on other Python packages or JavaScript libraries (depending on the programming language in which the application is written).\n\nYou will generally need to specify the following information for dependencies to be set up correctly:\n\n1. A file in the directory that specifies the dependencies (e.g., `requirements.txt`, `pyproject.toml`, or `package.json`).\n2. A `dependencies` key in the [configuration file](#configuration-file-concepts) that specifies the dependencies required to run the application.\n3. Any additional binaries or system libraries can be specified using `dockerfile_lines` key in the [LangGraph configuration file](#configuration-file-concepts).\n\n## Graphs\n\nUse the `graphs` key in the [configuration file](#configuration-file-concepts) to specify which graphs will be available in the deployed application.\n\nYou can specify one or more graphs in the configuration file. Each graph is identified by a unique name and a path to either (1) a compiled graph or (2) a function that defines a graph.\n\n## Environment variables\n\nIf you're working with a deployed LangGraph application [locally](/langsmith/local-server), you can configure environment variables in the `env` key of the [configuration file](#configuration-file-concepts).\n\nFor a production deployment, you will typically want to configure the environment variables in the deployment environment.\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/application-structure.mdx)\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "content_length": 6862
}