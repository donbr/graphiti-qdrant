{
  "title": "Document API authentication in OpenAPI",
  "source_url": "https://docs.langchain.com/langsmith/openapi-security",
  "content": "This guide shows how to customize the OpenAPI security schema for your LangSmith API documentation. A well-documented security schema helps API consumers understand how to authenticate with your API and even enables automatic client generation. See the [Authentication & Access Control conceptual guide](/langsmith/auth) for more details about LangGraph's authentication system.\n\n<Note>\n  **Implementation vs Documentation**\n  This guide only covers how to document your security requirements in OpenAPI. To implement the actual authentication logic, see [How to add custom authentication](/langsmith/custom-auth).\n</Note>\n\nThis guide applies to all LangSmith deployments (Cloud and self-hosted). It does not apply to usage of the LangGraph open source library if you are not using LangSmith.\n\n## Default Schema\n\nThe default security scheme varies by deployment type:\n\n<Tabs>\n  <Tab title=\"LangSmith\" />\n</Tabs>\n\nBy default, LangSmith requires a LangSmith API key in the `x-api-key` header:\n\n```yaml  theme={null}\ncomponents:\n  securitySchemes:\n    apiKeyAuth:\n      type: apiKey\n      in: header\n      name: x-api-key\nsecurity:\n  - apiKeyAuth: []\n```\n\nWhen using one of the LangGraph SDK's, this can be inferred from environment variables.\n\n<Tabs>\n  <Tab title=\"Self-hosted\" />\n</Tabs>\n\nBy default, self-hosted deployments have no security scheme. This means they are to be deployed only on a secured network or with authentication. To add custom authentication, see [How to add custom authentication](/langsmith/custom-auth).\n\n## Custom Security Schema\n\nTo customize the security schema in your OpenAPI documentation, add an `openapi` field to your `auth` configuration in `langgraph.json`. Remember that this only updates the API documentation - you must also implement the corresponding authentication logic as shown in [How to add custom authentication](/langsmith/custom-auth).\n\nNote that LangSmith does not provide authentication endpoints - you'll need to handle user authentication in your client application and pass the resulting credentials to the LangGraph API.\n\n<Tabs>\n  <Tab title=\"OAuth2 with Bearer Token\">\n    ```json  theme={null}\n    {\n      \"auth\": {\n        \"path\": \"./auth.py:my_auth\",  // Implement auth logic here\n        \"openapi\": {\n          \"securitySchemes\": {\n            \"OAuth2\": {\n              \"type\": \"oauth2\",\n              \"flows\": {\n                \"implicit\": {\n                  \"authorizationUrl\": \"https://your-auth-server.com/oauth/authorize\",\n                  \"scopes\": {\n                    \"me\": \"Read information about the current user\",\n                    \"threads\": \"Access to create and manage threads\"\n                  }\n                }\n              }\n            }\n          },\n          \"security\": [\n            {\"OAuth2\": [\"me\", \"threads\"]}\n          ]\n        }\n      }\n    }\n    ```\n  </Tab>\n\n  <Tab title=\"API Key\">\n    ```json  theme={null}\n    {\n      \"auth\": {\n        \"path\": \"./auth.py:my_auth\",  // Implement auth logic here\n        \"openapi\": {\n          \"securitySchemes\": {\n            \"apiKeyAuth\": {\n              \"type\": \"apiKey\",\n              \"in\": \"header\",\n              \"name\": \"X-API-Key\"\n            }\n          },\n          \"security\": [\n            {\"apiKeyAuth\": []}\n          ]\n        }\n      }\n    }\n    ```\n  </Tab>\n</Tabs>\n\n## Testing\n\nAfter updating your configuration:\n\n1. Deploy your application\n2. Visit `/docs` to see the updated OpenAPI documentation\n3. Try out the endpoints using credentials from your authentication server (make sure you've implemented the authentication logic first)\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/openapi-security.mdx)\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "content_length": 3944
}