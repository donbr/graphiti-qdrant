{
  "title": "Trace Claude Code",
  "source_url": "https://docs.langchain.com/langsmith/trace-claude-code",
  "content": "[Claude Code](https://code.claude.com/docs/en/overview) is one of the most impressive and useful AI coding tools to date. Claude code emits events for monitoring and observability. LangSmith can collect and display these events to give you a full detailed log on what Claude Code does under the hood.\n\n## Quick Start\n\nYou can integrate LangSmith tracing with Claude Code by setting the following environment variables in the environment in which you run Claude Code.\n\n```bash  theme={null}\n# Enables Claude Code to emit OTEL events\nexport CLAUDE_CODE_ENABLE_TELEMETRY=1\n\n# Sets the output format to use Open Telemetry Protocol\nexport OTEL_LOGS_EXPORTER=otlp\n\n# LangSmith ingests JSON format events\nexport OTEL_EXPORTER_OTLP_LOGS_PROTOCOL=http/json\n\n# Claude Code Logs are translated to Spans by LangSmith\nexport OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=https://api.smith.langchain.com/otel/v1/claude_code\n\n# Pass your API key and desired tracing project through headers\nexport OTEL_EXPORTER_OTLP_HEADERS=\"x-api-key=<api-key>,Langsmith-Project=<project-name>\"\n\n# Set this to true in order to log the input user prompts\nexport OTEL_LOG_USER_PROMPTS=1\n\n# Once these are set, start Claude Code, and events will be traced to LangSmith\nclaude\n```\n\n<Note>\n  Claude Code emits [open telemetry standard events](https://code.claude.com/docs/en/monitoring-usage#events) for monitoring usage, but this does not include the actual prompts and messages that go to the LLM.\n</Note>\n\n<Note>\n  If you're self-hosting LangSmith, replace the base endpoint with your LangSmith api endpoint and append `/api/v1`. For example: `OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=https://ai-company.com/api/v1/otel/v1/claude_code`\n</Note>\n\n<img src=\"https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=2a6e8481d9451ba0775d1dd175ad893e\" alt=\"Claude Code Trace\" data-og-width=\"3406\" width=\"3406\" data-og-height=\"1972\" height=\"1972\" data-path=\"langsmith/images/claude-code-trace.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?w=280&fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=3a00d0f6cbcd7fb5b69121e4a69abb48 280w, https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?w=560&fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=8b9c25576a05a142506b30ce068bddd4 560w, https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?w=840&fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=d5a3a902b15e71eb551eb394d5caf641 840w, https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?w=1100&fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=cfa9e38c765e191020680f34010d4fb8 1100w, https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?w=1650&fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=ee44593b5516434c6ea05c1d49306d3d 1650w, https://mintcdn.com/langchain-5e9cc07a/E8FdemkcQxROovD9/langsmith/images/claude-code-trace.png?w=2500&fit=max&auto=format&n=E8FdemkcQxROovD9&q=85&s=e037152a80fdb00763f7f64532521950 2500w\" />\n\n***\n\n<Callout icon=\"pen-to-square\" iconType=\"regular\">\n  [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/trace-claude-code.mdx)\n</Callout>\n\n<Tip icon=\"terminal\" iconType=\"regular\">\n  [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for real-time answers.\n</Tip>",
  "content_length": 3547
}