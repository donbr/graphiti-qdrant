{
  "title": "Auth0 OAuth ðŸ¤ FastMCP",
  "source_url": "https://gofastmcp.com/integrations/auth0",
  "content": "Secure your FastMCP server with Auth0 OAuth\n\nexport const VersionBadge = ({version}) => {\n  return <code className=\"version-badge-container\">\n            <p className=\"version-badge\">\n                <span className=\"version-badge-label\">New in version:</span>Â \n                <code className=\"version-badge-version\">{version}</code>\n            </p>\n        </code>;\n};\n\n<VersionBadge version=\"2.12.4\" />\n\nThis guide shows you how to secure your FastMCP server using **Auth0 OAuth**. While Auth0 does have support for Dynamic Client Registration, it is not enabled by default so this integration uses the [**OIDC Proxy**](/servers/auth/oidc-proxy) pattern to bridge Auth0's dynamic OIDC configuration with MCP's authentication requirements.\n\n## Configuration\n\n### Prerequisites\n\nBefore you begin, you will need:\n\n1. An **[Auth0 Account](https://auth0.com/)** with access to create Applications\n2. Your FastMCP server's URL (can be localhost for development, e.g., `http://localhost:8000`)\n\n### Step 1: Create an Auth0 Application\n\nCreate an Application in your Auth0 settings to get the credentials needed for authentication:\n\n<Steps>\n  <Step title=\"Navigate to Applications\">\n    Go to **Applications â†’ Applications** in your Auth0 account.\n\n    Click **\"+ Create Application\"** to create a new application.\n  </Step>\n\n  <Step title=\"Create Your Application\">\n    * **Name**: Choose a name users will recognize (e.g., \"My FastMCP Server\")\n    * **Choose an application type**: Choose \"Single Page Web Applications\"\n    * Click **Create** to create the application\n  </Step>\n\n  <Step title=\"Configure Your Application\">\n    Select the \"Settings\" tab for your application, then find the \"Application URIs\" section.\n\n    * **Allowed Callback URLs**: Your server URL + `/auth/callback` (e.g., `http://localhost:8000/auth/callback`)\n    * Click **Save** to save your changes\n\n    <Warning>\n      The callback URL must match exactly. The default path is `/auth/callback`, but you can customize it using the `redirect_path` parameter.\n    </Warning>\n\n    <Tip>\n      If you want to use a custom callback path (e.g., `/auth/auth0/callback`), make sure to set the same path in both your Auth0 Application settings and the `redirect_path` parameter when configuring the Auth0Provider.\n    </Tip>\n  </Step>\n\n  <Step title=\"Save Your Credentials\">\n    After creating the app, in the \"Basic Information\" section you'll see:\n\n    * **Client ID**: A public identifier like `tv2ObNgaZAWWhhycr7Bz1LU2mxlnsmsB`\n    * **Client Secret**: A private hidden value that should always be stored securely\n\n    <Tip>\n      Store these credentials securely. Never commit them to version control. Use environment variables or a secrets manager in production.\n    </Tip>\n  </Step>\n\n  <Step title=\"Select Your Audience\">\n    Go to **Applications â†’ APIs** in your Auth0 account.\n\n    * Find the API that you want to use for your application\n    * **API Audience**: A URL that uniquely identifies the API\n\n    <Tip>\n      Store this along with of the credentials above. Never commit this to version control. Use environment variables or a secrets manager in production.\n    </Tip>\n  </Step>\n</Steps>\n\n### Step 2: FastMCP Configuration\n\nCreate your FastMCP server using the `Auth0Provider`.\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.auth0 import Auth0Provider\n\n# The Auth0Provider utilizes Auth0 OIDC configuration\nauth_provider = Auth0Provider(\n    config_url=\"https://.../.well-known/openid-configuration\",  # Your Auth0 configuration URL\n    client_id=\"tv2ObNgaZAWWhhycr7Bz1LU2mxlnsmsB\",               # Your Auth0 application Client ID\n    client_secret=\"vPYqbjemq...\",                               # Your Auth0 application Client Secret\n    audience=\"https://...\",                                     # Your Auth0 API audience\n    base_url=\"http://localhost:8000\",                           # Must match your application configuration\n    # redirect_path=\"/auth/callback\"                            # Default value, customize if needed\n)\n\nmcp = FastMCP(name=\"Auth0 Secured App\", auth=auth_provider)\n\n# Add a protected tool to test authentication\n@mcp.tool\nasync def get_token_info() -> dict:\n    \"\"\"Returns information about the Auth0 token.\"\"\"\n    from fastmcp.server.dependencies import get_access_token\n\n    token = get_access_token()\n\n    return {\n        \"issuer\": token.claims.get(\"iss\"),\n        \"audience\": token.claims.get(\"aud\"),\n        \"scope\": token.claims.get(\"scope\")\n    }\n```\n\n## Testing\n\n### Running the Server\n\nStart your FastMCP server with HTTP transport to enable OAuth flows:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp run server.py --transport http --port 8000\n```\n\nYour server is now running and protected by Auth0 authentication.\n\n### Testing with a Client\n\nCreate a test client that authenticates with your Auth0-protected server:\n\n```python test_client.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import Client\nimport asyncio\n\nasync def main():\n    # The client will automatically handle Auth0 OAuth flows\n    async with Client(\"http://localhost:8000/mcp\", auth=\"oauth\") as client:\n        # First-time connection will open Auth0 login in your browser\n        print(\"âœ“ Authenticated with Auth0!\")\n\n        # Test the protected tool\n        result = await client.call_tool(\"get_token_info\")\n        print(f\"Auth0 audience: {result['audience']}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\nWhen you run the client for the first time:\n\n1. Your browser will open to Auth0's authorization page\n2. After you authorize the app, you'll be redirected back\n3. The client receives the token and can make authenticated requests\n\n## Production Configuration\n\n<VersionBadge version=\"2.13.0\" />\n\nFor production deployments with persistent token management across server restarts, configure `jwt_signing_key`, and `client_storage`:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nimport os\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.auth0 import Auth0Provider\nfrom key_value.aio.stores.redis import RedisStore\nfrom key_value.aio.wrappers.encryption import FernetEncryptionWrapper\nfrom cryptography.fernet import Fernet\n\n# Production setup with encrypted persistent token storage\nauth_provider = Auth0Provider(\n    config_url=\"https://.../.well-known/openid-configuration\",\n    client_id=\"tv2ObNgaZAWWhhycr7Bz1LU2mxlnsmsB\",\n    client_secret=\"vPYqbjemq...\",\n    audience=\"https://...\",\n    base_url=\"https://your-production-domain.com\",\n\n    # Production token management\n    jwt_signing_key=os.environ[\"JWT_SIGNING_KEY\"],\n    client_storage=FernetEncryptionWrapper(\n        key_value=RedisStore(\n            host=os.environ[\"REDIS_HOST\"],\n            port=int(os.environ[\"REDIS_PORT\"])\n        ),\n        fernet=Fernet(os.environ[\"STORAGE_ENCRYPTION_KEY\"])\n    )\n)\n\nmcp = FastMCP(name=\"Production Auth0 App\", auth=auth_provider)\n```\n\n<Note>\n  Parameters (`jwt_signing_key` and `client_storage`) work together to ensure tokens and client registrations survive server restarts. **Wrap your storage in `FernetEncryptionWrapper` to encrypt sensitive OAuth tokens at rest** - without it, tokens are stored in plaintext. Store secrets in environment variables and use a persistent storage backend like Redis for distributed deployments.\n\n  For complete details on these parameters, see the [OAuth Proxy documentation](/servers/auth/oauth-proxy#configuration-parameters).\n</Note>\n\n<Info>\n  The client caches tokens locally, so you won't need to re-authenticate for subsequent runs unless the token expires or you explicitly clear the cache.\n</Info>\n\n## Environment Variables\n\nFor production deployments, use environment variables instead of hardcoding credentials.\n\n### Provider Selection\n\nSetting this environment variable allows the Auth0 provider to be used automatically without explicitly instantiating it in code.\n\n<Card>\n  <ParamField path=\"FASTMCP_SERVER_AUTH\" default=\"Not set\">\n    Set to `fastmcp.server.auth.providers.auth0.Auth0Provider` to use Auth0 authentication.\n  </ParamField>\n</Card>\n\n### Auth0-Specific Configuration\n\nThese environment variables provide default values for the Auth0 provider, whether it's instantiated manually or configured via `FASTMCP_SERVER_AUTH`.\n\n<Card>\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_CONFIG_URL\" required>\n    Your Auth0 Application Configuration URL (e.g., `https://.../.well-known/openid-configuration`)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_CLIENT_ID\" required>\n    Your Auth0 Application Client ID (e.g., `tv2ObNgaZAWWhhycr7Bz1LU2mxlnsmsB`)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_CLIENT_SECRET\" required>\n    Your Auth0 Application Client Secret (e.g., `vPYqbjemq...`)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_AUDIENCE\" required>\n    Your Auth0 API Audience\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_BASE_URL\" required>\n    Public URL where OAuth endpoints will be accessible (includes any mount path)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_ISSUER_URL\" default=\"Uses BASE_URL\">\n    Issuer URL for OAuth metadata (defaults to `BASE_URL`). Set to root-level URL when mounting under a path prefix to avoid 404 logs. See [HTTP Deployment guide](/deployment/http#mounting-authenticated-servers) for details.\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_REDIRECT_PATH\" default=\"/auth/callback\">\n    Redirect path configured in your Auth0 Application\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTH0_REQUIRED_SCOPES\" default=\"[&#x22;openid&#x22;]\">\n    Comma-, space-, or JSON-separated list of required AUth0 scopes (e.g., `openid email` or `[\"openid\",\"email\"]`)\n  </ParamField>\n</Card>\n\nExample `.env` file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# Use the Auth0 provider\nFASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.auth0.Auth0Provider\n\n# Auth0 configuration and credentials\nFASTMCP_SERVER_AUTH_AUTH0_CONFIG_URL=https://.../.well-known/openid-configuration\nFASTMCP_SERVER_AUTH_AUTH0_CLIENT_ID=tv2ObNgaZAWWhhycr7Bz1LU2mxlnsmsB\nFASTMCP_SERVER_AUTH_AUTH0_CLIENT_SECRET=vPYqbjemq...\nFASTMCP_SERVER_AUTH_AUTH0_AUDIENCE=https://...\nFASTMCP_SERVER_AUTH_AUTH0_BASE_URL=https://your-server.com\nFASTMCP_SERVER_AUTH_AUTH0_REQUIRED_SCOPES=openid,email\n```\n\nWith environment variables set, your server code simplifies to:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\n\n# Authentication is automatically configured from environment\nmcp = FastMCP(name=\"Auth0 Secured App\")\n\n@mcp.tool\nasync def search_logs() -> list[str]:\n    \"\"\"Search the service logs.\"\"\"\n    # Your tool implementation here\n    pass\n```",
  "content_length": 10913
}