{
  "title": "error_handling",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-middleware-error_handling",
  "content": "# `fastmcp.server.middleware.error_handling`\n\nError handling middleware for consistent error responses and tracking.\n\n## Classes\n\n### `ErrorHandlingMiddleware` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/error_handling.py#L18\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nMiddleware that provides consistent error handling and logging.\n\nCatches exceptions, logs them appropriately, and converts them to\nproper MCP error responses. Also tracks error patterns for monitoring.\n\n**Methods:**\n\n#### `on_message` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/error_handling.py#L114\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_message(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nHandle errors for all messages.\n\n#### `get_error_stats` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/error_handling.py#L125\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_error_stats(self) -> dict[str, int]\n```\n\nGet error statistics for monitoring.\n\n### `RetryMiddleware` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/error_handling.py#L130\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nMiddleware that implements automatic retry logic for failed requests.\n\nRetries requests that fail with transient errors, using exponential\nbackoff to avoid overwhelming the server or external dependencies.\n\n**Methods:**\n\n#### `on_request` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/error_handling.py#L186\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_request(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nImplement retry logic for requests.",
  "content_length": 2183
}