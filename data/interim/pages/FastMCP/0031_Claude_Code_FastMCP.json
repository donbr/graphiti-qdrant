{
  "title": "Claude Code ðŸ¤ FastMCP",
  "source_url": "https://gofastmcp.com/integrations/claude-code",
  "content": "Install and use FastMCP servers in Claude Code\n\nexport const LocalFocusTip = () => {\n  return <Tip>\n            <strong>This integration focuses on running local FastMCP server files with STDIO transport.</strong> For remote servers running with HTTP or SSE transport, use your client's native configuration - FastMCP's integrations focus on simplifying the complex local setup with dependencies and <code>uv</code> commands.\n        </Tip>;\n};\n\nexport const VersionBadge = ({version}) => {\n  return <code className=\"version-badge-container\">\n            <p className=\"version-badge\">\n                <span className=\"version-badge-label\">New in version:</span>Â \n                <code className=\"version-badge-version\">{version}</code>\n            </p>\n        </code>;\n};\n\n<LocalFocusTip />\n\nClaude Code supports MCP servers through multiple transport methods including STDIO, SSE, and HTTP, allowing you to extend Claude's capabilities with custom tools, resources, and prompts from your FastMCP servers.\n\n## Requirements\n\nThis integration uses STDIO transport to run your FastMCP server locally. For remote deployments, you can run your FastMCP server with HTTP or SSE transport and configure it directly using Claude Code's built-in MCP management commands.\n\n## Create a Server\n\nThe examples in this guide will use the following simple dice-rolling server, saved as `server.py`.\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nimport random\nfrom fastmcp import FastMCP\n\nmcp = FastMCP(name=\"Dice Roller\")\n\n@mcp.tool\ndef roll_dice(n_dice: int) -> list[int]:\n    \"\"\"Roll `n_dice` 6-sided dice and return the results.\"\"\"\n    return [random.randint(1, 6) for _ in range(n_dice)]\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n## Install the Server\n\n### FastMCP CLI\n\n<VersionBadge version=\"2.10.3\" />\n\nThe easiest way to install a FastMCP server in Claude Code is using the `fastmcp install claude-code` command. This automatically handles the configuration, dependency management, and calls Claude Code's built-in MCP management system.\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py\n```\n\nThe install command supports the same `file.py:object` notation as the `run` command. If no object is specified, it will automatically look for a FastMCP server object named `mcp`, `server`, or `app` in your file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# These are equivalent if your server object is named 'mcp'\nfastmcp install claude-code server.py\nfastmcp install claude-code server.py:mcp\n\n# Use explicit object name if your server has a different name\nfastmcp install claude-code server.py:my_custom_server\n```\n\nThe command will automatically configure the server with Claude Code's `claude mcp add` command.\n\n#### Dependencies\n\nFastMCP provides flexible dependency management options for your Claude Code servers:\n\n**Individual packages**: Use the `--with` flag to specify packages your server needs. You can use this flag multiple times:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --with pandas --with requests\n```\n\n**Requirements file**: If you maintain a `requirements.txt` file with all your dependencies, use `--with-requirements` to install them:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --with-requirements requirements.txt\n```\n\n**Editable packages**: For local packages under development, use `--with-editable` to install them in editable mode:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --with-editable ./my-local-package\n```\n\nAlternatively, you can use a `fastmcp.json` configuration file (recommended):\n\n```json fastmcp.json theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n  \"$schema\": \"https://gofastmcp.com/public/schemas/fastmcp.json/v1.json\",\n  \"source\": {\n    \"path\": \"server.py\",\n    \"entrypoint\": \"mcp\"\n  },\n  \"environment\": {\n    \"dependencies\": [\"pandas\", \"requests\"]\n  }\n}\n```\n\n#### Python Version and Project Configuration\n\nControl the Python environment for your server with these options:\n\n**Python version**: Use `--python` to specify which Python version your server requires. This ensures compatibility when your server needs specific Python features:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --python 3.11\n```\n\n**Project directory**: Use `--project` to run your server within a specific project context. This tells `uv` to use the project's configuration files and virtual environment:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --project /path/to/my-project\n```\n\n#### Environment Variables\n\nIf your server needs environment variables (like API keys), you must include them:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --server-name \"Weather Server\" \\\n  --env API_KEY=your-api-key \\\n  --env DEBUG=true\n```\n\nOr load them from a `.env` file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-code server.py --server-name \"Weather Server\" --env-file .env\n```\n\n<Warning>\n  **Claude Code must be installed**. The integration looks for the Claude Code CLI at the default installation location (`~/.claude/local/claude`) and uses the `claude mcp add` command to register servers.\n</Warning>\n\n### Manual Configuration\n\nFor more control over the configuration, you can manually use Claude Code's built-in MCP management commands. This gives you direct control over how your server is launched:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# Add a server with custom configuration\nclaude mcp add dice-roller -- uv run --with fastmcp fastmcp run server.py\n\n# Add with environment variables\nclaude mcp add weather-server -e API_KEY=secret -e DEBUG=true -- uv run --with fastmcp fastmcp run server.py\n\n# Add with specific scope (local, user, or project)\nclaude mcp add my-server --scope user -- uv run --with fastmcp fastmcp run server.py\n```\n\nYou can also manually specify Python versions and project directories in your Claude Code commands:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# With specific Python version\nclaude mcp add ml-server -- uv run --python 3.11 --with fastmcp fastmcp run server.py\n\n# Within a project directory\nclaude mcp add project-server -- uv run --project /path/to/project --with fastmcp fastmcp run server.py\n```\n\n## Using the Server\n\nOnce your server is installed, you can start using your FastMCP server with Claude Code.\n\nTry asking Claude something like:\n\n> \"Roll some dice for me\"\n\nClaude will automatically detect your `roll_dice` tool and use it to fulfill your request, returning something like:\n\n> I'll roll some dice for you! Here are your results: \\[4, 2, 6]\n>\n> You rolled three dice and got a 4, a 2, and a 6!\n\nClaude Code can now access all the tools, resources, and prompts you've defined in your FastMCP server.\n\nIf your server provides resources, you can reference them with `@` mentions using the format `@server:protocol://resource/path`. If your server provides prompts, you can use them as slash commands with `/mcp__servername__promptname`.",
  "content_length": 7427
}