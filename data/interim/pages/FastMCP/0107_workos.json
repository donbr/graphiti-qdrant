{
  "title": "workos",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-auth-providers-workos",
  "content": "# `fastmcp.server.auth.providers.workos`\n\nWorkOS authentication providers for FastMCP.\n\nThis module provides two WorkOS authentication strategies:\n\n1. WorkOSProvider - OAuth proxy for WorkOS Connect applications (non-DCR)\n2. AuthKitProvider - DCR-compliant provider for WorkOS AuthKit\n\nChoose based on your WorkOS setup and authentication requirements.\n\n## Classes\n\n### `WorkOSProviderSettings` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L31\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nSettings for WorkOS OAuth provider.\n\n### `WorkOSTokenVerifier` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L57\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nToken verifier for WorkOS OAuth tokens.\n\nWorkOS AuthKit tokens are opaque, so we verify them by calling\nthe /oauth2/userinfo endpoint to check validity and get user info.\n\n**Methods:**\n\n#### `verify_token` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L82\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nverify_token(self, token: str) -> AccessToken | None\n```\n\nVerify WorkOS OAuth token by calling userinfo endpoint.\n\n### `WorkOSProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L129\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nComplete WorkOS OAuth provider for FastMCP.\n\nThis provider implements WorkOS AuthKit OAuth using the OAuth Proxy pattern.\nIt provides OAuth2 authentication for users through WorkOS Connect applications.\n\nFeatures:\n\n* Transparent OAuth proxy to WorkOS AuthKit\n* Automatic token validation via userinfo endpoint\n* User information extraction from ID tokens\n* Support for standard OAuth scopes (openid, profile, email)\n\nSetup Requirements:\n\n1. Create a WorkOS Connect application in your dashboard\n2. Note your AuthKit domain (e.g., \"[https://your-app.authkit.app](https://your-app.authkit.app)\")\n3. Configure redirect URI as: [http://localhost:8000/auth/callback](http://localhost:8000/auth/callback)\n4. Note your Client ID and Client Secret\n\n### `AuthKitProviderSettings` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L283\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n### `AuthKitProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L300\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nAuthKit metadata provider for DCR (Dynamic Client Registration).\n\nThis provider implements AuthKit integration using metadata forwarding\ninstead of OAuth proxying. This is the recommended approach for WorkOS DCR\nas it allows WorkOS to handle the OAuth flow directly while FastMCP acts\nas a resource server.\n\nIMPORTANT SETUP REQUIREMENTS:\n\n1. Enable Dynamic Client Registration in WorkOS Dashboard:\n   * Go to Applications â†’ Configuration\n   * Toggle \"Dynamic Client Registration\" to enabled\n\n2. Configure your FastMCP server URL as a callback:\n   * Add your server URL to the Redirects tab in WorkOS dashboard\n   * Example: [https://your-fastmcp-server.com/oauth2/callback](https://your-fastmcp-server.com/oauth2/callback)\n\nFor detailed setup instructions, see:\n[https://workos.com/docs/authkit/mcp/integrating/token-verification](https://workos.com/docs/authkit/mcp/integrating/token-verification)\n\n**Methods:**\n\n#### `get_routes` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/workos.py#L383\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_routes(self, mcp_path: str | None = None) -> list[Route]\n```\n\nGet OAuth routes including AuthKit authorization server metadata forwarding.\n\nThis returns the standard protected resource routes plus an authorization server\nmetadata endpoint that forwards AuthKit's OAuth metadata to clients.\n\n**Args:**\n\n* `mcp_path`: The path where the MCP endpoint is mounted (e.g., \"/mcp\")\n  This is used to advertise the resource URL in metadata.",
  "content_length": 4450
}