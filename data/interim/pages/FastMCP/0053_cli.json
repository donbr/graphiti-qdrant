{
  "title": "cli",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-cli-cli",
  "content": "# `fastmcp.cli.cli`\n\nFastMCP CLI tools using Cyclopts.\n\n## Functions\n\n### `with_argv` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L67\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nwith_argv(args: list[str] | None)\n```\n\nTemporarily replace sys.argv if args provided.\n\nThis context manager is used at the CLI boundary to inject\nserver arguments when needed, without mutating sys.argv deep\nin the source loading logic.\n\nArgs are provided without the script name, so we preserve sys.argv\\[0]\nand replace the rest.\n\n### `version` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L90\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nversion()\n```\n\nDisplay version information and platform details.\n\n### `dev` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L128\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ndev(server_spec: str | None = None) -> None\n```\n\nRun an MCP server with the MCP Inspector for development.\n\n**Args:**\n\n* `server_spec`: Python file to run, optionally with :object suffix, or None to auto-detect fastmcp.json\n\n### `run` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L306\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nrun(server_spec: str | None = None, *server_args: str) -> None\n```\n\nRun an MCP server or connect to a remote one.\n\nThe server can be specified in several ways:\n\n1. Module approach: \"server.py\" - runs the module directly, looking for an object named 'mcp', 'server', or 'app'\n2. Import approach: \"server.py:app\" - imports and runs the specified server object\n3. URL approach: \"[http://server-url](http://server-url)\" - connects to a remote server and creates a proxy\n4. MCPConfig file: \"mcp.json\" - runs as a proxy server for the MCP Servers in the MCPConfig file\n5. FastMCP config: \"fastmcp.json\" - runs server using FastMCP configuration\n6. No argument: looks for fastmcp.json in current directory\n\nServer arguments can be passed after -- :\nfastmcp run server.py -- --config config.json --debug\n\n**Args:**\n\n* `server_spec`: Python file, object specification (file:obj), config file, URL, or None to auto-detect\n\n### `inspect` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L540\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ninspect(server_spec: str | None = None) -> None\n```\n\nInspect an MCP server and display information or generate a JSON report.\n\nThis command analyzes an MCP server. Without flags, it displays a text summary.\nUse --format to output complete JSON data.\n\n**Examples:**\n\n# Show text summary\n\nfastmcp inspect server.py\n\n# Output FastMCP format JSON to stdout\n\nfastmcp inspect server.py --format fastmcp\n\n# Save MCP protocol format to file (format required with -o)\n\nfastmcp inspect server.py --format mcp -o manifest.json\n\n# Inspect from fastmcp.json configuration\n\nfastmcp inspect fastmcp.json\nfastmcp inspect  # auto-detect fastmcp.json\n\n**Args:**\n\n* `server_spec`: Python file to inspect, optionally with :object suffix, or fastmcp.json\n\n### `prepare` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L785\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nprepare(config_path: Annotated[str | None, cyclopts.Parameter(help='Path to fastmcp.json configuration file')] = None, output_dir: Annotated[str | None, cyclopts.Parameter(help='Directory to create the persistent environment in')] = None, skip_source: Annotated[bool, cyclopts.Parameter(help='Skip source preparation (e.g., git clone)')] = False) -> None\n```\n\nPrepare a FastMCP project by creating a persistent uv environment.\n\nThis command creates a persistent uv project with all dependencies installed:\n\n* Creates a pyproject.toml with dependencies from the config\n* Installs all Python packages into a .venv\n* Prepares the source (git clone, download, etc.) unless --skip-source\n\nAfter running this command, you can use:\nfastmcp run \\<config> --project \\<output-dir>\n\nThis is useful for:\n\n* CI/CD pipelines with separate build and run stages\n* Docker images where you prepare during build\n* Production deployments where you want fast startup times",
  "content_length": 4825
}