{
  "title": "auth",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-auth-auth",
  "content": "# `fastmcp.server.auth.auth`\n\n## Classes\n\n### `AccessToken` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L36\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nAccessToken that includes all JWT claims.\n\n### `AuthProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L42\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nBase class for all FastMCP authentication providers.\n\nThis class provides a unified interface for all authentication providers,\nwhether they are simple token verifiers or full OAuth authorization servers.\nAll providers must be able to verify tokens and can optionally provide\ncustom authentication routes.\n\n**Methods:**\n\n#### `verify_token` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L69\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nverify_token(self, token: str) -> AccessToken | None\n```\n\nVerify a bearer token and return access info if valid.\n\nAll auth providers must implement token verification.\n\n**Args:**\n\n* `token`: The token string to validate\n\n**Returns:**\n\n* AccessToken object if valid, None if invalid or expired\n\n#### `get_routes` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L82\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_routes(self, mcp_path: str | None = None) -> list[Route]\n```\n\nGet all routes for this authentication provider.\n\nThis includes both well-known discovery routes and operational routes.\nEach provider is responsible for creating whatever routes it needs:\n\n* TokenVerifier: typically no routes (default implementation)\n* RemoteAuthProvider: protected resource metadata routes\n* OAuthProvider: full OAuth authorization server routes\n* Custom providers: whatever routes they need\n\n**Args:**\n\n* `mcp_path`: The path where the MCP endpoint is mounted (e.g., \"/mcp\")\n  This is used to advertise the resource URL in metadata, but the\n  provider does not create the actual MCP endpoint route.\n\n**Returns:**\n\n* List of all routes for this provider (excluding the MCP endpoint itself)\n\n#### `get_well_known_routes` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L105\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_well_known_routes(self, mcp_path: str | None = None) -> list[Route]\n```\n\nGet well-known discovery routes for this authentication provider.\n\nThis is a utility method that filters get\\_routes() to return only\nwell-known discovery routes (those starting with /.well-known/).\n\nWell-known routes provide OAuth metadata and discovery endpoints that\nclients use to discover authentication capabilities. These routes should\nbe mounted at the root level of the application to comply with RFC 8414\nand RFC 9728.\n\nCommon well-known routes:\n\n* /.well-known/oauth-authorization-server (authorization server metadata)\n* /.well-known/oauth-protected-resource/\\* (protected resource metadata)\n\n**Args:**\n\n* `mcp_path`: The path where the MCP endpoint is mounted (e.g., \"/mcp\")\n  This is used to construct path-scoped well-known URLs.\n\n**Returns:**\n\n* List of well-known discovery routes (typically mounted at root level)\n\n#### `get_middleware` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L137\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_middleware(self) -> list\n```\n\nGet HTTP application-level middleware for this auth provider.\n\n**Returns:**\n\n* List of Starlette Middleware instances to apply to the HTTP app\n\n### `TokenVerifier` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L170\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nBase class for token verifiers (Resource Servers).\n\nThis class provides token verification capability without OAuth server functionality.\nToken verifiers typically don't provide authentication routes by default.\n\n**Methods:**\n\n#### `verify_token` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L191\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nverify_token(self, token: str) -> AccessToken | None\n```\n\nVerify a bearer token and return access info if valid.\n\n### `RemoteAuthProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L196\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nAuthentication provider for resource servers that verify tokens from known authorization servers.\n\nThis provider composes a TokenVerifier with authorization server metadata to create\nstandardized OAuth 2.0 Protected Resource endpoints (RFC 9728). Perfect for:\n\n* JWT verification with known issuers\n* Remote token introspection services\n* Any resource server that knows where its tokens come from\n\nUse this when you have token verification logic and want to advertise\nthe authorization servers that issue valid tokens.\n\n**Methods:**\n\n#### `verify_token` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L237\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nverify_token(self, token: str) -> AccessToken | None\n```\n\nVerify token using the configured token verifier.\n\n#### `get_routes` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L241\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_routes(self, mcp_path: str | None = None) -> list[Route]\n```\n\nGet routes for this provider.\n\nCreates protected resource metadata routes (RFC 9728).\n\n### `OAuthProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L269\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nOAuth Authorization Server provider.\n\nThis class provides full OAuth server functionality including client registration,\nauthorization flows, token issuance, and token verification.\n\n**Methods:**\n\n#### `verify_token` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L332\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nverify_token(self, token: str) -> AccessToken | None\n```\n\nVerify a bearer token and return access info if valid.\n\nThis method implements the TokenVerifier protocol by delegating\nto our existing load\\_access\\_token method.\n\n**Args:**\n\n* `token`: The token string to validate\n\n**Returns:**\n\n* AccessToken object if valid, None if invalid or expired\n\n#### `get_routes` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/auth.py#L347\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_routes(self, mcp_path: str | None = None) -> list[Route]\n```\n\nGet OAuth authorization server routes and optional protected resource routes.\n\nThis method creates the full set of OAuth routes including:\n\n* Standard OAuth authorization server routes (/.well-known/oauth-authorization-server, /authorize, /token, etc.)\n* Optional protected resource routes\n\n**Returns:**\n\n* List of OAuth routes",
  "content_length": 8095
}