{
  "title": "AuthKit ðŸ¤ FastMCP",
  "source_url": "https://gofastmcp.com/integrations/authkit",
  "content": "Secure your FastMCP server with AuthKit by WorkOS\n\nexport const VersionBadge = ({version}) => {\n  return <code className=\"version-badge-container\">\n            <p className=\"version-badge\">\n                <span className=\"version-badge-label\">New in version:</span>Â \n                <code className=\"version-badge-version\">{version}</code>\n            </p>\n        </code>;\n};\n\n<VersionBadge version=\"2.11.0\" />\n\nThis guide shows you how to secure your FastMCP server using WorkOS's **AuthKit**, a complete authentication and user management solution. This integration uses the [**Remote OAuth**](/servers/auth/remote-oauth) pattern, where AuthKit handles user login and your FastMCP server validates the tokens.\n\n## Configuration\n\n### Prerequisites\n\nBefore you begin, you will need:\n\n1. A **[WorkOS Account](https://workos.com/)** and a new **Project**.\n2. An **[AuthKit](https://www.authkit.com/)** instance configured within your WorkOS project.\n3. Your FastMCP server's URL (can be localhost for development, e.g., `http://localhost:8000`).\n\n### Step 1: AuthKit Configuration\n\nIn your WorkOS Dashboard, enable AuthKit and configure the following settings:\n\n<Steps>\n  <Step title=\"Enable Dynamic Client Registration\">\n    Go to **Applications â†’ Configuration** and enable **Dynamic Client Registration**. This allows MCP clients register with your application automatically.\n\n        <img src=\"https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=5849352618ef89da08cf452c5dcf38a8\" alt=\"Enable Dynamic Client Registration\" data-og-width=\"2644\" width=\"2644\" data-og-height=\"1588\" height=\"1588\" data-path=\"integrations/images/authkit/enable_dcr.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?w=280&fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=afe3af1599ffac48411edaa7eb8ee35e 280w, https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?w=560&fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=fa6e286fd2e98a984dbed9dd30375e07 560w, https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?w=840&fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=26ba396eef845948a2bbe7405716a419 840w, https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?w=1100&fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=5270b0b09891741087494f2819be6f19 1100w, https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?w=1650&fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=604955d22d5556d3464f5b4919664c41 1650w, https://mintcdn.com/fastmcp/hUosZw7ujHZFemrG/integrations/images/authkit/enable_dcr.png?w=2500&fit=max&auto=format&n=hUosZw7ujHZFemrG&q=85&s=a4e1627dd14ee7c1c2ad6b6628dc8520 2500w\" />\n  </Step>\n\n  <Step title=\"Note Your AuthKit Domain\">\n    Find your **AuthKit Domain** on the configuration page. It will look like `https://your-project-12345.authkit.app`. You'll need this for your FastMCP server configuration.\n  </Step>\n</Steps>\n\n### Step 2: FastMCP Configuration\n\nCreate your FastMCP server file and use the `AuthKitProvider` to handle all the OAuth integration automatically:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.workos import AuthKitProvider\n\n# The AuthKitProvider automatically discovers WorkOS endpoints\n# and configures JWT token validation\nauth_provider = AuthKitProvider(\n    authkit_domain=\"https://your-project-12345.authkit.app\",\n    base_url=\"http://localhost:8000\"  # Use your actual server URL\n)\n\nmcp = FastMCP(name=\"AuthKit Secured App\", auth=auth_provider)\n```\n\n## Testing\n\nTo test your server, you can use the `fastmcp` CLI to run it locally. Assuming you've saved the above code to `server.py` (after replacing the `authkit_domain` and `base_url` with your actual values!), you can run the following command:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp run server.py --transport http --port 8000\n```\n\nNow, you can use a FastMCP client to test that you can reach your server after authenticating:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import Client\nimport asyncio\n\nasync def main():\n    async with Client(\"http://localhost:8000/mcp\", auth=\"oauth\") as client:\n        assert await client.ping()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n## Environment Variables\n\n<VersionBadge version=\"2.12.1\" />\n\nFor production deployments, use environment variables instead of hardcoding credentials.\n\n### Provider Selection\n\nSetting this environment variable allows the AuthKit provider to be used automatically without explicitly instantiating it in code.\n\n<Card>\n  <ParamField path=\"FASTMCP_SERVER_AUTH\" default=\"Not set\">\n    Set to `fastmcp.server.auth.providers.workos.AuthKitProvider` to use AuthKit authentication.\n  </ParamField>\n</Card>\n\n### AuthKit-Specific Configuration\n\nThese environment variables provide default values for the AuthKit provider, whether it's instantiated manually or configured via `FASTMCP_SERVER_AUTH`.\n\n<Card>\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTHKITPROVIDER_AUTHKIT_DOMAIN\" required>\n    Your AuthKit domain (e.g., `https://your-project-12345.authkit.app`)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTHKITPROVIDER_BASE_URL\" required>\n    Public URL of your FastMCP server (e.g., `https://your-server.com` or `http://localhost:8000` for development)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_AUTHKITPROVIDER_REQUIRED_SCOPES\" default=\"[]\">\n    Comma-, space-, or JSON-separated list of required OAuth scopes (e.g., `openid profile email` or `[\"openid\", \"profile\", \"email\"]`)\n  </ParamField>\n</Card>\n\nExample `.env` file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# Use the AuthKit provider\nFASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.workos.AuthKitProvider\n\n# AuthKit configuration\nFASTMCP_SERVER_AUTH_AUTHKITPROVIDER_AUTHKIT_DOMAIN=https://your-project-12345.authkit.app\nFASTMCP_SERVER_AUTH_AUTHKITPROVIDER_BASE_URL=https://your-server.com\nFASTMCP_SERVER_AUTH_AUTHKITPROVIDER_REQUIRED_SCOPES=openid,profile,email\n```\n\nWith environment variables set, your server code simplifies to:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\n\n# Authentication is automatically configured from environment\nmcp = FastMCP(name=\"AuthKit Secured App\")\n```",
  "content_length": 6587
}