{
  "title": "mcp_config",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-mcp_config",
  "content": "# `fastmcp.mcp_config`\n\nCanonical MCP Configuration Format.\n\nThis module defines the standard configuration format for Model Context Protocol (MCP) servers.\nIt provides a client-agnostic, extensible format that can be used across all MCP implementations.\n\nThe configuration format supports both stdio and remote (HTTP/SSE) transports, with comprehensive\nfield definitions for server metadata, authentication, and execution parameters.\n\nExample configuration:\n\n```json  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n    \"mcpServers\": {\n        \"my-server\": {\n            \"command\": \"npx\",\n            \"args\": [\"-y\", \"@my/mcp-server\"],\n            \"env\": {\"API_KEY\": \"secret\"},\n            \"timeout\": 30000,\n            \"description\": \"My MCP server\"\n        }\n    }\n}\n```\n\n## Functions\n\n### `infer_transport_type_from_url` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L56\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ninfer_transport_type_from_url(url: str | AnyUrl) -> Literal['http', 'sse']\n```\n\nInfer the appropriate transport type from the given URL.\n\n### `update_config_file` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L312\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nupdate_config_file(file_path: Path, server_name: str, server_config: CanonicalMCPServerTypes) -> None\n```\n\nUpdate an MCP configuration file from a server object, preserving existing fields.\n\nThis is used for updating the mcpServer configurations of third-party tools so we do not\nworry about transforming server objects here.\n\n## Classes\n\n### `StdioMCPServer` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L126\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nMCP server configuration for stdio transport.\n\nThis is the canonical configuration format for MCP servers using stdio transport.\n\n**Methods:**\n\n#### `to_transport` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L156\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_transport(self) -> StdioTransport\n```\n\n### `TransformingStdioMCPServer` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L167\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA Stdio server with tool transforms.\n\n### `RemoteMCPServer` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L171\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nMCP server configuration for HTTP/SSE transport.\n\nThis is the canonical configuration format for MCP servers using remote transports.\n\n**Methods:**\n\n#### `to_transport` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L207\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_transport(self) -> StreamableHttpTransport | SSETransport\n```\n\n### `TransformingRemoteMCPServer` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L232\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA Remote server with tool transforms.\n\n### `MCPConfig` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L243\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA configuration object for MCP Servers that conforms to the canonical MCP configuration format\nwhile adding additional fields for enabling FastMCP-specific features like tool transformations\nand filtering by tags.\n\nFor an MCPConfig that is strictly canonical, see the `CanonicalMCPConfig` class.\n\n**Methods:**\n\n#### `wrap_servers_at_root` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L257\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nwrap_servers_at_root(cls, values: dict[str, Any]) -> dict[str, Any]\n```\n\nIf there's no mcpServers key but there are server configs at root, wrap them.\n\n#### `add_server` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L270\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nadd_server(self, name: str, server: MCPServerTypes) -> None\n```\n\nAdd or update a server in the configuration.\n\n#### `from_dict` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L275\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom_dict(cls, config: dict[str, Any]) -> Self\n```\n\nParse MCP configuration from dictionary format.\n\n#### `to_dict` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L279\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_dict(self) -> dict[str, Any]\n```\n\nConvert MCPConfig to dictionary format, preserving all fields.\n\n#### `write_to_file` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L283\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nwrite_to_file(self, file_path: Path) -> None\n```\n\nWrite configuration to JSON file.\n\n#### `from_file` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L289\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom_file(cls, file_path: Path) -> Self\n```\n\nLoad configuration from JSON file.\n\n### `CanonicalMCPConfig` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L297\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nCanonical MCP configuration format.\n\nThis defines the standard configuration format for Model Context Protocol servers.\nThe format is designed to be client-agnostic and extensible for future use cases.\n\n**Methods:**\n\n#### `add_server` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L307\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nadd_server(self, name: str, server: CanonicalMCPServerTypes) -> None\n```\n\nAdd or update a server in the configuration.",
  "content_length": 7175
}