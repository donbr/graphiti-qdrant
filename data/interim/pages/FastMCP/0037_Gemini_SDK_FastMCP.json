{
  "title": "Gemini SDK ðŸ¤ FastMCP",
  "source_url": "https://gofastmcp.com/integrations/gemini",
  "content": "Connect FastMCP servers to the Google Gemini SDK\n\nexport const VersionBadge = ({version}) => {\n  return <code className=\"version-badge-container\">\n            <p className=\"version-badge\">\n                <span className=\"version-badge-label\">New in version:</span>Â \n                <code className=\"version-badge-version\">{version}</code>\n            </p>\n        </code>;\n};\n\nGoogle's Gemini API includes built-in support for MCP servers in their Python and JavaScript SDKs, allowing you to connect directly to MCP servers and use their tools seamlessly with Gemini models.\n\n## Gemini Python SDK\n\nGoogle's [Gemini Python SDK](https://ai.google.dev/gemini-api/docs) can use FastMCP clients directly.\n\n<Note>\n  Google's MCP integration is currently experimental and available in the Python and JavaScript SDKs. The API automatically calls MCP tools when needed and can connect to both local and remote MCP servers.\n</Note>\n\n<Tip>\n  Currently, Gemini's MCP support only accesses **tools** from MCP serversâ€”it queries the `list_tools` endpoint and exposes those functions to the AI. Other MCP features like resources and prompts are not currently supported.\n</Tip>\n\n### Create a Server\n\nFirst, create a FastMCP server with the tools you want to expose. For this example, we'll create a server with a single tool that rolls dice.\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nimport random\nfrom fastmcp import FastMCP\n\nmcp = FastMCP(name=\"Dice Roller\")\n\n@mcp.tool\ndef roll_dice(n_dice: int) -> list[int]:\n    \"\"\"Roll `n_dice` 6-sided dice and return the results.\"\"\"\n    return [random.randint(1, 6) for _ in range(n_dice)]\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n### Call the Server\n\nTo use the Gemini API with MCP, you'll need to install the Google Generative AI SDK:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\npip install google-genai\n```\n\nYou'll also need to authenticate with Google. You can do this by setting the `GEMINI_API_KEY` environment variable. Consult the Gemini SDK documentation for more information.\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nexport GEMINI_API_KEY=\"your-api-key\"\n```\n\nGemini's SDK interacts directly with the MCP client session. To call the server, you'll need to instantiate a FastMCP client, enter its connection context, and pass the client session to the Gemini SDK.\n\n```python {5, 9, 15} theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import Client\nfrom google import genai\nimport asyncio\n\nmcp_client = Client(\"server.py\")\ngemini_client = genai.Client()\n\nasync def main():    \n    async with mcp_client:\n        response = await gemini_client.aio.models.generate_content(\n            model=\"gemini-2.0-flash\",\n            contents=\"Roll 3 dice!\",\n            config=genai.types.GenerateContentConfig(\n                temperature=0,\n                tools=[mcp_client.session],  # Pass the FastMCP client session\n            ),\n        )\n        print(response.text)\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\nIf you run this code, you'll see output like:\n\n```text  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nOkay, I rolled 3 dice and got a 5, 4, and 1.\n```\n\n### Remote & Authenticated Servers\n\nIn the above example, we connected to our local server using `stdio` transport. Because we're using a FastMCP client, you can also connect to any local or remote MCP server, using any [transport](/clients/transports) or [auth](/clients/auth) method supported by FastMCP, simply by changing the client configuration.\n\nFor example, to connect to a remote, authenticated server, you can use the following client:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import Client\nfrom fastmcp.client.auth import BearerAuth\n\nmcp_client = Client(\n    \"https://my-server.com/mcp/\",\n    auth=BearerAuth(\"<your-token>\"),\n)\n```\n\nThe rest of the code remains the same.",
  "content_length": 3972
}