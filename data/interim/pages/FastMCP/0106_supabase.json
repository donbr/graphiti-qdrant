{
  "title": "supabase",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-auth-providers-supabase",
  "content": "# `fastmcp.server.auth.providers.supabase`\n\nSupabase authentication provider for FastMCP.\n\nThis module provides SupabaseProvider - a complete authentication solution that integrates\nwith Supabase Auth's JWT verification, supporting Dynamic Client Registration (DCR)\nfor seamless MCP client authentication.\n\n## Classes\n\n### `SupabaseProviderSettings` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/supabase.py#L28\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n### `SupabaseProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/supabase.py#L46\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nSupabase metadata provider for DCR (Dynamic Client Registration).\n\nThis provider implements Supabase Auth integration using metadata forwarding.\nThis approach allows Supabase to handle the OAuth flow directly while FastMCP acts\nas a resource server, verifying JWTs issued by Supabase Auth.\n\nIMPORTANT SETUP REQUIREMENTS:\n\n1. Supabase Project Setup:\n   * Create a Supabase project at [https://supabase.com](https://supabase.com)\n   * Note your project URL (e.g., \"[https://abc123.supabase.co](https://abc123.supabase.co)\")\n   * Configure your JWT algorithm in Supabase Auth settings (HS256, RS256, or ES256)\n   * Asymmetric keys (RS256/ES256) are recommended for production\n\n2. JWT Verification:\n   * FastMCP verifies JWTs using the JWKS endpoint at {project_url}/auth/v1/.well-known/jwks.json\n   * JWTs are issued by {project_url}/auth/v1\n   * Tokens are cached for up to 10 minutes by Supabase's edge servers\n   * Algorithm must match your Supabase Auth configuration\n\n3. Authorization:\n   * Supabase uses Row Level Security (RLS) policies for database authorization\n   * OAuth-level scopes are an upcoming feature in Supabase Auth\n   * Both approaches will be supported once scope handling is available\n\nFor detailed setup instructions, see:\n[https://supabase.com/docs/guides/auth/jwts](https://supabase.com/docs/guides/auth/jwts)\n\n**Methods:**\n\n#### `get_routes` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/supabase.py#L144\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_routes(self, mcp_path: str | None = None) -> list[Route]\n```\n\nGet OAuth routes including Supabase authorization server metadata forwarding.\n\nThis returns the standard protected resource routes plus an authorization server\nmetadata endpoint that forwards Supabase's OAuth metadata to clients.\n\n**Args:**\n\n* `mcp_path`: The path where the MCP endpoint is mounted (e.g., \"/mcp\")\n  This is used to advertise the resource URL in metadata.",
  "content_length": 2830
}