{
  "title": "timing",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-middleware-timing",
  "content": "# `fastmcp.server.middleware.timing`\n\nTiming middleware for measuring and logging request performance.\n\n## Classes\n\n### `TimingMiddleware` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L10\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nMiddleware that logs the execution time of requests.\n\nOnly measures and logs timing for request messages (not notifications).\nProvides insights into performance characteristics of your MCP server.\n\n**Methods:**\n\n#### `on_request` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L39\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_request(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime request execution and log the results.\n\n### `DetailedTimingMiddleware` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L60\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nEnhanced timing middleware with per-operation breakdowns.\n\nProvides detailed timing information for different types of MCP operations,\nallowing you to identify performance bottlenecks in specific operations.\n\n**Methods:**\n\n#### `on_call_tool` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L111\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_call_tool(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime tool execution.\n\n#### `on_read_resource` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L118\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_read_resource(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime resource reading.\n\n#### `on_get_prompt` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L127\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_get_prompt(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime prompt retrieval.\n\n#### `on_list_tools` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L134\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_list_tools(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime tool listing.\n\n#### `on_list_resources` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L140\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_list_resources(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime resource listing.\n\n#### `on_list_resource_templates` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L146\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_list_resource_templates(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime resource template listing.\n\n#### `on_list_prompts` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/middleware/timing.py#L152\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\non_list_prompts(self, context: MiddlewareContext, call_next: CallNext) -> Any\n```\n\nTime prompt listing.",
  "content_length": 4124
}