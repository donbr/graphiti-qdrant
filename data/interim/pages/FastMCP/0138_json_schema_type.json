{
  "title": "json_schema_type",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema_type",
  "content": "# `fastmcp.utilities.json_schema_type`\n\nConvert JSON Schema to Python types with validation.\n\nThe json\\_schema\\_to\\_type function converts a JSON Schema into a Python type that can be used\nfor validation with Pydantic. It supports:\n\n* Basic types (string, number, integer, boolean, null)\n* Complex types (arrays, objects)\n* Format constraints (date-time, email, uri)\n* Numeric constraints (minimum, maximum, multipleOf)\n* String constraints (minLength, maxLength, pattern)\n* Array constraints (minItems, maxItems, uniqueItems)\n* Object properties with defaults\n* References and recursive schemas\n* Enums and constants\n* Union types\n\nExample:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nschema = {\n    \"type\": \"object\",\n    \"properties\": {\n        \"name\": {\"type\": \"string\", \"minLength\": 1},\n        \"age\": {\"type\": \"integer\", \"minimum\": 0},\n        \"email\": {\"type\": \"string\", \"format\": \"email\"}\n    },\n    \"required\": [\"name\", \"age\"]\n}\n\n# Name is optional and will be inferred from schema's \"title\" property if not provided\nPerson = json_schema_to_type(schema)\n# Creates a validated dataclass with name, age, and optional email fields\n```\n\n## Functions\n\n### `json_schema_to_type` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/json_schema_type.py#L110\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\njson_schema_to_type(schema: Mapping[str, Any], name: str | None = None) -> type\n```\n\nConvert JSON schema to appropriate Python type with validation.\n\n**Args:**\n\n* `schema`: A JSON Schema dictionary defining the type structure and validation rules\n* `name`: Optional name for object schemas. Only allowed when schema type is \"object\".\n  If not provided for objects, name will be inferred from schema's \"title\"\n  property or default to \"Root\".\n\n**Returns:**\n\n* A Python type (typically a dataclass for objects) with Pydantic validation\n\n**Raises:**\n\n* `ValueError`: If a name is provided for a non-object schema\n\n**Examples:**\n\nCreate a dataclass from an object schema:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nschema = {\n    \"type\": \"object\",\n    \"title\": \"Person\",\n    \"properties\": {\n        \"name\": {\"type\": \"string\", \"minLength\": 1},\n        \"age\": {\"type\": \"integer\", \"minimum\": 0},\n        \"email\": {\"type\": \"string\", \"format\": \"email\"}\n    },\n    \"required\": [\"name\", \"age\"]\n}\n\nPerson = json_schema_to_type(schema)\n# Creates a dataclass with name, age, and optional email fields:\n# @dataclass\n# class Person:\n#     name: str\n#     age: int\n#     email: str | None = None\n```\n\nPerson(name=\"John\", age=30)\n\nCreate a scalar type with constraints:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nschema = {\n    \"type\": \"string\",\n    \"minLength\": 3,\n    \"pattern\": \"^[A-Z][a-z]+$\"\n}\n\nNameType = json_schema_to_type(schema)\n# Creates Annotated[str, StringConstraints(min_length=3, pattern=\"^[A-Z][a-z]+$\")]\n\n@dataclass\nclass Name:\n    name: NameType\n```\n\n## Classes\n\n### `JSONSchema` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/json_schema_type.py#L77\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>",
  "content_length": 3298
}