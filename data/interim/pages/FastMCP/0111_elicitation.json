{
  "title": "elicitation",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-elicitation",
  "content": "# `fastmcp.server.elicitation`\n\n## Functions\n\n### `get_elicitation_schema` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L99\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_elicitation_schema(response_type: type[T]) -> dict[str, Any]\n```\n\nGet the schema for an elicitation response.\n\n**Args:**\n\n* `response_type`: The type of the response\n\n### `validate_elicitation_json_schema` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L118\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nvalidate_elicitation_json_schema(schema: dict[str, Any]) -> None\n```\n\nValidate that a JSON schema follows MCP elicitation requirements.\n\nThis ensures the schema is compatible with MCP elicitation requirements:\n\n* Must be an object schema\n* Must only contain primitive field types (string, number, integer, boolean)\n* Must be flat (no nested objects or arrays of objects)\n* Allows const fields (for Literal types) and enum fields (for Enum types)\n* Only primitive types and their nullable variants are allowed\n\n**Args:**\n\n* `schema`: The JSON schema to validate\n\n**Raises:**\n\n* `TypeError`: If the schema doesn't meet MCP elicitation requirements\n\n## Classes\n\n### `ElicitationJsonSchema` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L32\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nCustom JSON schema generator for MCP elicitation that always inlines enums.\n\nMCP elicitation requires inline enum schemas without $ref/$defs references.\nThis generator ensures enums are always generated inline for compatibility.\nOptionally adds enumNames for better UI display when available.\n\n**Methods:**\n\n#### `generate_inner` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L40\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ngenerate_inner(self, schema: core_schema.CoreSchema) -> JsonSchemaValue\n```\n\nOverride to prevent ref generation for enums.\n\n#### `enum_schema` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L50\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nenum_schema(self, schema: core_schema.EnumSchema) -> JsonSchemaValue\n```\n\nGenerate inline enum schema with optional enumNames for better UI.\n\nIf enum members have a *display\\_name* attribute or custom **str**,\nwe'll include enumNames for better UI representation.\n\n### `AcceptedElicitation` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L87\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nResult when user accepts the elicitation.\n\n### `ScalarElicitationType` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L95\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>",
  "content_length": 3364
}