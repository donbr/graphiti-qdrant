{
  "title": "introspection",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-auth-providers-introspection",
  "content": "# `fastmcp.server.auth.providers.introspection`\n\nOAuth 2.0 Token Introspection (RFC 7662) provider for FastMCP.\n\nThis module provides token verification for opaque tokens using the OAuth 2.0\nToken Introspection protocol defined in RFC 7662. It allows FastMCP servers to\nvalidate tokens issued by authorization servers that don't use JWT format.\n\nExample:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.introspection import IntrospectionTokenVerifier\n\n# Verify opaque tokens via RFC 7662 introspection\nverifier = IntrospectionTokenVerifier(\n    introspection_url=\"https://auth.example.com/oauth/introspect\",\n    client_id=\"your-client-id\",\n    client_secret=\"your-client-secret\",\n    required_scopes=[\"read\", \"write\"]\n)\n\nmcp = FastMCP(\"My Protected Server\", auth=verifier)\n```\n\n## Classes\n\n### `IntrospectionTokenVerifierSettings` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/introspection.py#L43\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nSettings for OAuth 2.0 Token Introspection verification.\n\n### `IntrospectionTokenVerifier` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/introspection.py#L65\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nOAuth 2.0 Token Introspection verifier (RFC 7662).\n\nThis verifier validates opaque tokens by calling an OAuth 2.0 token introspection\nendpoint. Unlike JWT verification which is stateless, token introspection requires\na network call to the authorization server for each token validation.\n\nThe verifier authenticates to the introspection endpoint using HTTP Basic Auth\nwith the provided client\\_id and client\\_secret, as specified in RFC 7662.\n\nUse this when:\n\n* Your authorization server issues opaque (non-JWT) tokens\n* You need to validate tokens from Auth0, Okta, Keycloak, or other OAuth servers\n* Your tokens require real-time revocation checking\n* Your authorization server supports RFC 7662 introspection\n\n**Methods:**\n\n#### `verify_token` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/introspection.py#L184\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nverify_token(self, token: str) -> AccessToken | None\n```\n\nVerify a bearer token using OAuth 2.0 Token Introspection (RFC 7662).\n\nThis method makes a POST request to the introspection endpoint with the token,\nauthenticated using HTTP Basic Auth with the client credentials.\n\n**Args:**\n\n* `token`: The opaque token string to validate\n\n**Returns:**\n\n* AccessToken object if valid and active, None if invalid, inactive, or expired",
  "content_length": 2850
}