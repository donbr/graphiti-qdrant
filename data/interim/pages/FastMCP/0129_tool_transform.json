{
  "title": "tool_transform",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-tools-tool_transform",
  "content": "# `fastmcp.tools.tool_transform`\n\n## Functions\n\n### `forward` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L37\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nforward(**kwargs: Any) -> ToolResult\n```\n\nForward to parent tool with argument transformation applied.\n\nThis function can only be called from within a transformed tool's custom\nfunction. It applies argument transformation (renaming, validation) before\ncalling the parent tool.\n\nFor example, if the parent tool has args `x` and `y`, but the transformed\ntool has args `a` and `b`, and an `transform_args` was provided that maps `x` to\n`a` and `y` to `b`, then `forward(a=1, b=2)` will call the parent tool with\n`x=1` and `y=2`.\n\n**Args:**\n\n* `**kwargs`: Arguments to forward to the parent tool (using transformed names).\n\n**Returns:**\n\n* The ToolResult from the parent tool execution.\n\n**Raises:**\n\n* `RuntimeError`: If called outside a transformed tool context.\n* `TypeError`: If provided arguments don't match the transformed schema.\n\n### `forward_raw` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L67\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nforward_raw(**kwargs: Any) -> ToolResult\n```\n\nForward directly to parent tool without transformation.\n\nThis function bypasses all argument transformation and validation, calling the parent\ntool directly with the provided arguments. Use this when you need to call the parent\nwith its original parameter names and structure.\n\nFor example, if the parent tool has args `x` and `y`, then `forward_raw(x=1,\ny=2)` will call the parent tool with `x=1` and `y=2`.\n\n**Args:**\n\n* `**kwargs`: Arguments to pass directly to the parent tool (using original names).\n\n**Returns:**\n\n* The ToolResult from the parent tool execution.\n\n**Raises:**\n\n* `RuntimeError`: If called outside a transformed tool context.\n\n### `apply_transformations_to_tools` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L933\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\napply_transformations_to_tools(tools: dict[str, Tool], transformations: dict[str, ToolTransformConfig]) -> dict[str, Tool]\n```\n\nApply a list of transformations to a list of tools. Tools that do not have any transformations\nare left unchanged.\n\n## Classes\n\n### `ArgTransform` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L94\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nConfiguration for transforming a parent tool's argument.\n\nThis class allows fine-grained control over how individual arguments are transformed\nwhen creating a new tool from an existing one. You can rename arguments, change their\ndescriptions, add default values, or hide them from clients while passing constants.\n\n**Examples:**\n\nRename argument 'old\\_name' to 'new\\_name'\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(name=\"new_name\")\n```\n\nChange description only\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(description=\"Updated description\")\n```\n\nAdd a default value (makes argument optional)\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(default=42)\n```\n\nAdd a default factory (makes argument optional)\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(default_factory=lambda: time.time())\n```\n\nChange the type\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(type=str)\n```\n\nHide the argument entirely from clients\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(hide=True)\n```\n\nHide argument but pass a constant value to parent\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(hide=True, default=\"constant_value\")\n```\n\nHide argument but pass a factory-generated value to parent\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(hide=True, default_factory=lambda: uuid.uuid4().hex)\n```\n\nMake an optional parameter required (removes any default)\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(required=True)\n```\n\nCombine multiple transformations\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nArgTransform(name=\"new_name\", description=\"New desc\", default=None, type=int)\n```\n\n### `ArgTransformConfig` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L208\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA model for requesting a single argument transform.\n\n**Methods:**\n\n#### `to_arg_transform` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L226\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_arg_transform(self) -> ArgTransform\n```\n\nConvert the argument transform to a FastMCP argument transform.\n\n### `TransformedTool` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L232\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA tool that is transformed from another tool.\n\nThis class represents a tool that has been created by transforming another tool.\nIt supports argument renaming, schema modification, custom function injection,\nstructured output control, and provides context for the forward() and forward\\_raw() functions.\n\nThe transformation can be purely schema-based (argument renaming, dropping, etc.)\nor can include a custom function that uses forward() to call the parent tool\nwith transformed arguments. Output schemas and structured outputs are automatically\ninherited from the parent tool but can be overridden or disabled.\n\n**Methods:**\n\n#### `run` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L259\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nrun(self, arguments: dict[str, Any]) -> ToolResult\n```\n\nRun the tool with context set for forward() functions.\n\nThis method executes the tool's function while setting up the context\nthat allows forward() and forward\\_raw() to work correctly within custom\nfunctions.\n\n**Args:**\n\n* `arguments`: Dictionary of arguments to pass to the tool's function.\n\n**Returns:**\n\n* ToolResult object containing content and optional structured output.\n\n#### `from_tool` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L364\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom_tool(cls, tool: Tool, name: str | None = None, title: str | NotSetT | None = NotSet, description: str | NotSetT | None = NotSet, tags: set[str] | None = None, transform_fn: Callable[..., Any] | None = None, transform_args: dict[str, ArgTransform] | None = None, annotations: ToolAnnotations | NotSetT | None = NotSet, output_schema: dict[str, Any] | Literal[False] | NotSetT | None = NotSet, serializer: Callable[[Any], str] | NotSetT | None = NotSet, meta: dict[str, Any] | NotSetT | None = NotSet, enabled: bool | None = None) -> TransformedTool\n```\n\nCreate a transformed tool from a parent tool.\n\n**Args:**\n\n* `tool`: The parent tool to transform.\n* `transform_fn`: Optional custom function. Can use forward() and forward\\_raw()\n  to call the parent tool. Functions with \\*\\*kwargs receive transformed\n  argument names.\n* `name`: New name for the tool. Defaults to parent tool's name.\n* `title`: New title for the tool. Defaults to parent tool's title.\n* `transform_args`: Optional transformations for parent tool arguments.\n  Only specified arguments are transformed, others pass through unchanged:\n* Simple rename (str)\n* Complex transformation (rename/description/default/drop) (ArgTransform)\n* Drop the argument (None)\n* `description`: New description. Defaults to parent's description.\n* `tags`: New tags. Defaults to parent's tags.\n* `annotations`: New annotations. Defaults to parent's annotations.\n* `output_schema`: Control output schema for structured outputs:\n* None (default): Inherit from transform\\_fn if available, then parent tool\n* dict: Use custom output schema\n* False: Disable output schema and structured outputs\n* `serializer`: New serializer. Defaults to parent's serializer.\n* `meta`: Control meta information:\n* NotSet (default): Inherit from parent tool\n* dict: Use custom meta information\n* None: Remove meta information\n\n**Returns:**\n\n* TransformedTool with the specified transformations.\n\n**Examples:**\n\n# Transform specific arguments only\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nTool.from_tool(parent, transform_args={\"old\": \"new\"})  # Others unchanged\n```\n\n# Custom function with partial transforms\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nasync def custom(x: int, y: int) -> str:\n    result = await forward(x=x, y=y)\n    return f\"Custom: {result}\"\n\nTool.from_tool(parent, transform_fn=custom, transform_args={\"a\": \"x\", \"b\": \"y\"})\n```\n\n# Using \\*\\*kwargs (gets all args, transformed and untransformed)\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nasync def flexible(**kwargs) -> str:\n    result = await forward(**kwargs)\n    return f\"Got: {kwargs}\"\n\nTool.from_tool(parent, transform_fn=flexible, transform_args={\"a\": \"x\"})\n```\n\n# Control structured outputs and schemas\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# Custom output schema\nTool.from_tool(parent, output_schema={\n    \"type\": \"object\",\n    \"properties\": {\"status\": {\"type\": \"string\"}}\n})\n\n# Disable structured outputs\nTool.from_tool(parent, output_schema=None)\n\n# Return ToolResult for full control\nasync def custom_output(**kwargs) -> ToolResult:\n    result = await forward(**kwargs)\n    return ToolResult(\n        content=[TextContent(text=\"Summary\")],\n        structured_content={\"processed\": True}\n    )\n```\n\n### `ToolTransformConfig` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L887\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nProvides a way to transform a tool.\n\n**Methods:**\n\n#### `apply` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L919\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\napply(self, tool: Tool) -> TransformedTool\n```\n\nCreate a TransformedTool from a provided tool and this transformation configuration.",
  "content_length": 11281
}