{
  "title": "GitHub OAuth ðŸ¤ FastMCP",
  "source_url": "https://gofastmcp.com/integrations/github",
  "content": "Secure your FastMCP server with GitHub OAuth\n\nexport const VersionBadge = ({version}) => {\n  return <code className=\"version-badge-container\">\n            <p className=\"version-badge\">\n                <span className=\"version-badge-label\">New in version:</span>Â \n                <code className=\"version-badge-version\">{version}</code>\n            </p>\n        </code>;\n};\n\n<VersionBadge version=\"2.12.0\" />\n\nThis guide shows you how to secure your FastMCP server using **GitHub OAuth**. Since GitHub doesn't support Dynamic Client Registration, this integration uses the [**OAuth Proxy**](/servers/auth/oauth-proxy) pattern to bridge GitHub's traditional OAuth with MCP's authentication requirements.\n\n## Configuration\n\n### Prerequisites\n\nBefore you begin, you will need:\n\n1. A **[GitHub Account](https://github.com/)** with access to create OAuth Apps\n2. Your FastMCP server's URL (can be localhost for development, e.g., `http://localhost:8000`)\n\n### Step 1: Create a GitHub OAuth App\n\nCreate an OAuth App in your GitHub settings to get the credentials needed for authentication:\n\n<Steps>\n  <Step title=\"Navigate to OAuth Apps\">\n    Go to **Settings â†’ Developer settings â†’ OAuth Apps** in your GitHub account, or visit [github.com/settings/developers](https://github.com/settings/developers).\n\n    Click **\"New OAuth App\"** to create a new application.\n  </Step>\n\n  <Step title=\"Configure Your OAuth App\">\n    Fill in the application details:\n\n    * **Application name**: Choose a name users will recognize (e.g., \"My FastMCP Server\")\n    * **Homepage URL**: Your application's homepage or documentation URL\n    * **Authorization callback URL**: Your server URL + `/auth/callback` (e.g., `http://localhost:8000/auth/callback`)\n\n    <Warning>\n      The callback URL must match exactly. The default path is `/auth/callback`, but you can customize it using the `redirect_path` parameter. For local development, GitHub allows `http://localhost` URLs. For production, you must use HTTPS.\n    </Warning>\n\n    <Tip>\n      If you want to use a custom callback path (e.g., `/auth/github/callback`), make sure to set the same path in both your GitHub OAuth App settings and the `redirect_path` parameter when configuring the GitHubProvider.\n    </Tip>\n  </Step>\n\n  <Step title=\"Save Your Credentials\">\n    After creating the app, you'll see:\n\n    * **Client ID**: A public identifier like `Ov23liAbcDefGhiJkLmN`\n    * **Client Secret**: Click \"Generate a new client secret\" and save the value securely\n\n    <Tip>\n      Store these credentials securely. Never commit them to version control. Use environment variables or a secrets manager in production.\n    </Tip>\n  </Step>\n</Steps>\n\n### Step 2: FastMCP Configuration\n\nCreate your FastMCP server using the `GitHubProvider`, which handles GitHub's OAuth quirks automatically:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.github import GitHubProvider\n\n# The GitHubProvider handles GitHub's token format and validation\nauth_provider = GitHubProvider(\n    client_id=\"Ov23liAbcDefGhiJkLmN\",  # Your GitHub OAuth App Client ID\n    client_secret=\"github_pat_...\",     # Your GitHub OAuth App Client Secret\n    base_url=\"http://localhost:8000\",   # Must match your OAuth App configuration\n    # redirect_path=\"/auth/callback\"   # Default value, customize if needed\n)\n\nmcp = FastMCP(name=\"GitHub Secured App\", auth=auth_provider)\n\n# Add a protected tool to test authentication\n@mcp.tool\nasync def get_user_info() -> dict:\n    \"\"\"Returns information about the authenticated GitHub user.\"\"\"\n    from fastmcp.server.dependencies import get_access_token\n    \n    token = get_access_token()\n    # The GitHubProvider stores user data in token claims\n    return {\n        \"github_user\": token.claims.get(\"login\"),\n        \"name\": token.claims.get(\"name\"),\n        \"email\": token.claims.get(\"email\")\n    }\n```\n\n## Testing\n\n### Running the Server\n\nStart your FastMCP server with HTTP transport to enable OAuth flows:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp run server.py --transport http --port 8000\n```\n\nYour server is now running and protected by GitHub OAuth authentication.\n\n### Testing with a Client\n\nCreate a test client that authenticates with your GitHub-protected server:\n\n```python test_client.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import Client\nimport asyncio\n\nasync def main():\n    # The client will automatically handle GitHub OAuth\n    async with Client(\"http://localhost:8000/mcp\", auth=\"oauth\") as client:\n        # First-time connection will open GitHub login in your browser\n        print(\"âœ“ Authenticated with GitHub!\")\n        \n        # Test the protected tool\n        result = await client.call_tool(\"get_user_info\")\n        print(f\"GitHub user: {result['github_user']}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\nWhen you run the client for the first time:\n\n1. Your browser will open to GitHub's authorization page\n2. After you authorize the app, you'll be redirected back\n3. The client receives the token and can make authenticated requests\n\n<Info>\n  The client caches tokens locally, so you won't need to re-authenticate for subsequent runs unless the token expires or you explicitly clear the cache.\n</Info>\n\n## Production Configuration\n\n<VersionBadge version=\"2.13.0\" />\n\nFor production deployments with persistent token management across server restarts, configure `jwt_signing_key` and `client_storage`:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nimport os\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.github import GitHubProvider\nfrom key_value.aio.stores.redis import RedisStore\nfrom key_value.aio.wrappers.encryption import FernetEncryptionWrapper\nfrom cryptography.fernet import Fernet\n\n# Production setup with encrypted persistent token storage\nauth_provider = GitHubProvider(\n    client_id=\"Ov23liAbcDefGhiJkLmN\",\n    client_secret=\"github_pat_...\",\n    base_url=\"https://your-production-domain.com\",\n\n    # Production token management\n    jwt_signing_key=os.environ[\"JWT_SIGNING_KEY\"],\n    client_storage=FernetEncryptionWrapper(\n        key_value=RedisStore(\n            host=os.environ[\"REDIS_HOST\"],\n            port=int(os.environ[\"REDIS_PORT\"])\n        ),\n        fernet=Fernet(os.environ[\"STORAGE_ENCRYPTION_KEY\"])\n    )\n)\n\nmcp = FastMCP(name=\"Production GitHub App\", auth=auth_provider)\n```\n\n<Note>\n  Parameters (`jwt_signing_key` and `client_storage`) work together to ensure tokens and client registrations survive server restarts. **Wrap your storage in `FernetEncryptionWrapper` to encrypt sensitive OAuth tokens at rest** - without it, tokens are stored in plaintext. Store secrets in environment variables and use a persistent storage backend like Redis for distributed deployments.\n\n  For complete details on these parameters, see the [OAuth Proxy documentation](/servers/auth/oauth-proxy#configuration-parameters).\n</Note>\n\n## Environment Variables\n\n<VersionBadge version=\"2.12.1\" />\n\nFor production deployments, use environment variables instead of hardcoding credentials.\n\n### Provider Selection\n\nSetting this environment variable allows the GitHub provider to be used automatically without explicitly instantiating it in code.\n\n<Card>\n  <ParamField path=\"FASTMCP_SERVER_AUTH\" default=\"Not set\">\n    Set to `fastmcp.server.auth.providers.github.GitHubProvider` to use GitHub authentication.\n  </ParamField>\n</Card>\n\n### GitHub-Specific Configuration\n\nThese environment variables provide default values for the GitHub provider, whether it's instantiated manually or configured via `FASTMCP_SERVER_AUTH`.\n\n<Card>\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_CLIENT_ID\" required>\n    Your GitHub OAuth App Client ID (e.g., `Ov23liAbcDefGhiJkLmN`)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_CLIENT_SECRET\" required>\n    Your GitHub OAuth App Client Secret\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_BASE_URL\" default=\"http://localhost:8000\">\n    Public URL where OAuth endpoints will be accessible (includes any mount path)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_ISSUER_URL\" default=\"Uses BASE_URL\">\n    Issuer URL for OAuth metadata (defaults to `BASE_URL`). Set to root-level URL when mounting under a path prefix to avoid 404 logs. See [HTTP Deployment guide](/deployment/http#mounting-authenticated-servers) for details.\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_REDIRECT_PATH\" default=\"/auth/callback\">\n    Redirect path configured in your GitHub OAuth App\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_REQUIRED_SCOPES\" default=\"[&#x22;user&#x22;]\">\n    Comma-, space-, or JSON-separated list of required GitHub scopes (e.g., `user repo` or `[\"user\",\"repo\"]`)\n  </ParamField>\n\n  <ParamField path=\"FASTMCP_SERVER_AUTH_GITHUB_TIMEOUT_SECONDS\" default=\"10\">\n    HTTP request timeout for GitHub API calls\n  </ParamField>\n</Card>\n\nExample `.env` file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# Use the GitHub provider\nFASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.github.GitHubProvider\n\n# GitHub OAuth credentials\nFASTMCP_SERVER_AUTH_GITHUB_CLIENT_ID=Ov23liAbcDefGhiJkLmN\nFASTMCP_SERVER_AUTH_GITHUB_CLIENT_SECRET=github_pat_...\nFASTMCP_SERVER_AUTH_GITHUB_BASE_URL=https://your-server.com\nFASTMCP_SERVER_AUTH_GITHUB_REQUIRED_SCOPES=user,repo\n```\n\nWith environment variables set, your server code simplifies to:\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\n\n# Authentication is automatically configured from environment\nmcp = FastMCP(name=\"GitHub Secured App\")\n\n@mcp.tool\nasync def list_repos() -> list[str]:\n    \"\"\"List the authenticated user's repositories.\"\"\"\n    # Your tool implementation here\n    pass\n```",
  "content_length": 9936
}