{
  "title": "types",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-utilities-types",
  "content": "# `fastmcp.utilities.types`\n\nCommon types used across FastMCP.\n\n## Functions\n\n### `get_fn_name` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L34\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_fn_name(fn: Callable[..., Any]) -> str\n```\n\n### `get_cached_typeadapter` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L45\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nget_cached_typeadapter(cls: T) -> TypeAdapter[T]\n```\n\nTypeAdapters are heavy objects, and in an application context we'd typically\ncreate them once in a global scope and reuse them as often as possible.\nHowever, this isn't feasible for user-generated functions. Instead, we use a\ncache to minimize the cost of creating them as much as possible.\n\n### `issubclass_safe` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L120\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nissubclass_safe(cls: type, base: type) -> bool\n```\n\nCheck if cls is a subclass of base, even if cls is a type variable.\n\n### `is_class_member_of_type` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L130\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nis_class_member_of_type(cls: Any, base: type) -> bool\n```\n\nCheck if cls is a member of base, even if cls is a type variable.\n\nBase can be a type, a UnionType, or an Annotated type. Generic types are not\nconsidered members (e.g. T is not a member of list\\[T]).\n\n### `find_kwarg_by_type` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L152\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfind_kwarg_by_type(fn: Callable, kwarg_type: type) -> str | None\n```\n\nFind the name of the kwarg that is of type kwarg\\_type.\n\nIncludes union types that contain the kwarg\\_type, as well as Annotated types.\n\n### `create_function_without_params` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L178\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ncreate_function_without_params(fn: Callable[..., Any], exclude_params: list[str]) -> Callable[..., Any]\n```\n\nCreate a new function with the same code but without the specified parameters in annotations.\n\nThis is used to exclude parameters from type adapter processing when they can't be serialized.\nThe excluded parameters are removed from the function's **annotations** dictionary.\n\n### `replace_type` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L443\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nreplace_type(type_, type_map: dict[type, type])\n```\n\nGiven a (possibly generic, nested, or otherwise complex) type, replaces all\ninstances of old\\_type with new\\_type.\n\nThis is useful for transforming types when creating tools.\n\n**Args:**\n\n* `type_`: The type to replace instances of old\\_type with new\\_type.\n* `old_type`: The type to replace.\n* `new_type`: The type to replace old\\_type with.\n\nExamples:\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n>>> replace_type(list[int | bool], {int: str})\nlist[str | bool]\n\n>>> replace_type(list[list[int]], {int: str})\nlist[list[str]]\n```\n\n## Classes\n\n### `FastMCPBaseModel` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L38\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nBase model for FastMCP models.\n\n### `Image` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L227\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nHelper class for returning images from tools.\n\n**Methods:**\n\n#### `to_image_content` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L278\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_image_content(self, mime_type: str | None = None, annotations: Annotations | None = None) -> mcp.types.ImageContent\n```\n\nConvert to MCP ImageContent.\n\n#### `to_data_uri` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L293\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_data_uri(self, mime_type: str | None = None) -> str\n```\n\nGet image as a data URI.\n\n### `Audio` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L299\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nHelper class for returning audio from tools.\n\n**Methods:**\n\n#### `to_audio_content` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L336\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_audio_content(self, mime_type: str | None = None, annotations: Annotations | None = None) -> mcp.types.AudioContent\n```\n\n### `File` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L357\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nHelper class for returning file data from tools.\n\n**Methods:**\n\n#### `to_resource_content` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L396\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nto_resource_content(self, mime_type: str | None = None, annotations: Annotations | None = None) -> mcp.types.EmbeddedResource\n```\n\n### `ContextSamplingFallbackProtocol` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L480\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>",
  "content_length": 6805
}