{
  "title": "http",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-http",
  "content": "# `fastmcp.server.http`\n\n## Functions\n\n### `set_http_request` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L77\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nset_http_request(request: Request) -> Generator[Request, None, None]\n```\n\n### `create_base_app` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L101\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ncreate_base_app(routes: list[BaseRoute], middleware: list[Middleware], debug: bool = False, lifespan: Callable | None = None) -> StarletteWithLifespan\n```\n\nCreate a base Starlette app with common middleware and routes.\n\n**Args:**\n\n* `routes`: List of routes to include in the app\n* `middleware`: List of middleware to include in the app\n* `debug`: Whether to enable debug mode\n* `lifespan`: Optional lifespan manager for the app\n\n**Returns:**\n\n* A Starlette application\n\n### `create_sse_app` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L129\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ncreate_sse_app(server: FastMCP[LifespanResultT], message_path: str, sse_path: str, auth: AuthProvider | None = None, debug: bool = False, routes: list[BaseRoute] | None = None, middleware: list[Middleware] | None = None) -> StarletteWithLifespan\n```\n\nReturn an instance of the SSE server app.\n\n**Args:**\n\n* `server`: The FastMCP server instance\n* `message_path`: Path for SSE messages\n* `sse_path`: Path for SSE connections\n* `auth`: Optional authentication provider (AuthProvider)\n* `debug`: Whether to enable debug mode\n* `routes`: Optional list of custom routes\n* `middleware`: Optional list of middleware\n\nReturns:\nA Starlette application with RequestContextMiddleware\n\n### `create_streamable_http_app` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L255\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ncreate_streamable_http_app(server: FastMCP[LifespanResultT], streamable_http_path: str, event_store: EventStore | None = None, auth: AuthProvider | None = None, json_response: bool = False, stateless_http: bool = False, debug: bool = False, routes: list[BaseRoute] | None = None, middleware: list[Middleware] | None = None) -> StarletteWithLifespan\n```\n\nReturn an instance of the StreamableHTTP server app.\n\n**Args:**\n\n* `server`: The FastMCP server instance\n* `streamable_http_path`: Path for StreamableHTTP connections\n* `event_store`: Optional event store for session management\n* `auth`: Optional authentication provider (AuthProvider)\n* `json_response`: Whether to use JSON response format\n* `stateless_http`: Whether to use stateless mode (new transport per request)\n* `debug`: Whether to enable debug mode\n* `routes`: Optional list of custom routes\n* `middleware`: Optional list of middleware\n\n**Returns:**\n\n* A Starlette application with StreamableHTTP support\n\n## Classes\n\n### `StreamableHTTPASGIApp` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L32\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nASGI application wrapper for Streamable HTTP server transport.\n\n### `StarletteWithLifespan` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L70\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `lifespan` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L72\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nlifespan(self) -> Lifespan[Starlette]\n```\n\n### `RequestContextMiddleware` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L85\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nMiddleware that stores each request in a ContextVar",
  "content_length": 4372
}