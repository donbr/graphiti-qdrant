{
  "title": "azure",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-server-auth-providers-azure",
  "content": "# `fastmcp.server.auth.providers.azure`\n\nAzure (Microsoft Entra) OAuth provider for FastMCP.\n\nThis provider implements Azure/Microsoft Entra ID OAuth authentication\nusing the OAuth Proxy pattern for non-DCR OAuth flows.\n\n## Classes\n\n### `AzureProviderSettings` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/azure.py#L29\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nSettings for Azure OAuth provider.\n\n### `AzureProvider` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/azure.py#L62\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nAzure (Microsoft Entra) OAuth provider for FastMCP.\n\nThis provider implements Azure/Microsoft Entra ID authentication using the\nOAuth Proxy pattern. It supports both organizational accounts and personal\nMicrosoft accounts depending on the tenant configuration.\n\nScope Handling:\n\n* required\\_scopes: Provide unprefixed scope names (e.g., \\[\"read\", \"write\"])\n  → Automatically prefixed with identifier\\_uri during initialization\n  → Validated on all tokens and advertised to MCP clients\n* additional\\_authorize\\_scopes: Provide full format (e.g., \\[\"User.Read\"])\n  → NOT prefixed, NOT validated, NOT advertised to clients\n  → Used to request Microsoft Graph or other upstream API permissions\n\nFeatures:\n\n* OAuth proxy to Azure/Microsoft identity platform\n* JWT validation using tenant issuer and JWKS\n* Supports tenant configurations: specific tenant ID, \"organizations\", or \"consumers\"\n* Custom API scopes and Microsoft Graph scopes in a single provider\n\nSetup:\n\n1. Create an App registration in Azure Portal\n2. Configure Web platform redirect URI: [http://localhost:8000/auth/callback](http://localhost:8000/auth/callback) (or your custom path)\n3. Add an Application ID URI under \"Expose an API\" (defaults to api://{client_id})\n4. Add custom scopes (e.g., \"read\", \"write\") under \"Expose an API\"\n5. Set access token version to 2 in the App manifest: \"requestedAccessTokenVersion\": 2\n6. Create a client secret\n7. Get Application (client) ID, Directory (tenant) ID, and client secret\n\n**Methods:**\n\n#### `authorize` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/auth/providers/azure.py#L293\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nauthorize(self, client: OAuthClientInformationFull, params: AuthorizationParams) -> str\n```\n\nStart OAuth transaction and redirect to Azure AD.\n\nOverride parent's authorize method to filter out the 'resource' parameter\nwhich is not supported by Azure AD v2.0 endpoints. The v2.0 endpoints use\nscopes to determine the resource/audience instead of a separate parameter.\n\n**Args:**\n\n* `client`: OAuth client information\n* `params`: Authorization parameters from the client\n\n**Returns:**\n\n* Authorization URL to redirect the user to Azure AD",
  "content_length": 3011
}