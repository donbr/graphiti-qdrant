{
  "title": "mcp_server_config",
  "source_url": "https://gofastmcp.com/python-sdk/fastmcp-utilities-mcp_server_config-v1-mcp_server_config",
  "content": "# `fastmcp.utilities.mcp_server_config.v1.mcp_server_config`\n\nFastMCP Configuration File Support.\n\nThis module provides support for fastmcp.json configuration files that allow\nusers to specify server settings in a declarative format instead of using\ncommand-line arguments.\n\n## Functions\n\n### `generate_schema` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L416\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\ngenerate_schema(output_path: Path | str | None = None) -> dict[str, Any] | None\n```\n\nGenerate JSON schema for fastmcp.json files.\n\nThis is used to create the schema file that IDEs can use for\nvalidation and auto-completion.\n\n**Args:**\n\n* `output_path`: Optional path to write the schema to. If provided,\n  writes the schema and returns None. If not provided,\n  returns the schema as a dictionary.\n\n**Returns:**\n\n* JSON schema as a dictionary if output\\_path is None, otherwise None\n\n## Classes\n\n### `Deployment` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L36\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nConfiguration for server deployment and runtime settings.\n\n**Methods:**\n\n#### `apply_runtime_settings` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L85\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\napply_runtime_settings(self, config_path: Path | None = None) -> None\n```\n\nApply runtime settings like environment variables and working directory.\n\n**Args:**\n\n* `config_path`: Path to config file for resolving relative paths\n\nEnvironment variables support interpolation with ${VAR_NAME} syntax.\nFor example: \"API_URL\": \"https://api.${ENVIRONMENT}.example.com\"\nwill substitute the value of the ENVIRONMENT variable at runtime.\n\n### `MCPServerConfig` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L134\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nConfiguration for a FastMCP server.\n\nThis configuration file allows you to specify all settings needed to run\na FastMCP server in a declarative format.\n\n**Methods:**\n\n#### `validate_source` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L183\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nvalidate_source(cls, v: dict | Source) -> SourceType\n```\n\nValidate and convert source to proper format.\n\nSupports:\n\n* Dict format: `{\"path\": \"server.py\", \"entrypoint\": \"app\"}`\n* FileSystemSource instance (passed through)\n\nNo string parsing happens here - that's only at CLI boundaries.\nMCPServerConfig works only with properly typed objects.\n\n#### `validate_environment` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L199\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nvalidate_environment(cls, v: dict | Any) -> EnvironmentType\n```\n\nEnsure environment has a type field for discrimination.\n\nFor backward compatibility, if no type is specified, default to \"uv\".\n\n#### `validate_deployment` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L210\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nvalidate_deployment(cls, v: dict | Deployment) -> Deployment\n```\n\nValidate and convert deployment to Deployment.\n\nAccepts:\n\n* Deployment instance\n* dict that can be converted to Deployment\n\n#### `from_file` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L223\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom_file(cls, file_path: Path) -> MCPServerConfig\n```\n\nLoad configuration from a JSON file.\n\n**Args:**\n\n* `file_path`: Path to the configuration file\n\n**Returns:**\n\n* MCPServerConfig instance\n\n**Raises:**\n\n* `FileNotFoundError`: If the file doesn't exist\n* `json.JSONDecodeError`: If the file is not valid JSON\n* `pydantic.ValidationError`: If the configuration is invalid\n\n#### `from_cli_args` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L246\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom_cli_args(cls, source: FileSystemSource, transport: Literal['stdio', 'http', 'sse', 'streamable-http'] | None = None, host: str | None = None, port: int | None = None, path: str | None = None, log_level: Literal['DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'] | None = None, python: str | None = None, dependencies: list[str] | None = None, requirements: str | None = None, project: str | None = None, editable: str | None = None, env: dict[str, str] | None = None, cwd: str | None = None, args: list[str] | None = None) -> MCPServerConfig\n```\n\nCreate a config from CLI arguments.\n\nThis allows us to have a single code path where everything\ngoes through a config object.\n\n**Args:**\n\n* `source`: Server source (FileSystemSource instance)\n* `transport`: Transport protocol\n* `host`: Host for HTTP transport\n* `port`: Port for HTTP transport\n* `path`: URL path for server\n* `log_level`: Logging level\n* `python`: Python version\n* `dependencies`: Python packages to install\n* `requirements`: Path to requirements file\n* `project`: Path to project directory\n* `editable`: Path to install in editable mode\n* `env`: Environment variables\n* `cwd`: Working directory\n* `args`: Server arguments\n\n**Returns:**\n\n* MCPServerConfig instance\n\n#### `find_config` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L323\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfind_config(cls, start_path: Path | None = None) -> Path | None\n```\n\nFind a fastmcp.json file in the specified directory.\n\n**Args:**\n\n* `start_path`: Directory to look in (defaults to current directory)\n\n**Returns:**\n\n* Path to the configuration file, or None if not found\n\n#### `prepare` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L342\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nprepare(self, skip_source: bool = False, output_dir: Path | None = None) -> None\n```\n\nPrepare environment and source for execution.\n\nWhen output\\_dir is provided, creates a persistent uv project.\nWhen output\\_dir is None, does ephemeral caching (for backwards compatibility).\n\n**Args:**\n\n* `skip_source`: Skip source preparation if True\n* `output_dir`: Directory to create the persistent uv project in (optional)\n\n#### `prepare_environment` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L363\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nprepare_environment(self, output_dir: Path | None = None) -> None\n```\n\nPrepare the Python environment.\n\n**Args:**\n\n* `output_dir`: If provided, creates a persistent uv project in this directory.\n  If None, just populates uv's cache for ephemeral use.\n\nDelegates to the environment's prepare() method\n\n#### `prepare_source` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L374\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nprepare_source(self) -> None\n```\n\nPrepare the source for loading.\n\nDelegates to the source's prepare() method.\n\n#### `run_server` <sup><a href=\"https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_server_config/v1/mcp_server_config.py#L381\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nrun_server(self, **kwargs: Any) -> None\n```\n\nLoad and run the server with this configuration.\n\n**Args:**\n\n* `**kwargs`: Additional arguments to pass to server.run\\_async()\n  These override config settings",
  "content_length": 9231
}