{
  "title": "Claude Desktop ðŸ¤ FastMCP",
  "source_url": "https://gofastmcp.com/integrations/claude-desktop",
  "content": "Connect FastMCP servers to Claude Desktop\n\nexport const LocalFocusTip = () => {\n  return <Tip>\n            <strong>This integration focuses on running local FastMCP server files with STDIO transport.</strong> For remote servers running with HTTP or SSE transport, use your client's native configuration - FastMCP's integrations focus on simplifying the complex local setup with dependencies and <code>uv</code> commands.\n        </Tip>;\n};\n\nexport const VersionBadge = ({version}) => {\n  return <code className=\"version-badge-container\">\n            <p className=\"version-badge\">\n                <span className=\"version-badge-label\">New in version:</span>Â \n                <code className=\"version-badge-version\">{version}</code>\n            </p>\n        </code>;\n};\n\n<LocalFocusTip />\n\nClaude Desktop supports MCP servers through local STDIO connections and remote servers (beta), allowing you to extend Claude's capabilities with custom tools, resources, and prompts from your FastMCP servers.\n\n<Note>\n  Remote MCP server support is currently in beta and available for users on Claude Pro, Max, Team, and Enterprise plans (as of June 2025). Most users will still need to use local STDIO connections.\n</Note>\n\n<Note>\n  This guide focuses specifically on using FastMCP servers with Claude Desktop. For general Claude Desktop MCP setup and official examples, see the [official Claude Desktop quickstart guide](https://modelcontextprotocol.io/quickstart/user).\n</Note>\n\n## Requirements\n\nClaude Desktop traditionally requires MCP servers to run locally using STDIO transport, where your server communicates with Claude through standard input/output rather than HTTP. However, users on certain plans now have access to remote server support as well.\n\n<Tip>\n  If you don't have access to remote server support or need to connect to remote servers, you can create a **proxy server** that runs locally via STDIO and forwards requests to remote HTTP servers. See the [Proxy Servers](#proxy-servers) section below.\n</Tip>\n\n## Create a Server\n\nThe examples in this guide will use the following simple dice-rolling server, saved as `server.py`.\n\n```python server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nimport random\nfrom fastmcp import FastMCP\n\nmcp = FastMCP(name=\"Dice Roller\")\n\n@mcp.tool\ndef roll_dice(n_dice: int) -> list[int]:\n    \"\"\"Roll `n_dice` 6-sided dice and return the results.\"\"\"\n    return [random.randint(1, 6) for _ in range(n_dice)]\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n## Install the Server\n\n### FastMCP CLI\n\n<VersionBadge version=\"2.10.3\" />\n\nThe easiest way to install a FastMCP server in Claude Desktop is using the `fastmcp install claude-desktop` command. This automatically handles the configuration and dependency management.\n\n<Tip>\n  Prior to version 2.10.3, Claude Desktop could be managed by running `fastmcp install <path>` without specifying the client.\n</Tip>\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py\n```\n\nThe install command supports the same `file.py:object` notation as the `run` command. If no object is specified, it will automatically look for a FastMCP server object named `mcp`, `server`, or `app` in your file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n# These are equivalent if your server object is named 'mcp'\nfastmcp install claude-desktop server.py\nfastmcp install claude-desktop server.py:mcp\n\n# Use explicit object name if your server has a different name\nfastmcp install claude-desktop server.py:my_custom_server\n```\n\nAfter installation, restart Claude Desktop completely. You should see a hammer icon (ðŸ”¨) in the bottom left of the input box, indicating that MCP tools are available.\n\n#### Dependencies\n\nFastMCP provides several ways to manage your server's dependencies when installing in Claude Desktop:\n\n**Individual packages**: Use the `--with` flag to specify packages your server needs. You can use this flag multiple times:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --with pandas --with requests\n```\n\n**Requirements file**: If you have a `requirements.txt` file listing all your dependencies, use `--with-requirements` to install them all at once:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --with-requirements requirements.txt\n```\n\n**Editable packages**: For local packages in development, use `--with-editable` to install them in editable mode:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --with-editable ./my-local-package\n```\n\nAlternatively, you can use a `fastmcp.json` configuration file (recommended):\n\n```json fastmcp.json theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n  \"$schema\": \"https://gofastmcp.com/public/schemas/fastmcp.json/v1.json\",\n  \"source\": {\n    \"path\": \"server.py\",\n    \"entrypoint\": \"mcp\"\n  },\n  \"environment\": {\n    \"dependencies\": [\"pandas\", \"requests\"]\n  }\n}\n```\n\n#### Python Version and Project Directory\n\nFastMCP allows you to control the Python environment for your server:\n\n**Python version**: Use `--python` to specify which Python version your server should run with. This is particularly useful when your server requires a specific Python version:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --python 3.11\n```\n\n**Project directory**: Use `--project` to run your server within a specific project directory. This ensures that `uv` will discover all `pyproject.toml`, `uv.toml`, and `.python-version` files from that project:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --project /path/to/my-project\n```\n\nWhen you specify a project directory, all relative paths in your server will be resolved from that directory, and the project's virtual environment will be used.\n\n#### Environment Variables\n\n<Warning>\n  Claude Desktop runs servers in a completely isolated environment with no access to your shell environment or locally installed applications. You must explicitly pass any environment variables your server needs.\n</Warning>\n\nIf your server needs environment variables (like API keys), you must include them:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --server-name \"Weather Server\" \\\n  --env API_KEY=your-api-key \\\n  --env DEBUG=true\n```\n\nOr load them from a `.env` file:\n\n```bash  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfastmcp install claude-desktop server.py --server-name \"Weather Server\" --env-file .env\n```\n\n<Warning>\n  * **`uv` must be installed and available in your system PATH**. Claude Desktop runs in its own isolated environment and needs `uv` to manage dependencies.\n  * **On macOS, it is recommended to install `uv` globally with Homebrew** so that Claude Desktop will detect it: `brew install uv`. Installing `uv` with other methods may not make it accessible to Claude Desktop.\n</Warning>\n\n### Manual Configuration\n\nFor more control over the configuration, you can manually edit Claude Desktop's configuration file. You can open the configuration file from Claude's developer settings, or find it in the following locations:\n\n* **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`\n* **Windows**: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\nThe configuration file is a JSON object with a `mcpServers` key, which contains the configuration for each MCP server.\n\n```json  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n  \"mcpServers\": {\n    \"dice-roller\": {\n      \"command\": \"python\",\n      \"args\": [\"path/to/your/server.py\"]\n    }\n  }\n}\n```\n\nAfter updating the configuration file, restart Claude Desktop completely. Look for the hammer icon (ðŸ”¨) to confirm your server is loaded.\n\n#### Dependencies\n\nIf your server has dependencies, you can use `uv` or another package manager to set up the environment.\n\nWhen manually configuring dependencies, the recommended approach is to use `uv` with FastMCP. The configuration uses `uv run` to create an isolated environment with your specified packages:\n\n```json  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n  \"mcpServers\": {\n    \"dice-roller\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"run\",\n        \"--with\", \"fastmcp\",\n        \"--with\", \"pandas\",\n        \"--with\", \"requests\", \n        \"fastmcp\",\n        \"run\",\n        \"path/to/your/server.py\"\n      ]\n    }\n  }\n}\n```\n\nYou can also manually specify Python versions and project directories in your configuration. Add `--python` to use a specific Python version, or `--project` to run within a project directory:\n\n```json  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n  \"mcpServers\": {\n    \"dice-roller\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"run\",\n        \"--python\", \"3.11\",\n        \"--project\", \"/path/to/project\",\n        \"--with\", \"fastmcp\",\n        \"fastmcp\",\n        \"run\",\n        \"path/to/your/server.py\"\n      ]\n    }\n  }\n}\n```\n\nThe order of arguments matters: Python version and project settings come before package specifications, which come before the actual command to run.\n\n<Warning>\n  * **`uv` must be installed and available in your system PATH**. Claude Desktop runs in its own isolated environment and needs `uv` to manage dependencies.\n  * **On macOS, it is recommended to install `uv` globally with Homebrew** so that Claude Desktop will detect it: `brew install uv`. Installing `uv` with other methods may not make it accessible to Claude Desktop.\n</Warning>\n\n#### Environment Variables\n\nYou can also specify environment variables in the configuration:\n\n```json  theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\n{\n  \"mcpServers\": {\n    \"weather-server\": {\n      \"command\": \"python\",\n      \"args\": [\"path/to/weather_server.py\"],\n      \"env\": {\n        \"API_KEY\": \"your-api-key\",\n        \"DEBUG\": \"true\"\n      }\n    }\n  }\n}\n```\n\n<Warning>\n  Claude Desktop runs servers in a completely isolated environment with no access to your shell environment or locally installed applications. You must explicitly pass any environment variables your server needs.\n</Warning>\n\n## Remote Servers\n\nUsers on Claude Pro, Max, Team, and Enterprise plans have first-class remote server support via integrations. For other users, or as an alternative approach, FastMCP can create a proxy server that forwards requests to a remote HTTP server. You can install the proxy server in Claude Desktop.\n\nCreate a proxy server that connects to a remote HTTP server:\n\n```python proxy_server.py theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP\n\n# Create a proxy to a remote server\nproxy = FastMCP.as_proxy(\n    \"https://example.com/mcp/sse\", \n    name=\"Remote Server Proxy\"\n)\n\nif __name__ == \"__main__\":\n    proxy.run()  # Runs via STDIO for Claude Desktop\n```\n\n### Authentication\n\nFor authenticated remote servers, create an authenticated client following the guidance in the [client auth documentation](/clients/auth/bearer) and pass it to the proxy:\n\n```python auth_proxy_server.py {7} theme={\"theme\":{\"light\":\"snazzy-light\",\"dark\":\"dark-plus\"}}\nfrom fastmcp import FastMCP, Client\nfrom fastmcp.client.auth import BearerAuth\n\n# Create authenticated client\nclient = Client(\n    \"https://api.example.com/mcp/sse\",\n    auth=BearerAuth(token=\"your-access-token\")\n)\n\n# Create proxy using the authenticated client\nproxy = FastMCP.as_proxy(client, name=\"Authenticated Proxy\")\n\nif __name__ == \"__main__\":\n    proxy.run()\n```",
  "content_length": 11719
}