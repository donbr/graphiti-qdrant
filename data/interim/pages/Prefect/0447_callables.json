{
  "title": "callables",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-utilities-callables",
  "content": "# `prefect.utilities.callables`\n\nUtilities for working with Python callables.\n\n## Functions\n\n### `get_call_parameters` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L43\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_call_parameters(fn: Callable[..., Any], call_args: tuple[Any, ...], call_kwargs: dict[str, Any], apply_defaults: bool = True) -> dict[str, Any]\n```\n\nBind a call to a function to get parameter/value mapping. Default values on\nthe signature will be included if not overridden.\n\nIf the function has a `__prefect_self__` attribute, it will be included as\nthe first parameter. This attribute is set when Prefect decorates a bound\nmethod, so this approach allows Prefect to work with bound methods in a way\nthat is consistent with how Python handles them (i.e. users don't have to\npass the instance argument to the method) while still making the implicit self\nargument visible to all of Prefect's parameter machinery (such as cache key\nfunctions).\n\nRaises a ParameterBindError if the arguments/kwargs are not valid for the\nfunction\n\n### `get_parameter_defaults` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L83\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_parameter_defaults(fn: Callable[..., Any]) -> dict[str, Any]\n```\n\nGet default parameter values for a callable.\n\n### `explode_variadic_parameter` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L100\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nexplode_variadic_parameter(fn: Callable[..., Any], parameters: dict[str, Any]) -> dict[str, Any]\n```\n\nGiven a parameter dictionary, move any parameters stored in a variadic keyword\nargument parameter (i.e. \\*\\*kwargs) into the top level.\n\nExample:\n\n```python  theme={null}\ndef foo(a, b, **kwargs):\n    pass\n\nparameters = {\"a\": 1, \"b\": 2, \"kwargs\": {\"c\": 3, \"d\": 4}}\nexplode_variadic_parameter(foo, parameters)\n# {\"a\": 1, \"b\": 2, \"c\": 3, \"d\": 4}\n```\n\n### `collapse_variadic_parameters` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L134\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncollapse_variadic_parameters(fn: Callable[..., Any], parameters: dict[str, Any]) -> dict[str, Any]\n```\n\nGiven a parameter dictionary, move any parameters stored not present in the\nsignature into the variadic keyword argument.\n\nExample:\n\n```python  theme={null}\ndef foo(a, b, **kwargs):\n    pass\n\nparameters = {\"a\": 1, \"b\": 2, \"c\": 3, \"d\": 4}\ncollapse_variadic_parameters(foo, parameters)\n# {\"a\": 1, \"b\": 2, \"kwargs\": {\"c\": 3, \"d\": 4}}\n```\n\n### `parameters_to_args_kwargs` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L178\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nparameters_to_args_kwargs(fn: Callable[..., Any], parameters: dict[str, Any]) -> tuple[tuple[Any, ...], dict[str, Any]]\n```\n\nConvert a `parameters` dictionary to positional and keyword arguments\n\nThe function *must* have an identical signature to the original function or this\nwill return an empty tuple and dict.\n\n### `call_with_parameters` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L201\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncall_with_parameters(fn: Callable[..., R], parameters: dict[str, Any]) -> R\n```\n\nCall a function with parameters extracted with `get_call_parameters`\n\nThe function *must* have an identical signature to the original function or this\nwill fail. If you need to send to a function with a different signature, extract\nthe args/kwargs using `parameters_to_positional_and_keyword` directly\n\n### `cloudpickle_wrapped_call` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L213\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncloudpickle_wrapped_call(__fn: Callable[..., Any], *args: Any, **kwargs: Any) -> Callable[[], bytes]\n```\n\nSerializes a function call using cloudpickle then returns a callable which will\nexecute that call and return a cloudpickle serialized return value\n\nThis is particularly useful for sending calls to libraries that only use the Python\nbuilt-in pickler (e.g. `anyio.to_process` and `multiprocessing`) but may require\na wider range of pickling support.\n\n### `parameter_docstrings` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L254\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nparameter_docstrings(docstring: Optional[str]) -> dict[str, str]\n```\n\nGiven a docstring in Google docstring format, parse the parameter section\nand return a dictionary that maps parameter names to docstring.\n\n**Args:**\n\n* `docstring`: The function's docstring.\n\n**Returns:**\n\n* Mapping from parameter names to docstrings.\n\n### `process_v1_params` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L282\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nprocess_v1_params(param: inspect.Parameter) -> tuple[str, Any, Any]\n```\n\n### `create_v1_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L313\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_v1_schema(name_: str, model_cfg: type[Any], model_fields: Optional[dict[str, Any]] = None) -> dict[str, Any]\n```\n\n### `parameter_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L331\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nparameter_schema(fn: Callable[..., Any]) -> ParameterSchema\n```\n\nGiven a function, generates an OpenAPI-compatible description\nof the function's arguments, including:\n\n* name\n* typing information\n* whether it is required\n* a default value\n* additional constraints (like possible enum values)\n\n**Args:**\n\n* `fn`: The function whose arguments will be serialized\n\n**Returns:**\n\n* the argument schema\n\n### `parameter_schema_from_entrypoint` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L357\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nparameter_schema_from_entrypoint(entrypoint: str) -> ParameterSchema\n```\n\nGenerate a parameter schema from an entrypoint string.\n\nWill load the source code of the function and extract the signature and docstring\nto generate the schema.\n\nUseful for generating a schema for a function when instantiating the function may\nnot be possible due to missing imports or other issues.\n\n**Args:**\n\n* `entrypoint`: A string representing the entrypoint to a function. The string\n  should be in the format of `module.path.to.function\\:do_stuff`.\n\n**Returns:**\n\n* The parameter schema for the function.\n\n### `generate_parameter_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L391\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ngenerate_parameter_schema(signature: inspect.Signature, docstrings: dict[str, str]) -> ParameterSchema\n```\n\nGenerate a parameter schema from a function signature and docstrings.\n\nTo get a signature from a function, use `inspect.signature(fn)` or\n`_generate_signature_from_source(source_code, func_name)`.\n\n**Args:**\n\n* `signature`: The function signature.\n* `docstrings`: A dictionary mapping parameter names to docstrings.\n\n**Returns:**\n\n* The parameter schema.\n\n### `raise_for_reserved_arguments` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L447\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nraise_for_reserved_arguments(fn: Callable[..., Any], reserved_arguments: Iterable[str]) -> None\n```\n\nRaise a ReservedArgumentError if `fn` has any parameters that conflict\nwith the names contained in `reserved_arguments`.\n\n### `expand_mapping_parameters` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L661\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nexpand_mapping_parameters(func: Callable[..., Any], parameters: dict[str, Any]) -> list[dict[str, Any]]\n```\n\nGenerates a list of call parameters to be used for individual calls in a mapping\noperation.\n\n**Args:**\n\n* `func`: The function to be called\n* `parameters`: A dictionary of parameters with iterables to be mapped over\n\n**Returns:**\n\n* A list of dictionaries to be used as parameters for each\n  call in the mapping operation\n\n## Classes\n\n### `ParameterSchema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L238\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nSimple data model corresponding to an OpenAPI `Schema`.\n\n**Methods:**\n\n#### `model_dump_for_openapi` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/callables.py#L247\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nmodel_dump_for_openapi(self) -> dict[str, Any]\n```",
  "content_length": 9901
}