{
  "title": "results",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-results",
  "content": "# `prefect.results`\n\n## Functions\n\n### `DEFAULT_STORAGE_KEY_FN` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L69\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nDEFAULT_STORAGE_KEY_FN() -> str\n```\n\n### `aget_default_result_storage` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L79\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naget_default_result_storage() -> WritableFileSystem\n```\n\nGenerate a default file system for result storage.\n\n### `get_default_result_storage` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L103\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_default_result_storage() -> WritableFileSystem\n```\n\nGenerate a default file system for result storage.\n\n### `aresolve_result_storage` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L128\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naresolve_result_storage(result_storage: ResultStorage | UUID | Path) -> WritableFileSystem\n```\n\nResolve one of the valid `ResultStorage` input types into a saved block\ndocument id and an instance of the block.\n\n### `resolve_result_storage` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L165\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nresolve_result_storage(result_storage: ResultStorage | UUID | Path) -> WritableFileSystem\n```\n\nResolve one of the valid `ResultStorage` input types into a saved block\ndocument id and an instance of the block.\n\n### `resolve_serializer` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L200\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nresolve_serializer(serializer: ResultSerializer) -> Serializer\n```\n\nResolve one of the valid `ResultSerializer` input types into a serializer\ninstance.\n\n### `get_or_create_default_task_scheduling_storage` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L216\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_or_create_default_task_scheduling_storage() -> ResultStorage\n```\n\nGenerate a default file system for background task parameter/result storage.\n\n### `get_default_result_serializer` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L234\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_default_result_serializer() -> Serializer\n```\n\nGenerate a default file system for result storage.\n\n### `get_default_persist_setting` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L242\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_default_persist_setting() -> bool\n```\n\nReturn the default option for result persistence.\n\n### `get_default_persist_setting_for_tasks` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L250\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_default_persist_setting_for_tasks() -> bool\n```\n\nReturn the default option for result persistence for tasks.\n\n### `should_persist_result` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L262\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nshould_persist_result() -> bool\n```\n\nReturn the default option for result persistence determined by the current run context.\n\nIf there is no current run context, the value of `results.persist_by_default` on the\ncurrent settings will be returned.\n\n### `default_cache` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L291\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndefault_cache() -> LRUCache[str, 'ResultRecord[Any]']\n```\n\n### `result_storage_discriminator` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L295\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nresult_storage_discriminator(x: Any) -> str\n```\n\n### `get_result_store` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L967\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_result_store() -> ResultStore\n```\n\nGet the current result store.\n\n## Classes\n\n### `ResultStore` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L308\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nManages the storage and retrieval of results.\n\n**Methods:**\n\n#### `aacquire_lock` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L871\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naacquire_lock(self, key: str, holder: str | None = None, timeout: float | None = None) -> bool\n```\n\nAcquire a lock for a result record.\n\n**Args:**\n\n* `key`: The key to acquire the lock for.\n* `holder`: The holder of the lock. If not provided, a default holder based on the\n  current host, process, and thread will be used.\n* `timeout`: The timeout for the lock.\n\n**Returns:**\n\n* True if the lock was successfully acquired; False otherwise.\n\n#### `acquire_lock` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L848\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nacquire_lock(self, key: str, holder: str | None = None, timeout: float | None = None) -> bool\n```\n\nAcquire a lock for a result record.\n\n**Args:**\n\n* `key`: The key to acquire the lock for.\n* `holder`: The holder of the lock. If not provided, a default holder based on the\n  current host, process, and thread will be used.\n* `timeout`: The timeout for the lock.\n\n**Returns:**\n\n* True if the lock was successfully acquired; False otherwise.\n\n#### `aexists` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L526\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naexists(self, key: str) -> bool\n```\n\nCheck if a result record exists in storage.\n\n**Args:**\n\n* `key`: The key to check for the existence of a result record.\n\n**Returns:**\n\n* True if the result record exists, False otherwise.\n\n#### `apersist_result_record` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L815\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\napersist_result_record(self, result_record: 'ResultRecord[Any]', holder: str | None = None) -> None\n```\n\nPersist a result record to storage.\n\n**Args:**\n\n* `result_record`: The result record to persist.\n\n#### `aread` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L631\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naread(self, key: str, holder: str | None = None) -> 'ResultRecord[Any]'\n```\n\nRead a result record from storage.\n\n**Args:**\n\n* `key`: The key to read the result record from.\n* `holder`: The holder of the lock if a lock was set on the record.\n\n**Returns:**\n\n* A result record.\n\n#### `await_for_lock` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L955\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nawait_for_lock(self, key: str, timeout: float | None = None) -> bool\n```\n\nWait for the corresponding transaction record to become free.\n\n#### `awrite` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L713\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nawrite(self, obj: Any, key: str | None = None, expiration: DateTime | None = None, holder: str | None = None) -> None\n```\n\nWrite a result to storage.\n\n**Args:**\n\n* `key`: The key to write the result record to.\n* `obj`: The object to write to storage.\n* `expiration`: The expiration time for the result record.\n* `holder`: The holder of the lock if a lock was set on the record.\n\n#### `create_result_record` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L649\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_result_record(self, obj: Any, key: str | None = None, expiration: DateTime | None = None) -> 'ResultRecord[Any]'\n```\n\nCreate a result record.\n\n**Args:**\n\n* `key`: The key to create the result record for.\n* `obj`: The object to create the result record for.\n* `expiration`: The expiration time for the result record.\n\n#### `exists` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L514\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nexists(self, key: str) -> bool\n```\n\nCheck if a result record exists in storage.\n\n**Args:**\n\n* `key`: The key to check for the existence of a result record.\n\n**Returns:**\n\n* True if the result record exists, False otherwise.\n\n#### `generate_default_holder` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L450\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ngenerate_default_holder() -> str\n```\n\nGenerate a default holder string using hostname, PID, and thread ID.\n\n**Returns:**\n\n* A unique identifier string.\n\n#### `is_lock_holder` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L924\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nis_lock_holder(self, key: str, holder: str | None = None) -> bool\n```\n\nCheck if the current holder is the lock holder for the result record.\n\n**Args:**\n\n* `key`: The key to check the lock for.\n* `holder`: The holder of the lock. If not provided, a default holder based on the\n  current host, process, and thread will be used.\n\n**Returns:**\n\n* True if the current holder is the lock holder; False otherwise.\n\n#### `is_locked` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L913\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nis_locked(self, key: str) -> bool\n```\n\nCheck if a result record is locked.\n\n#### `persist_result_record` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L801\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\npersist_result_record(self, result_record: 'ResultRecord[Any]', holder: str | None = None) -> None\n```\n\nPersist a result record to storage.\n\n**Args:**\n\n* `result_record`: The result record to persist.\n\n#### `read` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L613\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread(self, key: str, holder: str | None = None) -> 'ResultRecord[Any]'\n```\n\nRead a result record from storage.\n\n**Args:**\n\n* `key`: The key to read the result record from.\n* `holder`: The holder of the lock if a lock was set on the record.\n\n**Returns:**\n\n* A result record.\n\n#### `release_lock` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L895\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrelease_lock(self, key: str, holder: str | None = None) -> None\n```\n\nRelease a lock for a result record.\n\n**Args:**\n\n* `key`: The key to release the lock for.\n* `holder`: The holder of the lock. Must match the holder that acquired the lock.\n  If not provided, a default holder based on the current host, process, and\n  thread will be used.\n\n#### `result_storage_block_id` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L342\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nresult_storage_block_id(self) -> UUID | None\n```\n\n#### `supports_isolation_level` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L829\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nsupports_isolation_level(self, level: 'IsolationLevel') -> bool\n```\n\nCheck if the result store supports a given isolation level.\n\n**Args:**\n\n* `level`: The isolation level to check.\n\n**Returns:**\n\n* True if the isolation level is supported, False otherwise.\n\n#### `update_for_flow` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L373\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupdate_for_flow(self, flow: 'Flow[..., Any]') -> Self\n```\n\nCreate a new result store for a flow with updated settings.\n\n**Args:**\n\n* `flow`: The flow to update the result store for.\n\n**Returns:**\n\n* An updated result store.\n\n#### `update_for_task` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L397\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupdate_for_task(self: Self, task: 'Task[P, R]') -> Self\n```\n\nCreate a new result store for a task.\n\n**Args:**\n\n* `task`: The task to update the result store for.\n\n**Returns:**\n\n* An updated result store.\n\n#### `wait_for_lock` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L944\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nwait_for_lock(self, key: str, timeout: float | None = None) -> bool\n```\n\nWait for the corresponding transaction record to become free.\n\n#### `write` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/results.py#L686\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nwrite(self, obj: Any, key: str | None = None, expiration: DateTime | None = None, holder: str | None = None) -> None\n```\n\nWrite a result to storage.\n\nHandles the creation of a `ResultRecord` and its serialization to storage.\n\n**Args:**\n\n* `key`: The key to write the result record to.\n* `obj`: The object to write to storage.\n* `expiration`: The expiration time for the result record.\n* `holder`: The holder of the lock if a lock was set on the record.",
  "content_length": 15312
}