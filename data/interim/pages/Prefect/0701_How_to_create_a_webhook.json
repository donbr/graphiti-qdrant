{
  "title": "How to create a webhook",
  "source_url": "https://docs-3.prefect.io/v3/how-to-guides/cloud/create-a-webhook",
  "content": "Learn how to setup a webhook in the UI to trigger automations from external events.\n\nThis page shows you how to quickly set up a webhook using the Prefect Cloud UI, invoke it, and create an automation based on the received event.\n\n## Trigger an Automation from an External Event\n\nHere's how to set up a webhook and trigger an automation using the Prefect Cloud UI.\n\n### 1. Create a Webhook in the UI\n\nNavigate to the **Webhooks** page in Prefect Cloud and click **Create Webhook**.\n\nYou will need to provide a name for your webhook and a Jinja2 template. The template defines how the incoming HTTP request data is transformed into a Prefect event. For example, to capture a model ID and a friendly name from the request body:\n\n```JSON  theme={null}\n{\n    \"event\": \"model-update\",\n    \"resource\": {\n        \"prefect.resource.id\": \"product.models.{{ body.model_id}}\",\n        \"prefect.resource.name\": \"{{ body.friendly_name }}\",\n        \"run_count\": \"{{body.run_count}}\"\n    }\n}\n```\n\nThis template will look for `model_id`, `friendly_name`, and `run_count` in the body of the incoming request.\n\n<img src=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=40ad34d41e5e706a624c91ed79312ff9\" alt=\"Create a webhook in the Prefect Cloud UI, showing the template editor.\" data-og-width=\"2450\" width=\"2450\" data-og-height=\"256\" height=\"256\" data-path=\"v3/img/guides/webhook-simple.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?w=280&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=5a593bafdf9e60610c74d6dec4387552 280w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?w=560&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=f4525de4ea0b4f8ed7a9390233c55309 560w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?w=840&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=2f7fc796fd84aa873cff27d2d3a91b94 840w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?w=1100&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=3c8492661c7bf27debf39e3dbd0fbf92 1100w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?w=1650&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=94d4e9acd11376347b62f380d90b33e9 1650w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-simple.png?w=2500&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=eae6180245a95cd9cf1e0e9baaac2f95 2500w\" />\n\nAfter saving, Prefect Cloud will provide you with a unique URL for your webhook.\n\n### 2. Invoke the Webhook Endpoint\n\nUse any HTTP client to send a `POST` request to the unique URL provided for your webhook. Include the data you want to pass in the request body. For the example template above:\n\n```console  theme={null}\ncurl -X POST https://api.prefect.cloud/hooks/YOUR_UNIQUE_WEBHOOK_ID \\\n  -d \"model_id=my_model_123\" \\\n  -d \"friendly_name=My Awesome Model\" \\\n  -d \"run_count=15\"\n```\n\nReplace `YOUR_UNIQUE_WEBHOOK_ID` with your actual webhook ID.\n\n### 3. Observe the Event in Prefect Cloud\n\nAfter invoking the webhook, navigate to the **Event Feed** in Prefect Cloud. You should see a new event corresponding to your webhook invocation.\n\n<img src=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=1a348eaf056244f5fe2d36a4bfc55417\" alt=\"Event feed in Prefect Cloud showing a newly created event from a webhook.\" data-og-width=\"740\" width=\"740\" data-og-height=\"354\" height=\"354\" data-path=\"v3/img/guides/webhook-created.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?w=280&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=6e54ff9c06d453d0f6f29c0b21b3ee41 280w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?w=560&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=0b0f0ffcb9969c8009055e31e1a6e559 560w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?w=840&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=11e9749e373694a202444601058e8772 840w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?w=1100&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=0a02f89c1be73ec15d2ac5f3b1cd0ed2 1100w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?w=1650&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=2ab2ebc271ee10af2cc580082e61c218 1650w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-created.png?w=2500&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=11a230783030c6a3ebd79fdbadf4d071 2500w\" />\n\n### 4. Create an Automation from the Event\n\nFrom the event details page (click on the event in the feed), you can click the **Automate** button.\n\n<img src=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=2ff4522c881fa28f9ebcbb944e552b12\" alt=\"Event details page with the Automate button highlighted.\" data-og-width=\"2504\" width=\"2504\" data-og-height=\"292\" height=\"292\" data-path=\"v3/img/guides/webhook-automate.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?w=280&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=59c7a7e463785f078d2683350404d6cf 280w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?w=560&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=87fbeef54c261e5c97980a9d789fd93b 560w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?w=840&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=dfeebf79b71c2d23fae30d9c35ee20a2 840w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?w=1100&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=9dbd7ff24902dded9dfcff5e98079c13 1100w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?w=1650&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=c2884362f96d4684a17dfac97b96bb93 1650w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/webhook-automate.png?w=2500&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=6740cf4de60e277e578836b0cc4ecbc9 2500w\" />\n\nThis will pre-fill an automation trigger based on the event you just created.\n\n<img src=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=b89876f934154273d59cf6778fb55d45\" alt=\"Automation trigger definition pre-filled from a webhook event.\" data-og-width=\"2506\" width=\"2506\" data-og-height=\"1284\" height=\"1284\" data-path=\"v3/img/guides/automation-custom.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?w=280&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=ee7c8f19b6a175f7d84e68ee12542603 280w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?w=560&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=97dc3607b7b68e29b1a735da6b32fc93 560w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?w=840&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=71cd85778f3a492d9efcb0835aa1c530 840w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?w=1100&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=7be6d1a54c548fa491e1ccc95393addf 1100w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?w=1650&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=749aacc251081dfe8f3eb71ae2eab50f 1650w, https://mintcdn.com/prefect-bd373955/rm4-_dTLtkmSX6eG/v3/img/guides/automation-custom.png?w=2500&fit=max&auto=format&n=rm4-_dTLtkmSX6eG&q=85&s=deec7d8b8a847334a6e939d5da6ae522 2500w\" />\n\nClick **Next** to define the action(s) this automation should perform, such as running a deployment or sending a notification.\n\n## Troubleshooting Event Reception\n\nIf you've invoked your webhook but don't see the expected event in Prefect Cloud, or the event data isn't what you anticipated:\n\n* **Check the Event Feed**: Look for any events related to your webhook, even if they don't match your exact expectations.\n* **Look for `prefect-cloud.webhook.failed` events**: If Prefect Cloud encountered an error processing the webhook (e.g., an invalid template or malformed request), it will generate a `prefect-cloud.webhook.failed` event. This event contains details about the received request and any template rendering errors.\n* **Verify your request**: Double-check the URL, HTTP method, headers, and body of the request you sent to the webhook.\n* **Review your template**: Ensure your Jinja2 template correctly accesses the parts of the HTTP request you intend to use (e.g., `body.field_name`, `headers['Header-Name']`).\n\nFor more in-depth troubleshooting of webhook configuration and template rendering, see [Troubleshooting Webhook Configuration in the Concepts documentation](/v3/concepts/webhooks#troubleshooting-webhook-configuration).\n\n## Further reading\n\nFor more on webhooks, see the [Webhooks Concepts](/v3/concepts/webhooks) page.",
  "content_length": 9378
}