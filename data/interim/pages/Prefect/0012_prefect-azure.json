{
  "title": "prefect-azure",
  "source_url": "https://docs-3.prefect.io/integrations/prefect-azure/index",
  "content": "`prefect-azure` makes it easy to leverage the capabilities of Azure in your workflows.\nFor example, you can retrieve secrets, read and write Blob Storage objects, and deploy your flows on Azure Container Instances (ACI).\n\n## Getting started\n\n### Prerequisites\n\n* An [Azure account](https://azure.microsoft.com/) and the necessary permissions to access desired services.\n\n### Install `prefect-azure`\n\nThe following command will install a version of `prefect-azure` compatible with your installed version of `prefect`.\nIf you don't already have `prefect` installed, it will install the newest version of `prefect` as well.\n\n```bash  theme={null}\npip install \"prefect[azure]\"\n```\n\nUpgrade to the latest versions of `prefect` and `prefect-azure`:\n\n```bash  theme={null}\npip install -U \"prefect[azure]\"\n```\n\nIf necessary, see [additional installation options for Blob Storage, Cosmos DB, and ML Datastore](#additional-installation-options).\n\nTo install prefect-azure with all additional capabilities, run the install command above and then run the following command:\n\n```bash  theme={null}\npip install \"prefect-azure[all_extras]\"\n```\n\n### Register newly installed block types\n\nRegister the block types in the module to make them available for use.\n\n```bash  theme={null}\nprefect block register -m prefect_azure\n```\n\n## Examples\n\n### Download a blob\n\n```python  theme={null}\nfrom prefect import flow\n\nfrom prefect_azure import AzureBlobStorageCredentials\nfrom prefect_azure.blob_storage import blob_storage_download\n\n@flow\ndef example_blob_storage_download_flow():\n    connection_string = \"connection_string\"\n    blob_storage_credentials = AzureBlobStorageCredentials(\n        connection_string=connection_string,\n    )\n    data = blob_storage_download(\n        blob=\"prefect.txt\",\n        container=\"prefect\",\n        blob_storage_credentials=blob_storage_credentials,\n    )\n    return data\n\nexample_blob_storage_download_flow()\n```\n\nUse `with_options` to customize options on any existing task or flow:\n\n```python  theme={null}\ncustom_blob_storage_download_flow = example_blob_storage_download_flow.with_options(\n    name=\"My custom task name\",\n    retries=2,\n    retry_delay_seconds=10,\n)\n```\n\n### Run flows on Azure Container Instances\n\nRun flows on [Azure Container Instances (ACI)](https://learn.microsoft.com/en-us/azure/container-instances/) to dynamically scale your infrastructure.\n\nSee the [Azure Container Instances Worker Guide](/integrations/prefect-azure/aci_worker/) for a walkthrough of using ACI in a hybrid work pool.\n\nIf you're using Prefect Cloud, [ACI push work pools](/v3/how-to-guides/deployment_infra/serverless#azure-container-instances) provide all the benefits of ACI with a quick setup and no worker needed.\n\n## Resources\n\nFor assistance using Azure, consult the [Azure documentation](https://learn.microsoft.com/en-us/azure).\n\nRefer to the `prefect-azure` API documentation linked in the sidebar to explore all the capabilities of the `prefect-azure` library.\n\n### Additional installation options\n\nFirst install the main library compatible with your `prefect` version:\n\n```bash  theme={null}\npip install \"prefect[azure]\"\n```\n\nThen install the additional capabilities you need.\n\nTo use Blob Storage:\n\n```bash  theme={null}\npip install \"prefect-azure[blob_storage]\"\n```\n\nTo use Cosmos DB:\n\n```bash  theme={null}\npip install \"prefect-azure[cosmos_db]\"\n```\n\nTo use ML Datastore:\n\n```bash  theme={null}\npip install \"prefect-azure[ml_datastore]\"\n```",
  "content_length": 3467
}