{
  "title": "api",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-cli-api",
  "content": "# `prefect.cli.api`\n\nCommand line interface for making direct API requests.\n\n## Functions\n\n### `parse_headers` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/api.py#L27\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nparse_headers(header_list: list[str]) -> dict[str, str]\n```\n\nParse header strings in format 'Key: Value' into a dict.\n\n### `parse_data` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/api.py#L40\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nparse_data(data: str | None) -> dict[str, Any] | str | None\n```\n\nParse data input - can be JSON string, @filename, or None.\n\n### `read_stdin_data` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/api.py#L61\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_stdin_data() -> dict[str, Any] | None\n```\n\nRead and parse JSON data from stdin if available.\n\n### `format_output` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/api.py#L73\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nformat_output(response: httpx.Response, verbose: bool) -> None\n```\n\nFormat and print the response using rich.\n\n### `get_exit_code` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/api.py#L102\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_exit_code(error: Exception) -> int\n```\n\nDetermine the appropriate exit code for an error.\n\n### `api_request` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/api.py#L121\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\napi_request(method: str = typer.Argument(..., help='HTTP method (GET, POST, PUT, PATCH, DELETE)'), path: str = typer.Argument(..., help='API path (e.g., /flows, /flows/filter)'), data: Optional[str] = typer.Option(None, '--data', help='Request body as JSON string or @filename'), headers: list[str] = typer.Option(None, '-H', '--header', help=\"Custom header in 'Key: Value' format\"), verbose: bool = typer.Option(False, '-v', '--verbose', help='Show request/response headers'), root: bool = typer.Option(False, '--root', help='Access API root level (e.g., /api/me)'), account: bool = typer.Option(False, '--account', help='Access account level (Cloud only)'))\n```\n\nMake a direct request to the Prefect API.\n\n**Examples:**\n\n```bash  theme={null}\n# GET request\n$ prefect api GET /flows/abc-123\n\n# POST request with data\n$ prefect api POST /flows/filter --data '{\"limit\": 10}'\n\n# POST to filter endpoint (defaults to empty object)\n$ prefect api POST /flows/filter\n\n# Custom headers\n$ prefect api POST /flows/filter -H \"X-Custom: value\" --data '{}'\n\n# Verbose output\n$ prefect api GET /flows --verbose\n\n# Account-level operation (Cloud)\n$ prefect api GET /workspaces --account\n\n# API root level (Cloud only)\n$ prefect api GET /me --root\n```",
  "content_length": 3183
}