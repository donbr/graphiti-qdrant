{
  "title": "Quickstart",
  "source_url": "https://docs-3.prefect.io/v3/get-started/quickstart",
  "content": "Create your first workflow\n\nPrefect is a workflow orchestration tool that helps you build, deploy, run, and monitor data pipelines. It makes complex workflows reliable by tracking dependencies and handling failures gracefully.\n\nIn this tutorial, you'll deploy your first workflow to Prefect -- by specifying what code should run, where it should run, and when it should run. Choose your preferred approach below:\n\n<Tabs>\n  <Tab title=\"Cloud\">\n    <Steps>\n      <Step title=\"Create and login to your Prefect Cloud account.\">\n        Prefect uses a database to store workflow metadata.\n        For the ease of getting started, we'll use one hosted on Prefect Cloud. To create an account, we need to install `prefect-cloud`. We'll leverage `uv`, a modern Python package manager, to do this. Run the following commands in your terminal, after which you'll be prompted in your browser to create or login to your free Prefect Cloud account.\n\n        ```bash  theme={null}\n        curl -LsSf https://astral.sh/uv/install.sh | sh # Install `uv`.\n        uvx prefect-cloud login # Installs `prefect-cloud` into a temporary virtual env.\n        ```\n      </Step>\n\n      <Step title=\"What code should run?\">\n        Let's start with a boring Python script that fetches a list of customer ids and processes them all in parallel. You can find this code and other examples hosted in our [quickstart repository](https://github.com/PrefectHQ/quickstart/blob/main/01_getting_started.py).\n\n        ```python 01_getting_started.py [expandable] theme={null}\n        from prefect import flow, task\n        import random\n\n        @task\n        def get_customer_ids() -> list[str]:\n            # Fetch customer IDs from a database or API\n            return [f\"customer{n}\" for n in random.choices(range(100), k=10)]\n\n        @task\n        def process_customer(customer_id: str) -> str:\n            # Process a single customer\n            return f\"Processed {customer_id}\"\n\n        @flow\n        def main() -> list[str]:\n            customer_ids = get_customer_ids()\n            # Map the process_customer task across all customer IDs\n            results = process_customer.map(customer_ids)\n            return results\n\n\n        if __name__ == \"__main__\":\n            main()\n        ```\n\n        This looks like the ordinary Python you'd write, except there is:\n\n        * a `@flow` decorator on the script's entrypoint.\n        * a `@task` decorator on each function called within the flow.\n\n        When you run this `flow`, Prefect dynamically creates a graph of each `task` and the state of their upstream dependencies. This allows Prefect to execute each `task` in the right order and, in the case of failure, to recover the state of your workflow and resume from its point of failure.\n\n        Let's run this code locally on your computer. To do that, run the following command in your terminal.\n\n        ```bash  theme={null}\n        git clone https://github.com/PrefectHQ/quickstart && cd quickstart\n        uv run 01_getting_started.py\n        ```\n\n        If all went well, you'll see a link to see its execution graph in the Prefect UI followed by a flurry of state changes and logs as Prefect dynamically discovers and executes your workflow.\n\n        ```bash {11} [expandable] theme={null}\n        00:30:53.633 | INFO    | Flow run 'airborne-ringtail' - Beginning flow run 'airborne-ringtail' for flow 'main'\n        00:30:53.638 | INFO    | Flow run 'airborne-ringtail' - View at https://app.prefect.cloud/account/...\n        00:30:53.685 | INFO    | Task run 'get_customer_ids-136' - Finished in state Completed()\n        00:30:54.512 | INFO    | Task run 'process_customer-d9b' - Finished in state Completed()\n        00:30:54.518 | INFO    | Task run 'process_customer-113' - Finished in state Completed()\n        00:30:54.519 | INFO    | Task run 'process_customer-1c6' - Finished in state Completed()\n        00:30:54.519 | INFO    | Task run 'process_customer-30d' - Finished in state Completed()\n        00:30:54.520 | INFO    | Task run 'process_customer-eaa' - Finished in state Completed()\n        00:30:54.523 | INFO    | Task run 'process_customer-b2b' - Finished in state Completed()\n        00:30:54.523 | INFO    | Task run 'process_customer-90a' - Finished in state Completed()\n        00:30:54.524 | INFO    | Task run 'process_customer-4af' - Finished in state Completed()\n        00:30:54.524 | INFO    | Task run 'process_customer-e66' - Finished in state Completed()\n        00:30:54.526 | INFO    | Task run 'process_customer-e7e' - Finished in state Completed()\n        00:30:54.527 | INFO    | Flow run 'airborne-ringtail' - Finished in state Completed('All states completed.')\n        ```\n      </Step>\n\n      <Step title=\"Where should it run?\">\n        At this point, you've successfully run a Prefect `flow` locally. Let's get it running off of your machine! Again, for simplicity,\n        we'll deploy this workflow to Prefect's Serverless Compute (so we don't have to wrangle any infrastructure). We'll tell Prefect to clone\n        `https://github.com/PrefectHQ/quickstart` and invoke `01_getting_started.py:main`.\n\n        ```bash  theme={null}\n        uvx prefect-cloud deploy 01_getting_started.py:main \\\n        --name my_first_deployment \\\n        --from https://github.com/PrefectHQ/quickstart\n        ```\n\n        If all went well, you've created your first deployed workflow.\n\n        Since we now know what code to run and where to run it, this can now be invoked remotely.\n        To do that, run the following command and visit the returned link to see the run's status in the Prefect UI:\n\n        ```bash  theme={null}\n        uvx prefect-cloud run main/my_first_deployment\n        ```\n\n        Congrats! You've just run your first Prefect workflow remotely.\n      </Step>\n\n      <Step title=\"When should it run?\">\n        Now that you've deployed and run your workflow remotely, you might want to schedule it to run automatically at specific times. Prefect makes this easy with the `prefect-cloud schedule` command.\n\n        Let's schedule our workflow to run every day at 8:00 AM with [`cron`](https://en.wikipedia.org/wiki/Cron) syntax.\n\n        ```bash  theme={null}\n        uvx prefect-cloud schedule main/my_first_deployment \"0 8 * * *\"\n        ```\n\n        After running the command, your workflow will automatically execute remotely according to the schedule you've set.\n\n        You can view and manage all your scheduled runs in the Prefect UI.\n      </Step>\n    </Steps>\n  </Tab>\n\n  <Tab title=\"Open Source\">\n    <Steps>\n      <Step title=\"Install Prefect and start the server\">\n        If you're using Prefect Open Source, you'll run a server that backs your workflows. [Install Prefect](/v3/get-started/install) and start your local server:\n\n        ```bash  theme={null}\n        prefect server start\n        ```\n\n        If you prefer to run your Prefect server in a Docker container, you can use the following command:\n\n        ```bash  theme={null}\n        docker run -p 4200:4200 -d --rm prefecthq/prefect:3-python3.12 prefect server start --host 0.0.0.0\n        ```\n\n        Both commands start a server at [`http://localhost:4200`](http://localhost:4200). Keep this process running for this tutorial.\n      </Step>\n\n      <Step title=\"What code should run?\">\n        Let's start with a boring Python script that fetches a list of customer ids and processes them all in parallel. You can find this code and other examples hosted in our [quickstart repository](https://github.com/PrefectHQ/quickstart/blob/main/01_getting_started.py).\n\n        ```python 01_getting_started.py [expandable] theme={null}\n        from prefect import flow, task\n        import random\n\n        @task\n        def get_customer_ids() -> list[str]:\n            # Fetch customer IDs from a database or API\n            return [f\"customer{n}\" for n in random.choices(range(100), k=10)]\n\n        @task\n        def process_customer(customer_id: str) -> str:\n            # Process a single customer\n            return f\"Processed {customer_id}\"\n\n        @flow\n        def main() -> list[str]:\n            customer_ids = get_customer_ids()\n            # Map the process_customer task across all customer IDs\n            results = process_customer.map(customer_ids)\n            return results\n\n\n        if __name__ == \"__main__\":\n            main()\n        ```\n\n        This looks like the ordinary Python you'd write, except there is:\n\n        * a `@flow` decorator on the script's entrypoint.\n        * a `@task` decorator on each function called within the flow.\n\n        When you run this `flow`, Prefect dynamically creates a graph of each `task` and the state of their upstream dependencies. This allows Prefect to execute each `task` in the right order and, in the case of failure, to recover the state of your workflow and resume from its point of failure.\n\n        Let's run this code locally on your computer. To do that, run the following command in your terminal (in a new terminal window, keeping the server running):\n\n        ```bash  theme={null}\n        git clone https://github.com/PrefectHQ/quickstart && cd quickstart\n        python 01_getting_started.py\n        ```\n\n        If all went well, you'll see a link to see its execution graph in the Prefect UI followed by a flurry of state changes and logs as Prefect dynamically discovers and executes your workflow.\n      </Step>\n\n      <Step title=\"Where should it run?\">\n        At this point, you've successfully run a Prefect `flow` locally. Let's set up a simple deployment by updating the file to use `.serve()`:\n\n        ```python 01_getting_started.py [expandable] theme={null}\n        from prefect import flow, task\n        import random\n\n        @task\n        def get_customer_ids() -> list[str]:\n            # Fetch customer IDs from a database or API\n            return [f\"customer{n}\" for n in random.choices(range(100), k=10)]\n\n        @task\n        def process_customer(customer_id: str) -> str:\n            # Process a single customer\n            return f\"Processed {customer_id}\"\n\n        @flow\n        def main() -> list[str]:\n            customer_ids = get_customer_ids()\n            # Map the process_customer task across all customer IDs\n            results = process_customer.map(customer_ids)\n            return results\n\n\n        if __name__ == \"__main__\":\n            main.serve(name=\"my-first-deployment\")\n        ```\n\n        Now run the updated file:\n\n        ```bash  theme={null}\n        python 01_getting_started.py\n        ```\n\n        This starts a process listening for scheduled runs. You can now trigger the flow from the Prefect UI or programmatically.\n      </Step>\n\n      <Step title=\"When should it run?\">\n        Now let's schedule your workflow to run automatically. Update the file to add a cron schedule:\n\n        ```python 01_getting_started.py [expandable] theme={null}\n        from prefect import flow, task\n        import random\n\n        @task\n        def get_customer_ids() -> list[str]:\n            # Fetch customer IDs from a database or API\n            return [f\"customer{n}\" for n in random.choices(range(100), k=10)]\n\n        @task\n        def process_customer(customer_id: str) -> str:\n            # Process a single customer\n            return f\"Processed {customer_id}\"\n\n        @flow\n        def main() -> list[str]:\n            customer_ids = get_customer_ids()\n            # Map the process_customer task across all customer IDs\n            results = process_customer.map(customer_ids)\n            return results\n\n\n        if __name__ == \"__main__\":\n            main.serve(\n                name=\"my-first-deployment\",\n                cron=\"0 8 * * *\"  # Run every day at 8:00 AM\n            )\n        ```\n\n        Run the updated file:\n\n        ```bash  theme={null}\n        python 01_getting_started.py\n        ```\n\n        Your workflow will now run automatically according to the schedule while the serve process is running.\n      </Step>\n    </Steps>\n  </Tab>\n</Tabs>\n\n## Next steps\n\nNow that you've created your first workflow, explore Prefect's features to enable more sophisticated workflows.\n\n* Learn more about [flows](/v3/concepts/flows) and [tasks](/v3/concepts/tasks).\n* Learn more about [deployments](/v3/concepts/deployments).\n* Learn more about [work pools](/v3/concepts/work-pools).\n* Learn how to [run work concurrently](/v3/how-to-guides/workflows/run-work-concurrently).",
  "content_length": 12431
}