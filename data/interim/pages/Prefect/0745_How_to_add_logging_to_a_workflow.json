{
  "title": "How to add logging to a workflow",
  "source_url": "https://docs-3.prefect.io/v3/how-to-guides/workflows/add-logging",
  "content": "### Emit custom logs\n\nTo emit custom logs, use `get_run_logger` from within a flow or task.\n\n```python  theme={null}\nfrom prefect import flow, task\nfrom prefect.logging import get_run_logger\n\n\n@task(name=\"log-example-task\")\ndef logger_task():\n    # this logger instance will emit logs \n    # associated with both the flow run *and* the individual task run\n    logger = get_run_logger()\n    logger.info(\"INFO level log message from a task.\")\n    logger.debug(\"DEBUG level log message from a task.\")\n\n\n@flow(name=\"log-example-flow\")\ndef logger_flow():\n    # this logger instance will emit logs\n    # associated with the flow run only\n    logger = get_run_logger()\n    logger.info(\"INFO level log message.\")\n    logger.debug(\"DEBUG level log message.\")\n    logger.error(\"ERROR level log message.\")\n    logger.critical(\"CRITICAL level log message.\")\n\n    logger_task()\n```\n\nThe logger returned by `get_run_logger` support the [standard Python logging methods](https://docs.python.org/3/library/logging.html). Any logs emitted by the logger will be associated with the flow run or task run they are emitted from and sent to the Prefect backend. Logs sent to the Prefect backend are visible in the Prefect UI.\n\n<Warning>\n  `get_run_logger()` can only be used in the context of a flow or task.\n\n  To use a normal Python logger anywhere with your same configuration, use `get_logger()` from `prefect.logging`.\n\n  The logger retrieved with `get_logger()` will **not** send log records to the Prefect API.\n</Warning>\n\n### Log with print statements\n\nTo send `print` statements to the Prefect backend as logs, set the `log_prints` kwarg to `True` on the flow or task.\n\n```python  theme={null}\nfrom prefect import task, flow\n\n@task\ndef my_task():\n    print(\"we're logging print statements from a task\")\n\n@flow(log_prints=True)\ndef my_flow():\n    print(\"we're logging print statements from a flow\")\n    my_task()\n```\n\nThe `log_prints` kwarg is inherited by default by nested flow runs and tasks. To opt out of logging `print` statements for a specific task or flow, set `log_prints=False` on the child flow or task.\n\n```python  theme={null}\nfrom prefect import task, flow\n\n@task(log_prints=False)\ndef my_task():\n    print(\"not logging print statements in this task\")\n\n@flow(log_prints=True)\ndef my_flow():\n    print(\"we're logging print statements from a flow\")\n    my_task()\n```\n\nYou can configure the default `log_prints` setting for all Prefect flow and task runs through the\n`PREFECT_LOGGING_LOG_PRINTS` setting:\n\n```bash  theme={null}\nprefect config set PREFECT_LOGGING_LOG_PRINTS=True\n```\n\n## Access logs from the command line\n\nYou can retrieve logs for a specific flow run ID using Prefect's CLI:\n\n```bash  theme={null}\nprefect flow-run logs MY-FLOW-RUN-ID\n```\n\nThis can be particularly helpful if you want to access the logs as a local file:\n\n```bash  theme={null}\nprefect flow-run logs  MY-FLOW-RUN-ID > flow.log\n```",
  "content_length": 2911
}