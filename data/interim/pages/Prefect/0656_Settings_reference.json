{
  "title": "Settings reference",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/settings-ref",
  "content": "Reference for all available settings for Prefect.\n\n<Note>To use `prefect.toml` or `pyproject.toml` for configuration, `prefect>=3.1` must be installed.</Note>\n\n## Root Settings\n\n### `home`\n\nThe path to the Prefect home directory. Defaults to \\~/.prefect\n\n**Type**: `string`\n\n**Default**: `~/.prefect`\n\n**TOML dotted key path**: `home`\n\n**Supported environment variables**:\n`PREFECT_HOME`\n\n### `profiles_path`\n\nThe path to a profiles configuration file. Supports \\$PREFECT\\_HOME templating. Defaults to \\$PREFECT\\_HOME/profiles.toml.\n\n**Type**: `string`\n\n**TOML dotted key path**: `profiles_path`\n\n**Supported environment variables**:\n`PREFECT_PROFILES_PATH`\n\n### `debug_mode`\n\nIf True, enables debug mode which may provide additional logging and debugging features.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `debug_mode`\n\n**Supported environment variables**:\n`PREFECT_DEBUG_MODE`\n\n### `api`\n\n**Type**: [APISettings](#apisettings)\n\n**TOML dotted key path**: `api`\n\n### `cli`\n\n**Type**: [CLISettings](#clisettings)\n\n**TOML dotted key path**: `cli`\n\n### `client`\n\n**Type**: [ClientSettings](#clientsettings)\n\n**TOML dotted key path**: `client`\n\n### `cloud`\n\n**Type**: [CloudSettings](#cloudsettings)\n\n**TOML dotted key path**: `cloud`\n\n### `deployments`\n\n**Type**: [DeploymentsSettings](#deploymentssettings)\n\n**TOML dotted key path**: `deployments`\n\n### `experiments`\n\nSettings for controlling experimental features\n\n**Type**: [ExperimentsSettings](#experimentssettings)\n\n**TOML dotted key path**: `experiments`\n\n### `flows`\n\n**Type**: [FlowsSettings](#flowssettings)\n\n**TOML dotted key path**: `flows`\n\n### `internal`\n\nSettings for internal Prefect machinery\n\n**Type**: [InternalSettings](#internalsettings)\n\n**TOML dotted key path**: `internal`\n\n### `logging`\n\n**Type**: [LoggingSettings](#loggingsettings)\n\n**TOML dotted key path**: `logging`\n\n### `results`\n\n**Type**: [ResultsSettings](#resultssettings)\n\n**TOML dotted key path**: `results`\n\n### `runner`\n\n**Type**: [RunnerSettings](#runnersettings)\n\n**TOML dotted key path**: `runner`\n\n### `server`\n\n**Type**: [ServerSettings](#serversettings)\n\n**TOML dotted key path**: `server`\n\n### `tasks`\n\nSettings for controlling task behavior\n\n**Type**: [TasksSettings](#taskssettings)\n\n**TOML dotted key path**: `tasks`\n\n### `testing`\n\nSettings used during testing\n\n**Type**: [TestingSettings](#testingsettings)\n\n**TOML dotted key path**: `testing`\n\n### `worker`\n\nSettings for controlling worker behavior\n\n**Type**: [WorkerSettings](#workersettings)\n\n**TOML dotted key path**: `worker`\n\n### `ui_url`\n\nThe URL of the Prefect UI. If not set, the client will attempt to infer it.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `ui_url`\n\n**Supported environment variables**:\n`PREFECT_UI_URL`\n\n### `silence_api_url_misconfiguration`\n\nIf `True`, disable the warning when a user accidentally misconfigure its `PREFECT_API_URL`\nSometimes when a user manually set `PREFECT_API_URL` to a custom url,reverse-proxy for example,\nwe would like to silence this warning so we will set it to `FALSE`.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `silence_api_url_misconfiguration`\n\n**Supported environment variables**:\n`PREFECT_SILENCE_API_URL_MISCONFIGURATION`\n\n***\n\n## APISettings\n\nSettings for interacting with the Prefect API\n\n### `url`\n\nThe URL of the Prefect API. If not set, the client will attempt to infer it.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `api.url`\n\n**Supported environment variables**:\n`PREFECT_API_URL`\n\n### `auth_string`\n\nThe auth string used for basic authentication with a self-hosted Prefect API. Should be kept secret.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `api.auth_string`\n\n**Supported environment variables**:\n`PREFECT_API_AUTH_STRING`\n\n### `key`\n\nThe API key used for authentication with the Prefect API. Should be kept secret.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `api.key`\n\n**Supported environment variables**:\n`PREFECT_API_KEY`\n\n### `tls_insecure_skip_verify`\n\nIf `True`, disables SSL checking to allow insecure requests. Setting to False is recommended only during development. For example, when using self-signed certificates.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `api.tls_insecure_skip_verify`\n\n**Supported environment variables**:\n`PREFECT_API_TLS_INSECURE_SKIP_VERIFY`\n\n### `ssl_cert_file`\n\nThis configuration settings option specifies the path to an SSL certificate file.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `api.ssl_cert_file`\n\n**Supported environment variables**:\n`PREFECT_API_SSL_CERT_FILE`\n\n### `enable_http2`\n\nIf true, enable support for HTTP/2 for communicating with an API. If the API does not support HTTP/2, this will have no effect and connections will be made via HTTP/1.1.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `api.enable_http2`\n\n**Supported environment variables**:\n`PREFECT_API_ENABLE_HTTP2`\n\n### `request_timeout`\n\nThe default timeout for requests to the API\n\n**Type**: `number`\n\n**Default**: `60.0`\n\n**TOML dotted key path**: `api.request_timeout`\n\n**Supported environment variables**:\n`PREFECT_API_REQUEST_TIMEOUT`\n\n***\n\n## CLISettings\n\nSettings for controlling CLI behavior\n\n### `colors`\n\nIf True, use colors in CLI output. If `False`, output will not include colors codes.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `cli.colors`\n\n**Supported environment variables**:\n`PREFECT_CLI_COLORS`\n\n### `prompt`\n\nIf `True`, use interactive prompts in CLI commands. If `False`, no interactive prompts will be used. If `None`, the value will be dynamically determined based on the presence of an interactive-enabled terminal.\n\n**Type**: `boolean | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `cli.prompt`\n\n**Supported environment variables**:\n`PREFECT_CLI_PROMPT`\n\n### `wrap_lines`\n\nIf `True`, wrap text by inserting new lines in long lines in CLI output. If `False`, output will not be wrapped.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `cli.wrap_lines`\n\n**Supported environment variables**:\n`PREFECT_CLI_WRAP_LINES`\n\n***\n\n## ClientMetricsSettings\n\nSettings for controlling metrics reporting from the client\n\n### `enabled`\n\nWhether or not to enable Prometheus metrics in the client.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `client.metrics.enabled`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_METRICS_ENABLED`, `PREFECT_CLIENT_ENABLE_METRICS`\n\n### `port`\n\nThe port to expose the client Prometheus metrics on.\n\n**Type**: `integer`\n\n**Default**: `4201`\n\n**TOML dotted key path**: `client.metrics.port`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_METRICS_PORT`\n\n***\n\n## ClientSettings\n\nSettings for controlling API client behavior\n\n### `max_retries`\n\nThe maximum number of retries to perform on failed HTTP requests.\nDefaults to 5. Set to 0 to disable retries.\nSee `PREFECT_CLIENT_RETRY_EXTRA_CODES` for details on which HTTP status codes are\nretried.\n\n**Type**: `integer`\n\n**Default**: `5`\n\n**Constraints**:\n\n* Minimum: 0\n\n**TOML dotted key path**: `client.max_retries`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_MAX_RETRIES`\n\n### `retry_jitter_factor`\n\nA value greater than or equal to zero to control the amount of jitter added to retried\nclient requests. Higher values introduce larger amounts of jitter.\nSet to 0 to disable jitter. See `clamped_poisson_interval` for details on the how jitter\ncan affect retry lengths.\n\n**Type**: `number`\n\n**Default**: `0.2`\n\n**Constraints**:\n\n* Minimum: 0.0\n\n**TOML dotted key path**: `client.retry_jitter_factor`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_RETRY_JITTER_FACTOR`\n\n### `retry_extra_codes`\n\nA list of extra HTTP status codes to retry on. Defaults to an empty list.\n429, 502 and 503 are always retried. Please note that not all routes are idempotent and retrying\nmay result in unexpected behavior.\n\n**Type**: `string | integer | array | None`\n\n**Examples**:\n\n* `\"404,429,503\"`\n* `\"429\"`\n* `[404, 429, 503]`\n\n**TOML dotted key path**: `client.retry_extra_codes`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_RETRY_EXTRA_CODES`\n\n### `csrf_support_enabled`\n\nDetermines if CSRF token handling is active in the Prefect client for API\nrequests.\n\nWhen enabled (`True`), the client automatically manages CSRF tokens by\nretrieving, storing, and including them in applicable state-changing requests\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `client.csrf_support_enabled`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_CSRF_SUPPORT_ENABLED`\n\n### `custom_headers`\n\nCustom HTTP headers to include with every API request to the Prefect server.\nHeaders are specified as key-value pairs. Note that headers like 'User-Agent'\nand CSRF-related headers are managed by Prefect and cannot be overridden.\n\n**Type**: `object`\n\n**Examples**:\n\n* `{'X-Custom-Header': 'value'}`\n* `{'Authorization': 'Bearer token'}`\n\n**TOML dotted key path**: `client.custom_headers`\n\n**Supported environment variables**:\n`PREFECT_CLIENT_CUSTOM_HEADERS`\n\n### `metrics`\n\n**Type**: [ClientMetricsSettings](#clientmetricssettings)\n\n**TOML dotted key path**: `client.metrics`\n\n***\n\n## CloudSettings\n\nSettings for interacting with Prefect Cloud\n\n### `api_url`\n\nAPI URL for Prefect Cloud. Used for authentication with Prefect Cloud.\n\n**Type**: `string`\n\n**Default**: `https://api.prefect.cloud/api`\n\n**TOML dotted key path**: `cloud.api_url`\n\n**Supported environment variables**:\n`PREFECT_CLOUD_API_URL`\n\n### `enable_orchestration_telemetry`\n\nWhether or not to enable orchestration telemetry.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `cloud.enable_orchestration_telemetry`\n\n**Supported environment variables**:\n`PREFECT_CLOUD_ENABLE_ORCHESTRATION_TELEMETRY`\n\n### `max_log_size`\n\nMaximum size in characters for a single log when sending logs to Prefect Cloud.\n\n**Type**: `integer`\n\n**Default**: `25000`\n\n**TOML dotted key path**: `cloud.max_log_size`\n\n**Supported environment variables**:\n`PREFECT_CLOUD_MAX_LOG_SIZE`\n\n### `ui_url`\n\nThe URL of the Prefect Cloud UI. If not set, the client will attempt to infer it.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `cloud.ui_url`\n\n**Supported environment variables**:\n`PREFECT_CLOUD_UI_URL`\n\n***\n\n## DeploymentsSettings\n\nSettings for configuring deployments defaults\n\n### `default_work_pool_name`\n\nThe default work pool to use when creating deployments.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `deployments.default_work_pool_name`\n\n**Supported environment variables**:\n`PREFECT_DEPLOYMENTS_DEFAULT_WORK_POOL_NAME`, `PREFECT_DEFAULT_WORK_POOL_NAME`\n\n### `default_docker_build_namespace`\n\nThe default Docker namespace to use when building images.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**Examples**:\n\n* `\"my-dockerhub-registry\"`\n* `\"4999999999999.dkr.ecr.us-east-2.amazonaws.com/my-ecr-repo\"`\n\n**TOML dotted key path**: `deployments.default_docker_build_namespace`\n\n**Supported environment variables**:\n`PREFECT_DEPLOYMENTS_DEFAULT_DOCKER_BUILD_NAMESPACE`, `PREFECT_DEFAULT_DOCKER_BUILD_NAMESPACE`\n\n***\n\n## ExperimentsSettings\n\nSettings for configuring experimental features\n\n### `warn`\n\nIf `True`, warn on usage of experimental features.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `experiments.warn`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_WARN`, `PREFECT_EXPERIMENTAL_WARN`\n\n### `plugins`\n\nSettings for the experimental plugin system\n\n**Type**: [PluginsSettings](#pluginssettings)\n\n**TOML dotted key path**: `experiments.plugins`\n\n***\n\n## FlowsSettings\n\nSettings for controlling flow behavior\n\n### `default_retries`\n\nThis value sets the default number of retries for all flows.\n\n**Type**: `integer`\n\n**Default**: `0`\n\n**Constraints**:\n\n* Minimum: 0\n\n**TOML dotted key path**: `flows.default_retries`\n\n**Supported environment variables**:\n`PREFECT_FLOWS_DEFAULT_RETRIES`, `PREFECT_FLOW_DEFAULT_RETRIES`\n\n### `default_retry_delay_seconds`\n\nThis value sets the default retry delay seconds for all flows.\n\n**Type**: `integer | number | array`\n\n**Default**: `0`\n\n**TOML dotted key path**: `flows.default_retry_delay_seconds`\n\n**Supported environment variables**:\n`PREFECT_FLOWS_DEFAULT_RETRY_DELAY_SECONDS`, `PREFECT_FLOW_DEFAULT_RETRY_DELAY_SECONDS`\n\n***\n\n## InternalSettings\n\n### `logging_level`\n\nThe default logging level for Prefect's internal machinery loggers.\n\n**Type**: `string`\n\n**Default**: `ERROR`\n\n**Constraints**:\n\n* Allowed values: 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'\n\n**TOML dotted key path**: `internal.logging_level`\n\n**Supported environment variables**:\n`PREFECT_INTERNAL_LOGGING_LEVEL`, `PREFECT_LOGGING_INTERNAL_LEVEL`\n\n***\n\n## LoggingSettings\n\nSettings for controlling logging behavior\n\n### `level`\n\nThe default logging level for Prefect loggers.\n\n**Type**: `string`\n\n**Default**: `INFO`\n\n**Constraints**:\n\n* Allowed values: 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'\n\n**TOML dotted key path**: `logging.level`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_LEVEL`\n\n### `config_path`\n\nA path to a logging configuration file. Defaults to \\$PREFECT\\_HOME/logging.yml\n\n**Type**: `string`\n\n**TOML dotted key path**: `logging.config_path`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_CONFIG_PATH`, `PREFECT_LOGGING_SETTINGS_PATH`\n\n### `extra_loggers`\n\nAdditional loggers to attach to Prefect logging at runtime.\n\n**Type**: `string | array | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `logging.extra_loggers`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_EXTRA_LOGGERS`\n\n### `log_prints`\n\nIf `True`, `print` statements in flows and tasks will be redirected to the Prefect logger for the given run.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `logging.log_prints`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_LOG_PRINTS`\n\n### `colors`\n\nIf `True`, use colors in CLI output. If `False`, output will not include colors codes.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `logging.colors`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_COLORS`\n\n### `markup`\n\nWhether to interpret strings wrapped in square brackets as a style.\nThis allows styles to be conveniently added to log messages, e.g.\n`[red]This is a red message.[/red]`. However, the downside is, if enabled,\nstrings that contain square brackets may be inaccurately interpreted and\nlead to incomplete output, e.g.\n`[red]This is a red message.[/red]` may be interpreted as\n`[red]This is a red message.[/red]`.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `logging.markup`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_MARKUP`\n\n### `to_api`\n\n**Type**: [LoggingToAPISettings](#loggingtoapisettings)\n\n**TOML dotted key path**: `logging.to_api`\n\n***\n\n## LoggingToAPISettings\n\nSettings for controlling logging to the API\n\n### `enabled`\n\nIf `True`, logs will be sent to the API.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `logging.to_api.enabled`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_TO_API_ENABLED`\n\n### `batch_interval`\n\nThe number of seconds between batched writes of logs to the API.\n\n**Type**: `number`\n\n**Default**: `2.0`\n\n**TOML dotted key path**: `logging.to_api.batch_interval`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_TO_API_BATCH_INTERVAL`\n\n### `batch_size`\n\nThe number of logs to batch before sending to the API.\n\n**Type**: `integer`\n\n**Default**: `4000000`\n\n**TOML dotted key path**: `logging.to_api.batch_size`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_TO_API_BATCH_SIZE`\n\n### `max_log_size`\n\nThe maximum size in characters for a single log. When connected to Prefect Cloud, this value is capped at `PREFECT_CLOUD_MAX_LOG_SIZE` (default 25,000).\n\n**Type**: `integer`\n\n**Default**: `1000000`\n\n**TOML dotted key path**: `logging.to_api.max_log_size`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_TO_API_MAX_LOG_SIZE`\n\n### `when_missing_flow`\n\nControls the behavior when loggers attempt to send logs to the API handler from outside of a flow.\n\nAll logs sent to the API must be associated with a flow run. The API log handler can\nonly be used outside of a flow by manually providing a flow run identifier. Logs\nthat are not associated with a flow run will not be sent to the API. This setting can\nbe used to determine if a warning or error is displayed when the identifier is missing.\n\nThe following options are available:\n\n* \"warn\": Log a warning message.\n* \"error\": Raise an error.\n* \"ignore\": Do not log a warning message or raise an error.\n\n**Type**: `string`\n\n**Default**: `warn`\n\n**Constraints**:\n\n* Allowed values: 'warn', 'error', 'ignore'\n\n**TOML dotted key path**: `logging.to_api.when_missing_flow`\n\n**Supported environment variables**:\n`PREFECT_LOGGING_TO_API_WHEN_MISSING_FLOW`\n\n***\n\n## PluginsSettings\n\nSettings for configuring the experimental plugin system\n\n### `enabled`\n\nEnable the experimental plugin system.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `experiments.plugins.enabled`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_PLUGINS_ENABLED`\n\n### `allow`\n\nComma-separated list of plugin names to allow. If set, only these plugins will be loaded.\n\n**Type**: `array | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `experiments.plugins.allow`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_PLUGINS_ALLOW`\n\n### `deny`\n\nComma-separated list of plugin names to deny. These plugins will not be loaded.\n\n**Type**: `array | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `experiments.plugins.deny`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_PLUGINS_DENY`\n\n### `setup_timeout_seconds`\n\nMaximum time in seconds for all plugins to complete their setup hooks.\n\n**Type**: `number`\n\n**Default**: `20.0`\n\n**TOML dotted key path**: `experiments.plugins.setup_timeout_seconds`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_PLUGINS_SETUP_TIMEOUT_SECONDS`\n\n### `strict`\n\nIf True, exit if a required plugin fails during setup.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `experiments.plugins.strict`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_PLUGINS_STRICT`\n\n### `safe_mode`\n\nIf True, load plugins but do not execute their hooks. Useful for testing.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `experiments.plugins.safe_mode`\n\n**Supported environment variables**:\n`PREFECT_EXPERIMENTS_PLUGINS_SAFE_MODE`\n\n***\n\n## ResultsSettings\n\nSettings for controlling result storage behavior\n\n### `default_serializer`\n\nThe default serializer to use when not otherwise specified.\n\n**Type**: `string`\n\n**Default**: `pickle`\n\n**TOML dotted key path**: `results.default_serializer`\n\n**Supported environment variables**:\n`PREFECT_RESULTS_DEFAULT_SERIALIZER`\n\n### `persist_by_default`\n\nThe default setting for persisting results when not otherwise specified.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `results.persist_by_default`\n\n**Supported environment variables**:\n`PREFECT_RESULTS_PERSIST_BY_DEFAULT`\n\n### `default_storage_block`\n\nThe `block-type/block-document` slug of a block to use as the default result storage.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `results.default_storage_block`\n\n**Supported environment variables**:\n`PREFECT_RESULTS_DEFAULT_STORAGE_BLOCK`, `PREFECT_DEFAULT_RESULT_STORAGE_BLOCK`\n\n### `local_storage_path`\n\nThe default location for locally persisted results. Defaults to \\$PREFECT\\_HOME/storage.\n\n**Type**: `string`\n\n**TOML dotted key path**: `results.local_storage_path`\n\n**Supported environment variables**:\n`PREFECT_RESULTS_LOCAL_STORAGE_PATH`, `PREFECT_LOCAL_STORAGE_PATH`\n\n***\n\n## RunnerServerSettings\n\nSettings for controlling runner server behavior\n\n### `enable`\n\nWhether or not to enable the runner's webserver.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `runner.server.enable`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_SERVER_ENABLE`\n\n### `host`\n\nThe host address the runner's webserver should bind to.\n\n**Type**: `string`\n\n**Default**: `localhost`\n\n**TOML dotted key path**: `runner.server.host`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_SERVER_HOST`\n\n### `port`\n\nThe port the runner's webserver should bind to.\n\n**Type**: `integer`\n\n**Default**: `8080`\n\n**TOML dotted key path**: `runner.server.port`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_SERVER_PORT`\n\n### `log_level`\n\nThe log level of the runner's webserver.\n\n**Type**: `string`\n\n**Default**: `ERROR`\n\n**Constraints**:\n\n* Allowed values: 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'\n\n**TOML dotted key path**: `runner.server.log_level`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_SERVER_LOG_LEVEL`\n\n### `missed_polls_tolerance`\n\nNumber of missed polls before a runner is considered unhealthy by its webserver.\n\n**Type**: `integer`\n\n**Default**: `2`\n\n**TOML dotted key path**: `runner.server.missed_polls_tolerance`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_SERVER_MISSED_POLLS_TOLERANCE`\n\n***\n\n## RunnerSettings\n\nSettings for controlling runner behavior\n\n### `process_limit`\n\nMaximum number of processes a runner will execute in parallel.\n\n**Type**: `integer`\n\n**Default**: `5`\n\n**TOML dotted key path**: `runner.process_limit`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_PROCESS_LIMIT`\n\n### `poll_frequency`\n\nNumber of seconds a runner should wait between queries for scheduled work.\n\n**Type**: `integer`\n\n**Default**: `10`\n\n**TOML dotted key path**: `runner.poll_frequency`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_POLL_FREQUENCY`\n\n### `heartbeat_frequency`\n\nNumber of seconds a runner should wait between heartbeats for flow runs.\n\n**Type**: `integer | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `runner.heartbeat_frequency`\n\n**Supported environment variables**:\n`PREFECT_RUNNER_HEARTBEAT_FREQUENCY`\n\n### `server`\n\n**Type**: [RunnerServerSettings](#runnerserversettings)\n\n**TOML dotted key path**: `runner.server`\n\n***\n\n## SQLAlchemyConnectArgsSettings\n\nSettings for controlling SQLAlchemy connection behavior; note that these settings only take effect when\nusing a PostgreSQL database.\n\n### `application_name`\n\nControls the application\\_name field for connections opened from the connection pool when using a PostgreSQL database with the Prefect backend.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.application_name`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_APPLICATION_NAME`\n\n### `statement_cache_size`\n\nControls statement cache size for PostgreSQL connections. Setting this to 0 is required when using PgBouncer in transaction mode. Defaults to None.\n\n**Type**: `integer | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.statement_cache_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_STATEMENT_CACHE_SIZE`\n\n### `prepared_statement_cache_size`\n\nControls the size of the statement cache for PostgreSQL connections. When set to 0, statement caching is disabled. Defaults to None to use SQLAlchemy's default behavior.\n\n**Type**: `integer | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.prepared_statement_cache_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_PREPARED_STATEMENT_CACHE_SIZE`\n\n### `tls`\n\nSettings for controlling SQLAlchemy mTLS behavior\n\n**Type**: [SQLAlchemyTLSSettings](#sqlalchemytlssettings)\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.tls`\n\n***\n\n## SQLAlchemySettings\n\nSettings for controlling SQLAlchemy behavior; note that these settings only take effect when\nusing a PostgreSQL database.\n\n### `connect_args`\n\nSettings for controlling SQLAlchemy connection behavior\n\n**Type**: [SQLAlchemyConnectArgsSettings](#sqlalchemyconnectargssettings)\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args`\n\n### `pool_size`\n\nControls connection pool size of database connection pools from the Prefect backend.\n\n**Type**: `integer`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.database.sqlalchemy.pool_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_POOL_SIZE`, `PREFECT_SQLALCHEMY_POOL_SIZE`\n\n### `pool_recycle`\n\nThis setting causes the pool to recycle connections after the given number of seconds has passed; set it to -1 to avoid recycling entirely.\n\n**Type**: `integer`\n\n**Default**: `3600`\n\n**TOML dotted key path**: `server.database.sqlalchemy.pool_recycle`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_POOL_RECYCLE`\n\n### `pool_timeout`\n\nNumber of seconds to wait before giving up on getting a connection from the pool. Defaults to 30 seconds.\n\n**Type**: `number | None`\n\n**Default**: `30.0`\n\n**TOML dotted key path**: `server.database.sqlalchemy.pool_timeout`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_POOL_TIMEOUT`\n\n### `max_overflow`\n\nControls maximum overflow of the connection pool. To prevent overflow, set to -1.\n\n**Type**: `integer`\n\n**Default**: `10`\n\n**TOML dotted key path**: `server.database.sqlalchemy.max_overflow`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_MAX_OVERFLOW`, `PREFECT_SQLALCHEMY_MAX_OVERFLOW`\n\n***\n\n## SQLAlchemyTLSSettings\n\nSettings for controlling SQLAlchemy mTLS context when\nusing a PostgreSQL database.\n\n### `enabled`\n\nControls whether connected to mTLS enabled PostgreSQL when using a PostgreSQL database with the Prefect backend.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.tls.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_TLS_ENABLED`\n\n### `ca_file`\n\nThis configuration settings option specifies the path to PostgreSQL client certificate authority file.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.tls.ca_file`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_TLS_CA_FILE`\n\n### `cert_file`\n\nThis configuration settings option specifies the path to PostgreSQL client certificate file.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.tls.cert_file`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_TLS_CERT_FILE`\n\n### `key_file`\n\nThis configuration settings option specifies the path to PostgreSQL client key file.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.tls.key_file`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_TLS_KEY_FILE`\n\n### `check_hostname`\n\nThis configuration settings option specifies whether to verify PostgreSQL server hostname.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.database.sqlalchemy.connect_args.tls.check_hostname`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_SQLALCHEMY_CONNECT_ARGS_TLS_CHECK_HOSTNAME`\n\n***\n\n## ServerAPISettings\n\nSettings for controlling API server behavior\n\n### `auth_string`\n\nA string to use for basic authentication with the API in the form 'user:password'.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.api.auth_string`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_AUTH_STRING`\n\n### `host`\n\nThe API's host address (defaults to `127.0.0.1`).\n\n**Type**: `string`\n\n**Default**: `127.0.0.1`\n\n**TOML dotted key path**: `server.api.host`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_HOST`\n\n### `port`\n\nThe API's port address (defaults to `4200`).\n\n**Type**: `integer`\n\n**Default**: `4200`\n\n**TOML dotted key path**: `server.api.port`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_PORT`\n\n### `base_path`\n\nThe base URL path to serve the API under.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**Examples**:\n\n* `\"/v2/api\"`\n\n**TOML dotted key path**: `server.api.base_path`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_BASE_PATH`\n\n### `default_limit`\n\nThe default limit applied to queries that can return multiple objects, such as `POST /flow_runs/filter`.\n\n**Type**: `integer`\n\n**Default**: `200`\n\n**TOML dotted key path**: `server.api.default_limit`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_DEFAULT_LIMIT`, `PREFECT_API_DEFAULT_LIMIT`\n\n### `keepalive_timeout`\n\nThe API's keep alive timeout (defaults to `5`).\nRefer to [https://www.uvicorn.org/settings/#timeouts](https://www.uvicorn.org/settings/#timeouts) for details.\n\nWhen the API is hosted behind a load balancer, you may want to set this to a value\ngreater than the load balancer's idle timeout.\n\nNote this setting only applies when calling `prefect server start`; if hosting the\nAPI with another tool you will need to configure this there instead.\n\n**Type**: `integer`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.api.keepalive_timeout`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_KEEPALIVE_TIMEOUT`\n\n### `csrf_protection_enabled`\n\nControls the activation of CSRF protection for the Prefect server API.\n\nWhen enabled (`True`), the server enforces CSRF validation checks on incoming\nstate-changing requests (POST, PUT, PATCH, DELETE), requiring a valid CSRF\ntoken to be included in the request headers or body. This adds a layer of\nsecurity by preventing unauthorized or malicious sites from making requests on\nbehalf of authenticated users.\n\nIt is recommended to enable this setting in production environments where the\nAPI is exposed to web clients to safeguard against CSRF attacks.\n\nNote: Enabling this setting requires corresponding support in the client for\nCSRF token management. See PREFECT\\_CLIENT\\_CSRF\\_SUPPORT\\_ENABLED for more.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.api.csrf_protection_enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_CSRF_PROTECTION_ENABLED`, `PREFECT_SERVER_CSRF_PROTECTION_ENABLED`\n\n### `csrf_token_expiration`\n\nSpecifies the duration for which a CSRF token remains valid after being issued\nby the server.\n\nThe default expiration time is set to 1 hour, which offers a reasonable\ncompromise. Adjust this setting based on your specific security requirements\nand usage patterns.\n\n**Type**: `string`\n\n**Default**: `PT1H`\n\n**TOML dotted key path**: `server.api.csrf_token_expiration`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_CSRF_TOKEN_EXPIRATION`, `PREFECT_SERVER_CSRF_TOKEN_EXPIRATION`\n\n### `cors_allowed_origins`\n\nA comma-separated list of origins that are authorized to make cross-origin requests to the API.\n\nBy default, this is set to `*`, which allows requests from all origins.\n\n**Type**: `string`\n\n**Default**: `*`\n\n**TOML dotted key path**: `server.api.cors_allowed_origins`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_CORS_ALLOWED_ORIGINS`, `PREFECT_SERVER_CORS_ALLOWED_ORIGINS`\n\n### `cors_allowed_methods`\n\nA comma-separated list of methods that are authorized to make cross-origin requests to the API.\n\nBy default, this is set to `*`, which allows requests from all methods.\n\n**Type**: `string`\n\n**Default**: `*`\n\n**TOML dotted key path**: `server.api.cors_allowed_methods`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_CORS_ALLOWED_METHODS`, `PREFECT_SERVER_CORS_ALLOWED_METHODS`\n\n### `cors_allowed_headers`\n\nA comma-separated list of headers that are authorized to make cross-origin requests to the API.\n\nBy default, this is set to `*`, which allows requests from all headers.\n\n**Type**: `string`\n\n**Default**: `*`\n\n**TOML dotted key path**: `server.api.cors_allowed_headers`\n\n**Supported environment variables**:\n`PREFECT_SERVER_API_CORS_ALLOWED_HEADERS`, `PREFECT_SERVER_CORS_ALLOWED_HEADERS`\n\n***\n\n## ServerConcurrencySettings\n\n### `lease_storage`\n\nThe module to use for storing concurrency limit leases.\n\n**Type**: `string`\n\n**Default**: `prefect.server.concurrency.lease_storage.memory`\n\n**TOML dotted key path**: `server.concurrency.lease_storage`\n\n**Supported environment variables**:\n`PREFECT_SERVER_CONCURRENCY_LEASE_STORAGE`\n\n### `initial_deployment_lease_duration`\n\nInitial duration for deployment concurrency lease in seconds.\n\n**Type**: `number`\n\n**Default**: `300.0`\n\n**Constraints**:\n\n* Minimum: 30.0\n* Maximum: 3600.0\n\n**TOML dotted key path**: `server.concurrency.initial_deployment_lease_duration`\n\n**Supported environment variables**:\n`PREFECT_SERVER_CONCURRENCY_INITIAL_DEPLOYMENT_LEASE_DURATION`\n\n### `maximum_concurrency_slot_wait_seconds`\n\nThe maximum number of seconds to wait before retrying when a concurrency slot cannot be acquired.\n\n**Type**: `number`\n\n**Default**: `30`\n\n**Constraints**:\n\n* Minimum: 0\n\n**TOML dotted key path**: `server.concurrency.maximum_concurrency_slot_wait_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_CONCURRENCY_MAXIMUM_CONCURRENCY_SLOT_WAIT_SECONDS`\n\n***\n\n## ServerDatabaseSettings\n\nSettings for controlling server database behavior\n\n### `sqlalchemy`\n\nSettings for controlling SQLAlchemy behavior\n\n**Type**: [SQLAlchemySettings](#sqlalchemysettings)\n\n**TOML dotted key path**: `server.database.sqlalchemy`\n\n### `connection_url`\n\nA database connection URL in a SQLAlchemy-compatible\nformat. Prefect currently supports SQLite and Postgres. Note that all\nPrefect database engines must use an async driver - for SQLite, use\n`sqlite+aiosqlite` and for Postgres use `postgresql+asyncpg`.\n\nSQLite in-memory databases can be used by providing the url\n`sqlite+aiosqlite:///file::memory:?cache=shared&uri=true&check_same_thread=false`,\nwhich will allow the database to be accessed by multiple threads. Note\nthat in-memory databases can not be accessed from multiple processes and\nshould only be used for simple tests.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.connection_url`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_CONNECTION_URL`, `PREFECT_API_DATABASE_CONNECTION_URL`\n\n### `driver`\n\nThe database driver to use when connecting to the database. If not set, the driver will be inferred from the connection URL.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.driver`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_DRIVER`, `PREFECT_API_DATABASE_DRIVER`\n\n### `host`\n\nThe database server host.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.host`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_HOST`, `PREFECT_API_DATABASE_HOST`\n\n### `port`\n\nThe database server port.\n\n**Type**: `integer | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.port`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_PORT`, `PREFECT_API_DATABASE_PORT`\n\n### `user`\n\nThe user to use when connecting to the database.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.user`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_USER`, `PREFECT_API_DATABASE_USER`\n\n### `name`\n\nThe name of the Prefect database on the remote server, or the path to the database file for SQLite.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.name`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_NAME`, `PREFECT_API_DATABASE_NAME`\n\n### `password`\n\nThe password to use when connecting to the database. Should be kept secret.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.database.password`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_PASSWORD`, `PREFECT_API_DATABASE_PASSWORD`\n\n### `echo`\n\nIf `True`, SQLAlchemy will log all SQL issued to the database. Defaults to `False`.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.database.echo`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_ECHO`, `PREFECT_API_DATABASE_ECHO`\n\n### `migrate_on_start`\n\nIf `True`, the database will be migrated on application startup.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.database.migrate_on_start`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_MIGRATE_ON_START`, `PREFECT_API_DATABASE_MIGRATE_ON_START`\n\n### `timeout`\n\nA statement timeout, in seconds, applied to all database interactions made by the Prefect backend. Defaults to 10 seconds.\n\n**Type**: `number | None`\n\n**Default**: `10.0`\n\n**TOML dotted key path**: `server.database.timeout`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_TIMEOUT`, `PREFECT_API_DATABASE_TIMEOUT`\n\n### `connection_timeout`\n\nA connection timeout, in seconds, applied to database connections. Defaults to `5`.\n\n**Type**: `number | None`\n\n**Default**: `5.0`\n\n**TOML dotted key path**: `server.database.connection_timeout`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DATABASE_CONNECTION_TIMEOUT`, `PREFECT_API_DATABASE_CONNECTION_TIMEOUT`\n\n***\n\n## ServerDeploymentsSettings\n\n### `concurrency_slot_wait_seconds`\n\nThe number of seconds to wait before retrying when a deployment flow run cannot secure a concurrency slot from the server.\n\n**Type**: `number`\n\n**Default**: `30.0`\n\n**Constraints**:\n\n* Minimum: 0.0\n\n**TOML dotted key path**: `server.deployments.concurrency_slot_wait_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DEPLOYMENTS_CONCURRENCY_SLOT_WAIT_SECONDS`, `PREFECT_DEPLOYMENT_CONCURRENCY_SLOT_WAIT_SECONDS`\n\n***\n\n## ServerDocketSettings\n\nSettings for controlling Docket behavior\n\n### `name`\n\nThe name of the Docket instance.\n\n**Type**: `string`\n\n**Default**: `prefect-server`\n\n**TOML dotted key path**: `server.docket.name`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DOCKET_NAME`\n\n### `url`\n\nThe URL of the Redis server to use for Docket.\n\n**Type**: `string`\n\n**Default**: `memory://`\n\n**TOML dotted key path**: `server.docket.url`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DOCKET_URL`\n\n***\n\n## ServerEphemeralSettings\n\nSettings for controlling ephemeral server behavior\n\n### `enabled`\n\nControls whether or not a subprocess server can be started when no API URL is provided.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.ephemeral.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EPHEMERAL_ENABLED`, `PREFECT_SERVER_ALLOW_EPHEMERAL_MODE`\n\n### `startup_timeout_seconds`\n\nThe number of seconds to wait for the server to start when ephemeral mode is enabled.\nDefaults to `20`.\n\n**Type**: `integer`\n\n**Default**: `20`\n\n**TOML dotted key path**: `server.ephemeral.startup_timeout_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EPHEMERAL_STARTUP_TIMEOUT_SECONDS`\n\n***\n\n## ServerEventsSettings\n\nSettings for controlling behavior of the events subsystem\n\n### `stream_out_enabled`\n\nWhether or not to stream events out to the API via websockets.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.events.stream_out_enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_STREAM_OUT_ENABLED`, `PREFECT_API_EVENTS_STREAM_OUT_ENABLED`\n\n### `related_resource_cache_ttl`\n\nThe number of seconds to cache related resources for in the API.\n\n**Type**: `string`\n\n**Default**: `PT5M`\n\n**TOML dotted key path**: `server.events.related_resource_cache_ttl`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_RELATED_RESOURCE_CACHE_TTL`, `PREFECT_API_EVENTS_RELATED_RESOURCE_CACHE_TTL`\n\n### `maximum_labels_per_resource`\n\nThe maximum number of labels a resource may have.\n\n**Type**: `integer`\n\n**Default**: `500`\n\n**TOML dotted key path**: `server.events.maximum_labels_per_resource`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MAXIMUM_LABELS_PER_RESOURCE`, `PREFECT_EVENTS_MAXIMUM_LABELS_PER_RESOURCE`\n\n### `maximum_related_resources`\n\nThe maximum number of related resources an Event may have.\n\n**Type**: `integer`\n\n**Default**: `100`\n\n**TOML dotted key path**: `server.events.maximum_related_resources`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MAXIMUM_RELATED_RESOURCES`, `PREFECT_EVENTS_MAXIMUM_RELATED_RESOURCES`\n\n### `maximum_size_bytes`\n\nThe maximum size of an Event when serialized to JSON\n\n**Type**: `integer`\n\n**Default**: `1500000`\n\n**TOML dotted key path**: `server.events.maximum_size_bytes`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MAXIMUM_SIZE_BYTES`, `PREFECT_EVENTS_MAXIMUM_SIZE_BYTES`\n\n### `expired_bucket_buffer`\n\nThe amount of time to retain expired automation buckets\n\n**Type**: `string`\n\n**Default**: `PT1M`\n\n**TOML dotted key path**: `server.events.expired_bucket_buffer`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_EXPIRED_BUCKET_BUFFER`, `PREFECT_EVENTS_EXPIRED_BUCKET_BUFFER`\n\n### `proactive_granularity`\n\nHow frequently proactive automations are evaluated\n\n**Type**: `string`\n\n**Default**: `PT5S`\n\n**TOML dotted key path**: `server.events.proactive_granularity`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_PROACTIVE_GRANULARITY`, `PREFECT_EVENTS_PROACTIVE_GRANULARITY`\n\n### `retention_period`\n\nThe amount of time to retain events in the database.\n\n**Type**: `string`\n\n**Default**: `P7D`\n\n**TOML dotted key path**: `server.events.retention_period`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_RETENTION_PERIOD`, `PREFECT_EVENTS_RETENTION_PERIOD`\n\n### `maximum_websocket_backfill`\n\nThe maximum range to look back for backfilling events for a websocket subscriber.\n\n**Type**: `string`\n\n**Default**: `PT15M`\n\n**TOML dotted key path**: `server.events.maximum_websocket_backfill`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MAXIMUM_WEBSOCKET_BACKFILL`, `PREFECT_EVENTS_MAXIMUM_WEBSOCKET_BACKFILL`\n\n### `websocket_backfill_page_size`\n\nThe page size for the queries to backfill events for websocket subscribers.\n\n**Type**: `integer`\n\n**Default**: `250`\n\n**TOML dotted key path**: `server.events.websocket_backfill_page_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_WEBSOCKET_BACKFILL_PAGE_SIZE`, `PREFECT_EVENTS_WEBSOCKET_BACKFILL_PAGE_SIZE`\n\n### `messaging_broker`\n\nWhich message broker implementation to use for the messaging system, should point to a module that exports a Publisher and Consumer class.\n\n**Type**: `string`\n\n**Default**: `prefect.server.utilities.messaging.memory`\n\n**TOML dotted key path**: `server.events.messaging_broker`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MESSAGING_BROKER`, `PREFECT_MESSAGING_BROKER`\n\n### `messaging_cache`\n\nWhich cache implementation to use for the events system. Should point to a module that exports a Cache class.\n\n**Type**: `string`\n\n**Default**: `prefect.server.utilities.messaging.memory`\n\n**TOML dotted key path**: `server.events.messaging_cache`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MESSAGING_CACHE`, `PREFECT_MESSAGING_CACHE`\n\n### `causal_ordering`\n\nWhich causal ordering implementation to use for the events system. Should point to a module that exports a CausalOrdering class.\n\n**Type**: `string`\n\n**Default**: `prefect.server.events.ordering.memory`\n\n**TOML dotted key path**: `server.events.causal_ordering`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_CAUSAL_ORDERING`\n\n### `maximum_event_name_length`\n\nThe maximum length of an event name.\n\n**Type**: `integer`\n\n**Default**: `1024`\n\n**TOML dotted key path**: `server.events.maximum_event_name_length`\n\n**Supported environment variables**:\n`PREFECT_SERVER_EVENTS_MAXIMUM_EVENT_NAME_LENGTH`\n\n***\n\n## ServerFlowRunGraphSettings\n\nSettings for controlling behavior of the flow run graph\n\n### `max_nodes`\n\nThe maximum size of a flow run graph on the v2 API\n\n**Type**: `integer`\n\n**Default**: `10000`\n\n**TOML dotted key path**: `server.flow_run_graph.max_nodes`\n\n**Supported environment variables**:\n`PREFECT_SERVER_FLOW_RUN_GRAPH_MAX_NODES`, `PREFECT_API_MAX_FLOW_RUN_GRAPH_NODES`\n\n### `max_artifacts`\n\nThe maximum number of artifacts to show on a flow run graph on the v2 API\n\n**Type**: `integer`\n\n**Default**: `10000`\n\n**TOML dotted key path**: `server.flow_run_graph.max_artifacts`\n\n**Supported environment variables**:\n`PREFECT_SERVER_FLOW_RUN_GRAPH_MAX_ARTIFACTS`, `PREFECT_API_MAX_FLOW_RUN_GRAPH_ARTIFACTS`\n\n***\n\n## ServerLogsSettings\n\nSettings for controlling behavior of the logs subsystem\n\n### `stream_out_enabled`\n\nWhether or not to stream logs out to the API via websockets.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.logs.stream_out_enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_LOGS_STREAM_OUT_ENABLED`\n\n### `stream_publishing_enabled`\n\nWhether or not to publish logs to the streaming system.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.logs.stream_publishing_enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_LOGS_STREAM_PUBLISHING_ENABLED`\n\n***\n\n## ServerServicesCancellationCleanupSettings\n\nSettings for controlling the cancellation cleanup service\n\n### `enabled`\n\nWhether or not to start the cancellation cleanup service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.cancellation_cleanup.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_CANCELLATION_CLEANUP_ENABLED`, `PREFECT_API_SERVICES_CANCELLATION_CLEANUP_ENABLED`\n\n### `loop_seconds`\n\nThe cancellation cleanup service will look for non-terminal tasks and subflows this often. Defaults to `20`.\n\n**Type**: `number`\n\n**Default**: `20`\n\n**TOML dotted key path**: `server.services.cancellation_cleanup.loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_CANCELLATION_CLEANUP_LOOP_SECONDS`, `PREFECT_API_SERVICES_CANCELLATION_CLEANUP_LOOP_SECONDS`\n\n***\n\n## ServerServicesEventLoggerSettings\n\nSettings for controlling the event logger service\n\n### `enabled`\n\nWhether or not to start the event logger service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.services.event_logger.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_EVENT_LOGGER_ENABLED`, `PREFECT_API_SERVICES_EVENT_LOGGER_ENABLED`\n\n***\n\n## ServerServicesEventPersisterSettings\n\nSettings for controlling the event persister service\n\n### `enabled`\n\nWhether or not to start the event persister service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.event_persister.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_EVENT_PERSISTER_ENABLED`, `PREFECT_API_SERVICES_EVENT_PERSISTER_ENABLED`\n\n### `batch_size`\n\nThe number of events the event persister will attempt to insert in one batch.\n\n**Type**: `integer`\n\n**Default**: `20`\n\n**TOML dotted key path**: `server.services.event_persister.batch_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_EVENT_PERSISTER_BATCH_SIZE`, `PREFECT_API_SERVICES_EVENT_PERSISTER_BATCH_SIZE`\n\n### `read_batch_size`\n\nThe number of events the event persister will attempt to read from the message broker in one batch.\n\n**Type**: `integer`\n\n**Default**: `1`\n\n**TOML dotted key path**: `server.services.event_persister.read_batch_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_EVENT_PERSISTER_READ_BATCH_SIZE`, `PREFECT_API_SERVICES_EVENT_PERSISTER_READ_BATCH_SIZE`\n\n### `flush_interval`\n\nThe maximum number of seconds between flushes of the event persister.\n\n**Type**: `number`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.services.event_persister.flush_interval`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_EVENT_PERSISTER_FLUSH_INTERVAL`, `PREFECT_API_SERVICES_EVENT_PERSISTER_FLUSH_INTERVAL`\n\n### `batch_size_delete`\n\nThe number of expired events and event resources the event persister will attempt to delete in one batch.\n\n**Type**: `integer`\n\n**Default**: `10000`\n\n**TOML dotted key path**: `server.services.event_persister.batch_size_delete`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_EVENT_PERSISTER_BATCH_SIZE_DELETE`\n\n***\n\n## ServerServicesForemanSettings\n\nSettings for controlling the foreman service\n\n### `enabled`\n\nWhether or not to start the foreman service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.foreman.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_FOREMAN_ENABLED`, `PREFECT_API_SERVICES_FOREMAN_ENABLED`\n\n### `loop_seconds`\n\nThe foreman service will check for offline workers this often. Defaults to `15`.\n\n**Type**: `number`\n\n**Default**: `15`\n\n**TOML dotted key path**: `server.services.foreman.loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_FOREMAN_LOOP_SECONDS`, `PREFECT_API_SERVICES_FOREMAN_LOOP_SECONDS`\n\n### `inactivity_heartbeat_multiple`\n\nThe number of heartbeats that must be missed before a worker is marked as offline. Defaults to `3`.\n\n**Type**: `integer`\n\n**Default**: `3`\n\n**TOML dotted key path**: `server.services.foreman.inactivity_heartbeat_multiple`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_FOREMAN_INACTIVITY_HEARTBEAT_MULTIPLE`, `PREFECT_API_SERVICES_FOREMAN_INACTIVITY_HEARTBEAT_MULTIPLE`\n\n### `fallback_heartbeat_interval_seconds`\n\nThe number of seconds to use for online/offline evaluation if a worker's heartbeat\ninterval is not set. Defaults to `30`.\n\n**Type**: `integer`\n\n**Default**: `30`\n\n**TOML dotted key path**: `server.services.foreman.fallback_heartbeat_interval_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_FOREMAN_FALLBACK_HEARTBEAT_INTERVAL_SECONDS`, `PREFECT_API_SERVICES_FOREMAN_FALLBACK_HEARTBEAT_INTERVAL_SECONDS`\n\n### `deployment_last_polled_timeout_seconds`\n\nThe number of seconds before a deployment is marked as not ready if it has not been\npolled. Defaults to `60`.\n\n**Type**: `integer`\n\n**Default**: `60`\n\n**TOML dotted key path**: `server.services.foreman.deployment_last_polled_timeout_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_FOREMAN_DEPLOYMENT_LAST_POLLED_TIMEOUT_SECONDS`, `PREFECT_API_SERVICES_FOREMAN_DEPLOYMENT_LAST_POLLED_TIMEOUT_SECONDS`\n\n### `work_queue_last_polled_timeout_seconds`\n\nThe number of seconds before a work queue is marked as not ready if it has not been\npolled. Defaults to `60`.\n\n**Type**: `integer`\n\n**Default**: `60`\n\n**TOML dotted key path**: `server.services.foreman.work_queue_last_polled_timeout_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_FOREMAN_WORK_QUEUE_LAST_POLLED_TIMEOUT_SECONDS`, `PREFECT_API_SERVICES_FOREMAN_WORK_QUEUE_LAST_POLLED_TIMEOUT_SECONDS`\n\n***\n\n## ServerServicesLateRunsSettings\n\nSettings for controlling the late runs service\n\n### `enabled`\n\nWhether or not to start the late runs service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.late_runs.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_LATE_RUNS_ENABLED`, `PREFECT_API_SERVICES_LATE_RUNS_ENABLED`\n\n### `loop_seconds`\n\nThe late runs service will look for runs to mark as late this often. Defaults to `5`.\n\n**Type**: `number`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.services.late_runs.loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_LATE_RUNS_LOOP_SECONDS`, `PREFECT_API_SERVICES_LATE_RUNS_LOOP_SECONDS`\n\n### `after_seconds`\n\nThe late runs service will mark runs as late after they have exceeded their scheduled start time by this many seconds. Defaults to `5` seconds.\n\n**Type**: `string`\n\n**Default**: `PT15S`\n\n**TOML dotted key path**: `server.services.late_runs.after_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_LATE_RUNS_AFTER_SECONDS`, `PREFECT_API_SERVICES_LATE_RUNS_AFTER_SECONDS`\n\n***\n\n## ServerServicesPauseExpirationsSettings\n\nSettings for controlling the pause expiration service\n\n### `enabled`\n\nWhether or not to start the paused flow run expiration service in the server\napplication. If disabled, paused flows that have timed out will remain in a Paused state\nuntil a resume attempt.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.pause_expirations.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_PAUSE_EXPIRATIONS_ENABLED`, `PREFECT_API_SERVICES_PAUSE_EXPIRATIONS_ENABLED`\n\n### `loop_seconds`\n\nThe pause expiration service will look for runs to mark as failed this often. Defaults to `5`.\n\n**Type**: `number`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.services.pause_expirations.loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_PAUSE_EXPIRATIONS_LOOP_SECONDS`, `PREFECT_API_SERVICES_PAUSE_EXPIRATIONS_LOOP_SECONDS`\n\n***\n\n## ServerServicesRepossessorSettings\n\nSettings for controlling the repossessor service\n\n### `enabled`\n\nWhether or not to start the repossessor service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.repossessor.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_REPOSSESSOR_ENABLED`\n\n### `loop_seconds`\n\nThe repossessor service will look for expired leases this often. Defaults to `15`.\n\n**Type**: `number`\n\n**Default**: `15`\n\n**TOML dotted key path**: `server.services.repossessor.loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_REPOSSESSOR_LOOP_SECONDS`\n\n***\n\n## ServerServicesSchedulerSettings\n\nSettings for controlling the scheduler service\n\n### `enabled`\n\nWhether or not to start the scheduler service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.scheduler.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_ENABLED`, `PREFECT_API_SERVICES_SCHEDULER_ENABLED`\n\n### `loop_seconds`\n\nThe scheduler loop interval, in seconds. This determines\nhow often the scheduler will attempt to schedule new flow runs, but has no\nimpact on how quickly either flow runs or task runs are actually executed.\nDefaults to `60`.\n\n**Type**: `number`\n\n**Default**: `60`\n\n**TOML dotted key path**: `server.services.scheduler.loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_LOOP_SECONDS`, `PREFECT_API_SERVICES_SCHEDULER_LOOP_SECONDS`\n\n### `deployment_batch_size`\n\nThe number of deployments the scheduler will attempt to\nschedule in a single batch. If there are more deployments than the batch\nsize, the scheduler immediately attempts to schedule the next batch; it\ndoes not sleep for `scheduler_loop_seconds` until it has visited every\ndeployment once. Defaults to `100`.\n\n**Type**: `integer`\n\n**Default**: `100`\n\n**TOML dotted key path**: `server.services.scheduler.deployment_batch_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_DEPLOYMENT_BATCH_SIZE`, `PREFECT_API_SERVICES_SCHEDULER_DEPLOYMENT_BATCH_SIZE`\n\n### `max_runs`\n\nThe scheduler will attempt to schedule up to this many\nauto-scheduled runs in the future. Note that runs may have fewer than\nthis many scheduled runs, depending on the value of\n`scheduler_max_scheduled_time`.  Defaults to `100`.\n\n**Type**: `integer`\n\n**Default**: `100`\n\n**TOML dotted key path**: `server.services.scheduler.max_runs`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_MAX_RUNS`, `PREFECT_API_SERVICES_SCHEDULER_MAX_RUNS`\n\n### `min_runs`\n\nThe scheduler will attempt to schedule at least this many\nauto-scheduled runs in the future. Note that runs may have more than\nthis many scheduled runs, depending on the value of\n`scheduler_min_scheduled_time`.  Defaults to `3`.\n\n**Type**: `integer`\n\n**Default**: `3`\n\n**TOML dotted key path**: `server.services.scheduler.min_runs`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_MIN_RUNS`, `PREFECT_API_SERVICES_SCHEDULER_MIN_RUNS`\n\n### `max_scheduled_time`\n\nThe scheduler will create new runs up to this far in the\nfuture. Note that this setting will take precedence over\n`scheduler_max_runs`: if a flow runs once a month and\n`scheduler_max_scheduled_time` is three months, then only three runs will be\nscheduled. Defaults to 100 days (`8640000` seconds).\n\n**Type**: `string`\n\n**Default**: `P100D`\n\n**TOML dotted key path**: `server.services.scheduler.max_scheduled_time`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_MAX_SCHEDULED_TIME`, `PREFECT_API_SERVICES_SCHEDULER_MAX_SCHEDULED_TIME`\n\n### `min_scheduled_time`\n\nThe scheduler will create new runs at least this far in the\nfuture. Note that this setting will take precedence over `scheduler_min_runs`:\nif a flow runs every hour and `scheduler_min_scheduled_time` is three hours,\nthen three runs will be scheduled even if `scheduler_min_runs` is 1. Defaults to\n\n**Type**: `string`\n\n**Default**: `PT1H`\n\n**TOML dotted key path**: `server.services.scheduler.min_scheduled_time`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_MIN_SCHEDULED_TIME`, `PREFECT_API_SERVICES_SCHEDULER_MIN_SCHEDULED_TIME`\n\n### `insert_batch_size`\n\nThe number of runs the scheduler will attempt to insert in a single batch.\nDefaults to `500`.\n\n**Type**: `integer`\n\n**Default**: `500`\n\n**TOML dotted key path**: `server.services.scheduler.insert_batch_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_INSERT_BATCH_SIZE`, `PREFECT_API_SERVICES_SCHEDULER_INSERT_BATCH_SIZE`\n\n### `recent_deployments_loop_seconds`\n\nThe number of seconds the recent deployments scheduler will wait between checking for recently updated deployments. Defaults to `5`.\n\n**Type**: `number`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.services.scheduler.recent_deployments_loop_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_SCHEDULER_RECENT_DEPLOYMENTS_LOOP_SECONDS`\n\n***\n\n## ServerServicesSettings\n\nSettings for controlling server services\n\n### `cancellation_cleanup`\n\n**Type**: [ServerServicesCancellationCleanupSettings](#serverservicescancellationcleanupsettings)\n\n**TOML dotted key path**: `server.services.cancellation_cleanup`\n\n### `event_persister`\n\n**Type**: [ServerServicesEventPersisterSettings](#serverserviceseventpersistersettings)\n\n**TOML dotted key path**: `server.services.event_persister`\n\n### `event_logger`\n\n**Type**: [ServerServicesEventLoggerSettings](#serverserviceseventloggersettings)\n\n**TOML dotted key path**: `server.services.event_logger`\n\n### `foreman`\n\n**Type**: [ServerServicesForemanSettings](#serverservicesforemansettings)\n\n**TOML dotted key path**: `server.services.foreman`\n\n### `late_runs`\n\n**Type**: [ServerServicesLateRunsSettings](#serverserviceslaterunssettings)\n\n**TOML dotted key path**: `server.services.late_runs`\n\n### `scheduler`\n\n**Type**: [ServerServicesSchedulerSettings](#serverservicesschedulersettings)\n\n**TOML dotted key path**: `server.services.scheduler`\n\n### `pause_expirations`\n\n**Type**: [ServerServicesPauseExpirationsSettings](#serverservicespauseexpirationssettings)\n\n**TOML dotted key path**: `server.services.pause_expirations`\n\n### `repossessor`\n\n**Type**: [ServerServicesRepossessorSettings](#serverservicesrepossessorsettings)\n\n**TOML dotted key path**: `server.services.repossessor`\n\n### `task_run_recorder`\n\n**Type**: [ServerServicesTaskRunRecorderSettings](#serverservicestaskrunrecordersettings)\n\n**TOML dotted key path**: `server.services.task_run_recorder`\n\n### `triggers`\n\n**Type**: [ServerServicesTriggersSettings](#serverservicestriggerssettings)\n\n**TOML dotted key path**: `server.services.triggers`\n\n***\n\n## ServerServicesTaskRunRecorderSettings\n\nSettings for controlling the task run recorder service\n\n### `enabled`\n\nWhether or not to start the task run recorder service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.task_run_recorder.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_TASK_RUN_RECORDER_ENABLED`, `PREFECT_API_SERVICES_TASK_RUN_RECORDER_ENABLED`\n\n***\n\n## ServerServicesTriggersSettings\n\nSettings for controlling the triggers service\n\n### `enabled`\n\nWhether or not to start the triggers service in the server application.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.services.triggers.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_TRIGGERS_ENABLED`, `PREFECT_API_SERVICES_TRIGGERS_ENABLED`\n\n### `pg_notify_reconnect_interval_seconds`\n\nThe number of seconds to wait before reconnecting to the PostgreSQL NOTIFY/LISTEN\nconnection after an error. Only used when using PostgreSQL as the database.\nDefaults to `10`.\n\n**Type**: `integer`\n\n**Default**: `10`\n\n**TOML dotted key path**: `server.services.triggers.pg_notify_reconnect_interval_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_TRIGGERS_PG_NOTIFY_RECONNECT_INTERVAL_SECONDS`\n\n### `pg_notify_heartbeat_interval_seconds`\n\nThe number of seconds between heartbeat checks for the PostgreSQL NOTIFY/LISTEN\nconnection to ensure it's still alive. Only used when using PostgreSQL as the database.\nDefaults to `5`.\n\n**Type**: `integer`\n\n**Default**: `5`\n\n**TOML dotted key path**: `server.services.triggers.pg_notify_heartbeat_interval_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_SERVICES_TRIGGERS_PG_NOTIFY_HEARTBEAT_INTERVAL_SECONDS`\n\n***\n\n## ServerSettings\n\nSettings for controlling server behavior\n\n### `logging_level`\n\nThe default logging level for the Prefect API server.\n\n**Type**: `string`\n\n**Default**: `WARNING`\n\n**Constraints**:\n\n* Allowed values: 'DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'\n\n**TOML dotted key path**: `server.logging_level`\n\n**Supported environment variables**:\n`PREFECT_SERVER_LOGGING_LEVEL`, `PREFECT_LOGGING_SERVER_LEVEL`\n\n### `analytics_enabled`\n\nWhen enabled, Prefect sends anonymous data (e.g. count of flow runs, package version)\non server startup to help us improve our product.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.analytics_enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_ANALYTICS_ENABLED`\n\n### `metrics_enabled`\n\nWhether or not to enable Prometheus metrics in the API.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.metrics_enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_METRICS_ENABLED`, `PREFECT_API_ENABLE_METRICS`\n\n### `log_retryable_errors`\n\nIf `True`, log retryable errors in the API and it's services.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `server.log_retryable_errors`\n\n**Supported environment variables**:\n`PREFECT_SERVER_LOG_RETRYABLE_ERRORS`, `PREFECT_API_LOG_RETRYABLE_ERRORS`\n\n### `register_blocks_on_start`\n\nIf set, any block types that have been imported will be registered with the backend on application startup. If not set, block types must be manually registered.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.register_blocks_on_start`\n\n**Supported environment variables**:\n`PREFECT_SERVER_REGISTER_BLOCKS_ON_START`, `PREFECT_API_BLOCKS_REGISTER_ON_START`\n\n### `memoize_block_auto_registration`\n\nControls whether or not block auto-registration on start\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.memoize_block_auto_registration`\n\n**Supported environment variables**:\n`PREFECT_SERVER_MEMOIZE_BLOCK_AUTO_REGISTRATION`, `PREFECT_MEMOIZE_BLOCK_AUTO_REGISTRATION`\n\n### `memo_store_path`\n\nPath to the memo store file. Defaults to \\$PREFECT\\_HOME/memo\\_store.toml\n\n**Type**: `string`\n\n**TOML dotted key path**: `server.memo_store_path`\n\n**Supported environment variables**:\n`PREFECT_SERVER_MEMO_STORE_PATH`, `PREFECT_MEMO_STORE_PATH`\n\n### `deployment_schedule_max_scheduled_runs`\n\nThe maximum number of scheduled runs to create for a deployment.\n\n**Type**: `integer`\n\n**Default**: `50`\n\n**TOML dotted key path**: `server.deployment_schedule_max_scheduled_runs`\n\n**Supported environment variables**:\n`PREFECT_SERVER_DEPLOYMENT_SCHEDULE_MAX_SCHEDULED_RUNS`, `PREFECT_DEPLOYMENT_SCHEDULE_MAX_SCHEDULED_RUNS`\n\n### `api`\n\n**Type**: [ServerAPISettings](#serverapisettings)\n\n**TOML dotted key path**: `server.api`\n\n### `concurrency`\n\nSettings for controlling server-side concurrency limit handling\n\n**Type**: [ServerConcurrencySettings](#serverconcurrencysettings)\n\n**TOML dotted key path**: `server.concurrency`\n\n### `database`\n\n**Type**: [ServerDatabaseSettings](#serverdatabasesettings)\n\n**TOML dotted key path**: `server.database`\n\n### `deployments`\n\nSettings for controlling server deployments behavior\n\n**Type**: [ServerDeploymentsSettings](#serverdeploymentssettings)\n\n**TOML dotted key path**: `server.deployments`\n\n### `docket`\n\nSettings for controlling server Docket behavior\n\n**Type**: [ServerDocketSettings](#serverdocketsettings)\n\n**TOML dotted key path**: `server.docket`\n\n### `ephemeral`\n\n**Type**: [ServerEphemeralSettings](#serverephemeralsettings)\n\n**TOML dotted key path**: `server.ephemeral`\n\n### `events`\n\nSettings for controlling server events behavior\n\n**Type**: [ServerEventsSettings](#servereventssettings)\n\n**TOML dotted key path**: `server.events`\n\n### `flow_run_graph`\n\nSettings for controlling flow run graph behavior\n\n**Type**: [ServerFlowRunGraphSettings](#serverflowrungraphsettings)\n\n**TOML dotted key path**: `server.flow_run_graph`\n\n### `logs`\n\nSettings for controlling server logs behavior\n\n**Type**: [ServerLogsSettings](#serverlogssettings)\n\n**TOML dotted key path**: `server.logs`\n\n### `services`\n\nSettings for controlling server services behavior\n\n**Type**: [ServerServicesSettings](#serverservicessettings)\n\n**TOML dotted key path**: `server.services`\n\n### `tasks`\n\nSettings for controlling server tasks behavior\n\n**Type**: [ServerTasksSettings](#servertaskssettings)\n\n**TOML dotted key path**: `server.tasks`\n\n### `ui`\n\nSettings for controlling server UI behavior\n\n**Type**: [ServerUISettings](#serveruisettings)\n\n**TOML dotted key path**: `server.ui`\n\n***\n\n## ServerTasksSchedulingSettings\n\nSettings for controlling server-side behavior related to task scheduling\n\n### `max_scheduled_queue_size`\n\nThe maximum number of scheduled tasks to queue for submission.\n\n**Type**: `integer`\n\n**Default**: `1000`\n\n**TOML dotted key path**: `server.tasks.scheduling.max_scheduled_queue_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_TASKS_SCHEDULING_MAX_SCHEDULED_QUEUE_SIZE`, `PREFECT_TASK_SCHEDULING_MAX_SCHEDULED_QUEUE_SIZE`\n\n### `max_retry_queue_size`\n\nThe maximum number of retries to queue for submission.\n\n**Type**: `integer`\n\n**Default**: `100`\n\n**TOML dotted key path**: `server.tasks.scheduling.max_retry_queue_size`\n\n**Supported environment variables**:\n`PREFECT_SERVER_TASKS_SCHEDULING_MAX_RETRY_QUEUE_SIZE`, `PREFECT_TASK_SCHEDULING_MAX_RETRY_QUEUE_SIZE`\n\n### `pending_task_timeout`\n\nHow long before a PENDING task are made available to another task worker.\n\n**Type**: `string`\n\n**Default**: `PT0S`\n\n**TOML dotted key path**: `server.tasks.scheduling.pending_task_timeout`\n\n**Supported environment variables**:\n`PREFECT_SERVER_TASKS_SCHEDULING_PENDING_TASK_TIMEOUT`, `PREFECT_TASK_SCHEDULING_PENDING_TASK_TIMEOUT`\n\n***\n\n## ServerTasksSettings\n\nSettings for controlling server-side behavior related to tasks\n\n### `tag_concurrency_slot_wait_seconds`\n\nThe number of seconds to wait before retrying when a task run cannot secure a concurrency slot from the server.\n\n**Type**: `number`\n\n**Default**: `30`\n\n**Constraints**:\n\n* Minimum: 0\n\n**TOML dotted key path**: `server.tasks.tag_concurrency_slot_wait_seconds`\n\n**Supported environment variables**:\n`PREFECT_SERVER_TASKS_TAG_CONCURRENCY_SLOT_WAIT_SECONDS`, `PREFECT_TASK_RUN_TAG_CONCURRENCY_SLOT_WAIT_SECONDS`\n\n### `max_cache_key_length`\n\nThe maximum number of characters allowed for a task run cache key.\n\n**Type**: `integer`\n\n**Default**: `2000`\n\n**TOML dotted key path**: `server.tasks.max_cache_key_length`\n\n**Supported environment variables**:\n`PREFECT_SERVER_TASKS_MAX_CACHE_KEY_LENGTH`, `PREFECT_API_TASK_CACHE_KEY_MAX_LENGTH`\n\n### `scheduling`\n\n**Type**: [ServerTasksSchedulingSettings](#servertasksschedulingsettings)\n\n**TOML dotted key path**: `server.tasks.scheduling`\n\n***\n\n## ServerUISettings\n\n### `enabled`\n\nWhether or not to serve the Prefect UI.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.ui.enabled`\n\n**Supported environment variables**:\n`PREFECT_SERVER_UI_ENABLED`, `PREFECT_UI_ENABLED`\n\n### `api_url`\n\nThe connection url for communication from the UI to the API. Defaults to `PREFECT_API_URL` if set. Otherwise, the default URL is generated from `PREFECT_SERVER_API_HOST` and `PREFECT_SERVER_API_PORT`.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.ui.api_url`\n\n**Supported environment variables**:\n`PREFECT_SERVER_UI_API_URL`, `PREFECT_UI_API_URL`\n\n### `serve_base`\n\nThe base URL path to serve the Prefect UI from.\n\n**Type**: `string`\n\n**Default**: `/`\n\n**TOML dotted key path**: `server.ui.serve_base`\n\n**Supported environment variables**:\n`PREFECT_SERVER_UI_SERVE_BASE`, `PREFECT_UI_SERVE_BASE`\n\n### `static_directory`\n\nThe directory to serve static files from. This should be used when running into permissions issues when attempting to serve the UI from the default directory (for example when running in a Docker container).\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `server.ui.static_directory`\n\n**Supported environment variables**:\n`PREFECT_SERVER_UI_STATIC_DIRECTORY`, `PREFECT_UI_STATIC_DIRECTORY`\n\n### `show_promotional_content`\n\nWhether or not to display promotional content in the UI, including upgrade prompts and marketing banners.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `server.ui.show_promotional_content`\n\n**Supported environment variables**:\n`PREFECT_SERVER_UI_SHOW_PROMOTIONAL_CONTENT`\n\n***\n\n## TasksRunnerSettings\n\n### `thread_pool_max_workers`\n\nThe maximum number of workers for ThreadPoolTaskRunner.\n\n**Type**: `integer | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `tasks.runner.thread_pool_max_workers`\n\n**Supported environment variables**:\n`PREFECT_TASKS_RUNNER_THREAD_POOL_MAX_WORKERS`, `PREFECT_TASK_RUNNER_THREAD_POOL_MAX_WORKERS`\n\n### `process_pool_max_workers`\n\nThe maximum number of workers for ProcessPoolTaskRunner.\n\n**Type**: `integer | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `tasks.runner.process_pool_max_workers`\n\n**Supported environment variables**:\n`PREFECT_TASKS_RUNNER_PROCESS_POOL_MAX_WORKERS`\n\n***\n\n## TasksSchedulingSettings\n\n### `default_storage_block`\n\nThe `block-type/block-document` slug of a block to use as the default storage for autonomous tasks.\n\n**Type**: `string | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `tasks.scheduling.default_storage_block`\n\n**Supported environment variables**:\n`PREFECT_TASKS_SCHEDULING_DEFAULT_STORAGE_BLOCK`, `PREFECT_TASK_SCHEDULING_DEFAULT_STORAGE_BLOCK`\n\n### `delete_failed_submissions`\n\nWhether or not to delete failed task submissions from the database.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `tasks.scheduling.delete_failed_submissions`\n\n**Supported environment variables**:\n`PREFECT_TASKS_SCHEDULING_DELETE_FAILED_SUBMISSIONS`, `PREFECT_TASK_SCHEDULING_DELETE_FAILED_SUBMISSIONS`\n\n***\n\n## TasksSettings\n\n### `refresh_cache`\n\nIf `True`, enables a refresh of cached results: re-executing the task will refresh the cached results.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `tasks.refresh_cache`\n\n**Supported environment variables**:\n`PREFECT_TASKS_REFRESH_CACHE`\n\n### `default_no_cache`\n\nIf `True`, sets the default cache policy on all tasks to `NO_CACHE`.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `tasks.default_no_cache`\n\n**Supported environment variables**:\n`PREFECT_TASKS_DEFAULT_NO_CACHE`\n\n### `disable_caching`\n\nIf `True`, disables caching on all tasks regardless of cache policy.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `tasks.disable_caching`\n\n**Supported environment variables**:\n`PREFECT_TASKS_DISABLE_CACHING`\n\n### `default_retries`\n\nThis value sets the default number of retries for all tasks.\n\n**Type**: `integer`\n\n**Default**: `0`\n\n**Constraints**:\n\n* Minimum: 0\n\n**TOML dotted key path**: `tasks.default_retries`\n\n**Supported environment variables**:\n`PREFECT_TASKS_DEFAULT_RETRIES`, `PREFECT_TASK_DEFAULT_RETRIES`\n\n### `default_retry_delay_seconds`\n\nThis value sets the default retry delay seconds for all tasks.\n\n**Type**: `string | integer | number | array | None`\n\n**Default**: `0`\n\n**TOML dotted key path**: `tasks.default_retry_delay_seconds`\n\n**Supported environment variables**:\n`PREFECT_TASKS_DEFAULT_RETRY_DELAY_SECONDS`, `PREFECT_TASK_DEFAULT_RETRY_DELAY_SECONDS`\n\n### `default_persist_result`\n\nIf `True`, results will be persisted by default for all tasks. Set to `False` to disable persistence by default. Note that setting to `False` will override the behavior set by a parent flow or task.\n\n**Type**: `boolean | None`\n\n**Default**: `None`\n\n**TOML dotted key path**: `tasks.default_persist_result`\n\n**Supported environment variables**:\n`PREFECT_TASKS_DEFAULT_PERSIST_RESULT`\n\n### `runner`\n\nSettings for controlling task runner behavior\n\n**Type**: [TasksRunnerSettings](#tasksrunnersettings)\n\n**TOML dotted key path**: `tasks.runner`\n\n### `scheduling`\n\nSettings for controlling client-side task scheduling behavior\n\n**Type**: [TasksSchedulingSettings](#tasksschedulingsettings)\n\n**TOML dotted key path**: `tasks.scheduling`\n\n***\n\n## TestingSettings\n\n### `test_mode`\n\nIf `True`, places the API in test mode. This may modify behavior to facilitate testing.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `testing.test_mode`\n\n**Supported environment variables**:\n`PREFECT_TESTING_TEST_MODE`, `PREFECT_TEST_MODE`\n\n### `unit_test_mode`\n\nThis setting only exists to facilitate unit testing. If `True`, code is executing in a unit test context. Defaults to `False`.\n\n**Type**: `boolean`\n\n**Default**: `False`\n\n**TOML dotted key path**: `testing.unit_test_mode`\n\n**Supported environment variables**:\n`PREFECT_TESTING_UNIT_TEST_MODE`, `PREFECT_UNIT_TEST_MODE`\n\n### `unit_test_loop_debug`\n\nIf `True` turns on debug mode for the unit testing event loop.\n\n**Type**: `boolean`\n\n**Default**: `True`\n\n**TOML dotted key path**: `testing.unit_test_loop_debug`\n\n**Supported environment variables**:\n`PREFECT_TESTING_UNIT_TEST_LOOP_DEBUG`, `PREFECT_UNIT_TEST_LOOP_DEBUG`\n\n### `test_setting`\n\nThis setting only exists to facilitate unit testing. If in test mode, this setting will return its value. Otherwise, it returns `None`.\n\n**Type**: `None`\n\n**Default**: `FOO`\n\n**TOML dotted key path**: `testing.test_setting`\n\n**Supported environment variables**:\n`PREFECT_TESTING_TEST_SETTING`, `PREFECT_TEST_SETTING`\n\n***\n\n## WorkerSettings\n\n### `heartbeat_seconds`\n\nNumber of seconds a worker should wait between sending a heartbeat.\n\n**Type**: `number`\n\n**Default**: `30`\n\n**TOML dotted key path**: `worker.heartbeat_seconds`\n\n**Supported environment variables**:\n`PREFECT_WORKER_HEARTBEAT_SECONDS`\n\n### `query_seconds`\n\nNumber of seconds a worker should wait between queries for scheduled work.\n\n**Type**: `number`\n\n**Default**: `10`\n\n**TOML dotted key path**: `worker.query_seconds`\n\n**Supported environment variables**:\n`PREFECT_WORKER_QUERY_SECONDS`\n\n### `prefetch_seconds`\n\nThe number of seconds into the future a worker should query for scheduled work.\n\n**Type**: `number`\n\n**Default**: `10`\n\n**TOML dotted key path**: `worker.prefetch_seconds`\n\n**Supported environment variables**:\n`PREFECT_WORKER_PREFETCH_SECONDS`\n\n### `webserver`\n\nSettings for a worker's webserver\n\n**Type**: [WorkerWebserverSettings](#workerwebserversettings)\n\n**TOML dotted key path**: `worker.webserver`\n\n***\n\n## WorkerWebserverSettings\n\n### `host`\n\nThe host address the worker's webserver should bind to.\n\n**Type**: `string`\n\n**Default**: `0.0.0.0`\n\n**TOML dotted key path**: `worker.webserver.host`\n\n**Supported environment variables**:\n`PREFECT_WORKER_WEBSERVER_HOST`\n\n### `port`\n\nThe port the worker's webserver should bind to.\n\n**Type**: `integer`\n\n**Default**: `8080`\n\n**TOML dotted key path**: `worker.webserver.port`\n\n**Supported environment variables**:\n`PREFECT_WORKER_WEBSERVER_PORT`\n\n***",
  "content_length": 76710
}