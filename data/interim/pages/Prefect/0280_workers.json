{
  "title": "workers",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-api-workers",
  "content": "# `prefect.server.api.workers`\n\nRoutes for interacting with work queue objects.\n\n## Functions\n\n### `create_work_pool` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L158\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_work_pool(work_pool: schemas.actions.WorkPoolCreate, db: PrefectDBInterface = Depends(provide_database_interface), prefect_client_version: Optional[str] = Depends(dependencies.get_prefect_client_version)) -> schemas.core.WorkPool\n```\n\nCreates a new work pool. If a work pool with the same\nname already exists, an error will be raised.\n\nFor more information, see [https://docs.prefect.io/v3/concepts/work-pools](https://docs.prefect.io/v3/concepts/work-pools).\n\n### `read_work_pool` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L210\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_work_pool(work_pool_name: str = Path(..., description='The work pool name', alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface), prefect_client_version: Optional[str] = Depends(dependencies.get_prefect_client_version)) -> schemas.core.WorkPool\n```\n\nRead a work pool by name\n\n### `read_work_pools` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L244\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_work_pools(work_pools: Optional[schemas.filters.WorkPoolFilter] = None, limit: int = dependencies.LimitBody(), offset: int = Body(0, ge=0), db: PrefectDBInterface = Depends(provide_database_interface), prefect_client_version: Optional[str] = Depends(dependencies.get_prefect_client_version)) -> List[schemas.core.WorkPool]\n```\n\nRead multiple work pools\n\n### `count_work_pools` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L278\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncount_work_pools(work_pools: Optional[schemas.filters.WorkPoolFilter] = Body(None, embed=True), db: PrefectDBInterface = Depends(provide_database_interface)) -> int\n```\n\nCount work pools\n\n### `update_work_pool` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L292\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupdate_work_pool(work_pool: schemas.actions.WorkPoolUpdate, work_pool_name: str = Path(..., description='The work pool name', alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> None\n```\n\nUpdate a work pool\n\n### `delete_work_pool` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L328\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete_work_pool(work_pool_name: str = Path(..., description='The work pool name', alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> None\n```\n\nDelete a work pool\n\n### `get_scheduled_flow_runs` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L357\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_scheduled_flow_runs(docket: dependencies.Docket, work_pool_name: str = Path(..., description='The work pool name', alias='name'), work_queue_names: List[str] = Body(None, description='The names of work pool queues'), scheduled_before: DateTime = Body(None, description='The maximum time to look for scheduled flow runs'), scheduled_after: DateTime = Body(None, description='The minimum time to look for scheduled flow runs'), limit: int = dependencies.LimitBody(), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> List[schemas.responses.WorkerFlowRunResponse]\n```\n\nLoad scheduled runs for a worker\n\n### `create_work_queue` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L437\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_work_queue(work_queue: schemas.actions.WorkQueueCreate, work_pool_name: str = Path(..., description='The work pool name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> schemas.responses.WorkQueueResponse\n```\n\nCreates a new work pool queue. If a work pool queue with the same\nname already exists, an error will be raised.\n\nFor more information, see [https://docs.prefect.io/v3/concepts/work-pools#work-queues](https://docs.prefect.io/v3/concepts/work-pools#work-queues).\n\n### `read_work_queue` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L477\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_work_queue(work_pool_name: str = Path(..., description='The work pool name'), work_queue_name: str = Path(..., description='The work pool queue name', alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> schemas.responses.WorkQueueResponse\n```\n\nRead a work pool queue\n\n### `read_work_queues` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L506\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_work_queues(work_pool_name: str = Path(..., description='The work pool name'), work_queues: schemas.filters.WorkQueueFilter = None, limit: int = dependencies.LimitBody(), offset: int = Body(0, ge=0), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> List[schemas.responses.WorkQueueResponse]\n```\n\nRead all work pool queues\n\n### `update_work_queue` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L537\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupdate_work_queue(work_queue: schemas.actions.WorkQueueUpdate, work_pool_name: str = Path(..., description='The work pool name'), work_queue_name: str = Path(..., description='The work pool queue name', alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> None\n```\n\nUpdate a work pool queue\n\n### `delete_work_queue` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L568\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete_work_queue(work_pool_name: str = Path(..., description='The work pool name'), work_queue_name: str = Path(..., description='The work pool queue name', alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> None\n```\n\nDelete a work pool queue\n\n### `worker_heartbeat` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L605\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nworker_heartbeat(work_pool_name: str = Path(..., description='The work pool name'), name: str = Body(..., description='The worker process name', embed=True), heartbeat_interval_seconds: Optional[int] = Body(None, description=\"The worker's heartbeat interval in seconds\", embed=True), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> None\n```\n\n### `read_workers` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L644\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_workers(work_pool_name: str = Path(..., description='The work pool name'), workers: Optional[schemas.filters.WorkerFilter] = None, limit: int = dependencies.LimitBody(), offset: int = Body(0, ge=0), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> List[schemas.responses.WorkerResponse]\n```\n\nRead all worker processes\n\n### `delete_worker` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L671\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete_worker(work_pool_name: str = Path(..., description='The work pool name'), worker_name: str = Path(..., description=\"The work pool's worker name\", alias='name'), worker_lookups: WorkerLookups = Depends(WorkerLookups), db: PrefectDBInterface = Depends(provide_database_interface)) -> None\n```\n\nDelete a work pool's worker\n\n## Classes\n\n### `WorkerLookups` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/workers.py#L54\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>",
  "content_length": 9550
}