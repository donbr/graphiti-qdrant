{
  "title": "templating",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-utilities-templating",
  "content": "# `prefect.utilities.templating`\n\n## Functions\n\n### `determine_placeholder_type` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L52\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndetermine_placeholder_type(name: str) -> PlaceholderType\n```\n\nDetermines the type of a placeholder based on its name.\n\n**Args:**\n\n* `name`: The name of the placeholder\n\n**Returns:**\n\n* The type of the placeholder\n\n### `find_placeholders` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L72\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nfind_placeholders(template: T) -> set[Placeholder]\n```\n\nFinds all placeholders in a template.\n\n**Args:**\n\n* `template`: template to discover placeholders in\n\n**Returns:**\n\n* A set of all placeholders in the template\n\n### `apply_values` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L126\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\napply_values(template: T, values: dict[str, Any], remove_notset: bool = True, warn_on_notset: bool = False) -> Union[T, type[NotSet]]\n```\n\nReplaces placeholders in a template with values from a supplied dictionary.\n\nWill recursively replace placeholders in dictionaries and lists.\n\nIf a value has no placeholders, it will be returned unchanged.\n\nIf a template contains only a single placeholder, the placeholder will be\nfully replaced with the value.\n\nIf a template contains text before or after a placeholder or there are\nmultiple placeholders, the placeholders will be replaced with the\ncorresponding variable values.\n\nIf a template contains a placeholder that is not in `values`, NotSet will\nbe returned to signify that no placeholder replacement occurred. If\n`template` is a dictionary that contains a key with a value of NotSet,\nthe key will be removed in the return value unless `remove_notset` is set to False.\n\n**Args:**\n\n* `template`: template to discover and replace values in\n* `values`: The values to apply to placeholders in the template\n* `remove_notset`: If True, remove keys with an unset value\n* `warn_on_notset`: If True, warn when a placeholder is not found in `values`\n\n**Returns:**\n\n* The template with the values applied\n\n### `resolve_block_document_references` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L236\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nresolve_block_document_references(template: T, client: Optional['PrefectClient'] = None, value_transformer: Optional[Callable[[str, Any], Any]] = None) -> Union[T, dict[str, Any]]\n```\n\nResolve block document references in a template by replacing each reference with\nits value or the return value of the transformer function if provided.\n\nRecursively searches for block document references in dictionaries and lists.\n\nIdentifies block document references by the as dictionary with the following\nstructure:\n\n```\n{\n    \"$ref\": {\n        \"block_document_id\": <block_document_id>\n    }\n}\n```\n\nwhere `<block_document_id>` is the ID of the block document to resolve.\n\nOnce the block document is retrieved from the API, the data of the block document\nis used to replace the reference.\n\n## Accessing Values:\n\nTo access different values in a block document, use dot notation combined with the block document's prefix, slug, and block name.\n\nFor a block document with the structure:\n\n```json  theme={null}\n{\n    \"value\": {\n        \"key\": {\n            \"nested-key\": \"nested-value\"\n        },\n        \"list\": [\n            {\"list-key\": \"list-value\"},\n            1,\n            2\n        ]\n    }\n}\n```\n\nexamples of value resolution are as follows:\n\n1. Accessing a nested dictionary:\n   Format: `prefect.blocks.<block_type_slug>.<block_document_name>.value.key`\n   Example: Returns `{\"nested-key\": \"nested-value\"}`\n\n2. Accessing a specific nested value:\n   Format: `prefect.blocks.<block_type_slug>.<block_document_name>.value.key.nested-key`\n   Example: Returns `\"nested-value\"`\n\n3. Accessing a list element's key-value:\n   Format: `prefect.blocks.<block_type_slug>.<block_document_name>.value.list[0].list-key`\n   Example: Returns `\"list-value\"`\n\n## Default Resolution for System Blocks:\n\nFor system blocks, which only contain a `value` attribute, this attribute is resolved by default.\n\n**Args:**\n\n* `template`: The template to resolve block documents in\n* `value_transformer`: A function that takes the block placeholder and the block value and returns replacement text for the template\n\n**Returns:**\n\n* The template with block documents resolved\n\n### `resolve_variables` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L385\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nresolve_variables(template: T, client: Optional['PrefectClient'] = None) -> T\n```\n\nResolve variables in a template by replacing each variable placeholder with the\nvalue of the variable.\n\nRecursively searches for variable placeholders in dictionaries and lists.\n\nStrips variable placeholders if the variable is not found.\n\n**Args:**\n\n* `template`: The template to resolve variables in\n\n**Returns:**\n\n* The template with variables resolved\n\n## Classes\n\n### `PlaceholderType` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L39\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n### `Placeholder` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/templating.py#L46\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>",
  "content_length": 5923
}