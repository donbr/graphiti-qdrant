{
  "title": "importtools",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-utilities-importtools",
  "content": "# `prefect.utilities.importtools`\n\n## Functions\n\n### `to_qualified_name` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L32\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nto_qualified_name(obj: Any) -> str\n```\n\nGiven an object, returns its fully-qualified name: a string that represents its\nPython import path.\n\n**Args:**\n\n* `obj`: an importable Python object\n\n**Returns:**\n\n* the qualified name\n\n### `from_qualified_name` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L46\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nfrom_qualified_name(name: str) -> Any\n```\n\nImport an object given a fully-qualified name.\n\n**Args:**\n\n* `name`: The fully-qualified name of the object to import.\n\n**Returns:**\n\n* the imported object\n\n**Examples:**\n\n```python  theme={null}\nobj = from_qualified_name(\"random.randint\")\nimport random\nobj == random.randint\n# True\n```\n\n### `load_script_as_module` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L79\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nload_script_as_module(path: str) -> ModuleType\n```\n\nExecute a script at the given path.\n\nSets the module name to a unique identifier to ensure thread safety.\nUses a lock to safely modify sys.path for relative imports.\n\nIf an exception occurs during execution of the script, a\n`prefect.exceptions.ScriptError` is created to wrap the exception and raised.\n\n### `load_module` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L123\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nload_module(module_name: str) -> ModuleType\n```\n\nImport a module with support for relative imports within the module.\n\n### `import_object` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L138\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nimport_object(import_path: str) -> Any\n```\n\nLoad an object from an import path.\n\nImport paths can be formatted as one of:\n\n* module.object\n* module:object\n* /path/to/script.py:object\n* module:object.method\n* /path/to/script.py:object.method\n\nThis function is not thread safe as it modifies the 'sys' module during execution.\n\n### `lazy_import` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L197\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nlazy_import(name: str, error_on_import: bool = False, help_message: Optional[str] = None) -> ModuleType\n```\n\nCreate a lazily-imported module to use in place of the module of the given name.\nUse this to retain module-level imports for libraries that we don't want to\nactually import until they are needed.\n\nNOTE: Lazy-loading a subpackage can cause the subpackage to be imported\ntwice if another non-lazy import also imports the subpackage. For example,\nusing both `lazy_import(\"docker.errors\")` and `import docker.errors` in the\nsame codebase will import `docker.errors` twice and can lead to unexpected\nbehavior, e.g. type check failures and import-time side effects running\ntwice.\n\nAdapted from the [Python documentation][1] and [lazy\\_loader][2]\n\n[1]: https://docs.python.org/3/library/importlib.html#implementing-lazy-imports\n\n[2]: https://github.com/scientific-python/lazy_loader\n\n### `safe_load_namespace` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L317\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nsafe_load_namespace(source_code: str, filepath: Optional[str] = None) -> dict[str, Any]\n```\n\nSafely load a namespace from source code, optionally handling relative imports.\n\nIf a `filepath` is provided, `sys.path` is modified to support relative imports.\nChanges to `sys.path` are reverted after completion, but this function is not thread safe\nand use of it in threaded contexts may result in undesirable behavior.\n\n**Args:**\n\n* `source_code`: The source code to load\n* `filepath`: Optional file path of the source code. If provided, enables relative imports.\n\n**Returns:**\n\n* The namespace loaded from the source code.\n\n## Classes\n\n### `DelayedImportErrorModule` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L175\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA fake module returned by `lazy_import` when the module cannot be found. When any\nof the module's attributes are accessed, we will throw a `ModuleNotFoundError`.\n\nAdapted from [lazy\\_loader][1]\n\n[1]: https://github.com/scientific-python/lazy_loader\n\n### `AliasedModuleDefinition` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L250\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA definition for the `AliasedModuleFinder`.\n\n**Args:**\n\n* `alias`: The import name to create\n* `real`: The import name of the module to reference for the alias\n* `callback`: A function to call when the alias module is loaded\n\n### `AliasedModuleFinder` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L265\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `find_spec` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L274\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nfind_spec(self, fullname: str, path: Optional[Sequence[str]] = None, target: Optional[ModuleType] = None) -> Optional[ModuleSpec]\n```\n\nThe fullname is the imported path, e.g. \"foo.bar\". If there is an alias \"phi\"\nfor \"foo\" then on import of \"phi.bar\" we will find the spec for \"foo.bar\" and\ncreate a new spec for \"phi.bar\" that points to \"foo.bar\".\n\n### `AliasedModuleLoader` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L299\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `exec_module` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/importtools.py#L310\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nexec_module(self, module: ModuleType) -> None\n```",
  "content_length": 6808
}