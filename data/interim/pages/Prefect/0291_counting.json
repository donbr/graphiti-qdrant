{
  "title": "counting",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-events-counting",
  "content": "# `prefect.server.events.counting`\n\n## Classes\n\n### `InvalidEventCountParameters` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L26\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nRaised when the given parameters are invalid for counting events.\n\n### `TimeUnit` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L34\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `as_timedelta` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L41\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nas_timedelta(self, interval: float) -> Duration\n```\n\n#### `auto` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/collections.py#L69\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nauto() -> str\n```\n\nExposes `enum.auto()` to avoid requiring a second import to use `AutoEnum`\n\n#### `database_label_expression` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L145\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndatabase_label_expression(self, db: PrefectDBInterface, time_interval: float) -> sa.Function[str]\n```\n\nReturns the SQL expression to label a time bucket\n\n#### `database_value_expression` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L110\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndatabase_value_expression(self, time_interval: float) -> sa.Cast[str]\n```\n\nReturns the SQL expression to place an event in a time bucket\n\n#### `get_interval_spans` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L78\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_interval_spans(self, start_datetime: datetime.datetime, end_datetime: datetime.datetime, interval: float) -> Generator[int | tuple[datetime.datetime, datetime.datetime], None, None]\n```\n\nDivide the given range of dates into evenly-sized spans of interval units\n\n#### `validate_buckets` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L55\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nvalidate_buckets(self, start_datetime: datetime.datetime, end_datetime: datetime.datetime, interval: float) -> None\n```\n\n### `Countable` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L175\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `auto` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/collections.py#L69\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nauto() -> str\n```\n\nExposes `enum.auto()` to avoid requiring a second import to use `AutoEnum`\n\n#### `get_database_query` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/events/counting.py#L183\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_database_query(self, filter: 'EventFilter', time_unit: TimeUnit, time_interval: float) -> Select[tuple[str, str, DateTime, DateTime, int]]\n```",
  "content_length": 3735
}