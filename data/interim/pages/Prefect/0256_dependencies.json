{
  "title": "dependencies",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-api-dependencies",
  "content": "# `prefect.server.api.dependencies`\n\nUtilities for injecting FastAPI dependencies.\n\n## Functions\n\n### `provide_request_api_version` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L23\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nprovide_request_api_version(x_prefect_api_version: str = Header(None)) -> Version | None\n```\n\n### `LimitBody` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L105\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nLimitBody() -> Any\n```\n\nA `fastapi.Depends` factory for pulling a `limit: int` parameter from the\nrequest body while determining the default from the current settings.\n\n### `get_created_by` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L134\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_created_by(prefect_automation_id: Optional[UUID] = Header(None, include_in_schema=False), prefect_automation_name: Optional[str] = Header(None, include_in_schema=False)) -> Optional[schemas.core.CreatedBy]\n```\n\nA dependency that returns the provenance information to use when creating objects\nduring this API call.\n\n### `get_updated_by` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L156\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_updated_by(prefect_automation_id: Optional[UUID] = Header(None, include_in_schema=False), prefect_automation_name: Optional[str] = Header(None, include_in_schema=False)) -> Optional[schemas.core.UpdatedBy]\n```\n\nA dependency that returns the provenance information to use when updating objects\nduring this API call.\n\n### `is_ephemeral_request` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L172\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nis_ephemeral_request(request: Request) -> bool\n```\n\nA dependency that returns whether the request is to an ephemeral server.\n\n### `get_prefect_client_version` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L184\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_prefect_client_version(user_agent: Annotated[Optional[str], Header(include_in_schema=False)] = None) -> Optional[str]\n```\n\nAttempts to parse out the Prefect client version from the User-Agent header.\n\n### `docket` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L201\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndocket(request: Request) -> Docket_\n```\n\n## Classes\n\n### `EnforceMinimumAPIVersion` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/api/dependencies.py#L43\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nFastAPI Dependency used to check compatibility between the version of the api\nand a given request.\n\nLooks for the header 'X-PREFECT-API-VERSION' in the request and compares it\nto the api's version. Rejects requests that are lower than the minimum version.",
  "content_length": 3530
}