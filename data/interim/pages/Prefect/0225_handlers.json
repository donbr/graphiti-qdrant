{
  "title": "handlers",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-logging-handlers",
  "content": "# `prefect.logging.handlers`\n\n## Classes\n\n### `APILogWorker` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L52\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `instance` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L84\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ninstance(cls: Type[Self], *args: Any) -> Self\n```\n\n#### `max_batch_size` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L54\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nmax_batch_size(self) -> int\n```\n\n#### `min_interval` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L62\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nmin_interval(self) -> float | None\n```\n\n### `APILogHandler` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L98\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nA logging handler that sends logs to the Prefect API.\n\nSends log records to the `APILogWorker` which manages sending batches of logs in\nthe background.\n\n**Methods:**\n\n#### `aflush` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L133\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naflush(cls) -> None\n```\n\nTell the `APILogWorker` to send any currently enqueued logs and block until\ncompletion.\n\n#### `emit` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L143\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nemit(self, record: logging.LogRecord) -> None\n```\n\nSend a log to the `APILogWorker`\n\n#### `flush` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L106\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nflush(self) -> None\n```\n\nTell the `APILogWorker` to send any currently enqueued logs and block until\ncompletion.\n\nUse `aflush` from async contexts instead.\n\n#### `handleError` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L161\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nhandleError(self, record: logging.LogRecord) -> None\n```\n\n#### `prepare` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L184\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nprepare(self, record: logging.LogRecord) -> Dict[str, Any]\n```\n\nConvert a `logging.LogRecord` to the API `LogCreate` schema and serialize.\n\nThis infers the linked flow or task run from the log record or the current\nrun context.\n\nIf a flow run id cannot be found, the log will be dropped.\n\nLogs exceeding the maximum size will be dropped.\n\n### `WorkerAPILogHandler` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L273\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `aflush` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L133\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naflush(cls) -> None\n```\n\nTell the `APILogWorker` to send any currently enqueued logs and block until\ncompletion.\n\n#### `emit` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L274\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nemit(self, record: logging.LogRecord) -> None\n```\n\n#### `emit` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L143\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nemit(self, record: logging.LogRecord) -> None\n```\n\nSend a log to the `APILogWorker`\n\n#### `flush` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L106\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nflush(self) -> None\n```\n\nTell the `APILogWorker` to send any currently enqueued logs and block until\ncompletion.\n\nUse `aflush` from async contexts instead.\n\n#### `handleError` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L161\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nhandleError(self, record: logging.LogRecord) -> None\n```\n\n#### `prepare` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L282\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nprepare(self, record: logging.LogRecord) -> Dict[str, Any]\n```\n\nConvert a `logging.LogRecord` to the API `LogCreate` schema and serialize.\n\nThis will add in the worker id to the log.\n\nLogs exceeding the maximum size will be dropped.\n\n#### `prepare` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L184\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nprepare(self, record: logging.LogRecord) -> Dict[str, Any]\n```\n\nConvert a `logging.LogRecord` to the API `LogCreate` schema and serialize.\n\nThis infers the linked flow or task run from the log record or the current\nrun context.\n\nIf a flow run id cannot be found, the log will be dropped.\n\nLogs exceeding the maximum size will be dropped.\n\n### `PrefectConsoleHandler` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L311\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `emit` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/logging/handlers.py#L351\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nemit(self, record: logging.LogRecord) -> None\n```",
  "content_length": 6610
}