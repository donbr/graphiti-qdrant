{
  "title": "asyncio",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-concurrency-v1-asyncio",
  "content": "# `prefect.concurrency.v1.asyncio`\n\n## Functions\n\n### `concurrency` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/concurrency/v1/asyncio.py#L26\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nconcurrency(names: Union[str, list[str]], task_run_id: UUID, timeout_seconds: Optional[float] = None) -> AsyncGenerator[None, None]\n```\n\nA context manager that acquires and releases concurrency slots from the\ngiven concurrency limits.\n\n**Args:**\n\n* `names`: The names of the concurrency limits to acquire slots from.\n* `task_run_id`: The name of the task\\_run\\_id that is incrementing the slots.\n* `timeout_seconds`: The number of seconds to wait for the slots to be acquired before\n  raising a `TimeoutError`. A timeout of `None` will wait indefinitely.\n\n**Raises:**\n\n* `TimeoutError`: If the slots are not acquired within the given timeout.\n\nExample:\nA simple example of using the async `concurrency` context manager:\n\n```python  theme={null}\nfrom prefect.concurrency.v1.asyncio import concurrency\n\nasync def resource_heavy():\n    async with concurrency(\"test\", task_run_id):\n        print(\"Resource heavy task\")\n\nasync def main():\n    await resource_heavy()\n```",
  "content_length": 1245
}