{
  "title": "leasing",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-utilities-leasing",
  "content": "# `prefect.server.utilities.leasing`\n\n## Classes\n\n### `ResourceLease` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L13\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n### `LeaseStorage` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L21\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n**Methods:**\n\n#### `create_lease` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L22\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_lease(self, resource_ids: list[UUID], ttl: timedelta, metadata: T | None = None) -> ResourceLease[T]\n```\n\nCreate a new resource lease.\n\n**Args:**\n\n* `resource_ids`: The IDs of the resources that the lease is associated with.\n* `ttl`: How long the lease should initially be held for.\n* `metadata`: Additional metadata associated with the lease.\n\n**Returns:**\n\n* A ResourceLease object representing the lease.\n\n#### `read_expired_lease_ids` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L74\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_expired_lease_ids(self, limit: int = 100) -> list[UUID]\n```\n\nRead the IDs of expired leases.\n\n**Args:**\n\n* `limit`: The maximum number of expired leases to read.\n\n**Returns:**\n\n* A list of UUIDs representing the expired leases.\n\n#### `read_lease` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L38\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_lease(self, lease_id: UUID) -> ResourceLease[T] | None\n```\n\nRead a resource lease.\n\n**Args:**\n\n* `lease_id`: The ID of the lease to read.\n\n**Returns:**\n\n* A ResourceLease object representing the lease, or None if not found.\n\n#### `renew_lease` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L50\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrenew_lease(self, lease_id: UUID, ttl: timedelta) -> bool | None\n```\n\nRenew a resource lease.\n\n**Args:**\n\n* `lease_id`: The ID of the lease to renew.\n* `ttl`: The new amount of time the lease should be held for.\n\n**Returns:**\n\n* True if the lease was successfully renewed, False if the lease\n* does not exist or has already expired. None may be returned by\n* legacy implementations for backwards compatibility (treated as success).\n\n#### `revoke_lease` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/utilities/leasing.py#L65\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrevoke_lease(self, lease_id: UUID) -> None\n```\n\nRelease a resource lease by removing it from list of active leases.\n\n**Args:**\n\n* `lease_id`: The ID of the lease to release.",
  "content_length": 3153
}