{
  "title": "dispatch",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-utilities-dispatch",
  "content": "# `prefect.utilities.dispatch`\n\nProvides methods for performing dynamic dispatch for actions on base type to one of its\nsubtypes.\n\nExample:\n\n```python  theme={null}\n@register_base_type\nclass Base:\n    @classmethod\n    def __dispatch_key__(cls):\n        return cls.__name__.lower()\n\n\nclass Foo(Base):\n    ...\n\nkey = get_dispatch_key(Foo)  # 'foo'\nlookup_type(Base, key) # Foo\n```\n\n## Functions\n\n### `get_registry_for_type` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/dispatch.py#L33\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_registry_for_type(cls: T) -> Optional[dict[str, T]]\n```\n\nGet the first matching registry for a class or any of its base classes.\n\nIf not found, `None` is returned.\n\n### `get_dispatch_key` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/dispatch.py#L57\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_dispatch_key(cls_or_instance: Any, allow_missing: bool = False) -> Optional[str]\n```\n\nRetrieve the unique dispatch key for a class type or instance.\n\nThis key is defined at the `__dispatch_key__` attribute. If it is a callable, it\nwill be resolved.\n\nIf `allow_missing` is `False`, an exception will be raised if the attribute is not\ndefined or the key is null. If `True`, `None` will be returned in these cases.\n\n### `register_base_type` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/dispatch.py#L114\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nregister_base_type(cls: T) -> T\n```\n\nRegister a base type allowing child types to be registered for dispatch with\n`register_type`.\n\nThe base class may or may not define a `__dispatch_key__` to allow lookups of the\nbase type.\n\n### `register_type` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/dispatch.py#L140\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nregister_type(cls: T) -> T\n```\n\nRegister a type for lookup with dispatch.\n\nThe type or one of its parents must define a unique `__dispatch_key__`.\n\nOne of the classes base types must be registered using `register_base_type`.\n\n### `lookup_type` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/utilities/dispatch.py#L197\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nlookup_type(cls: T, dispatch_key: str) -> T\n```\n\nLook up a dispatch key in the type registry for the given class.",
  "content_length": 2707
}