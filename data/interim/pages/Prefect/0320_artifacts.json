{
  "title": "artifacts",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-models-artifacts",
  "content": "# `prefect.server.models.artifacts`\n\n## Functions\n\n### `create_artifact` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L99\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_artifact(session: AsyncSession, artifact: Artifact) -> orm_models.Artifact\n```\n\n### `read_latest_artifact` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L120\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_latest_artifact(db: PrefectDBInterface, session: AsyncSession, key: str) -> Union[orm_models.ArtifactCollection, None]\n```\n\nReads the latest artifact by key.\nArgs:\nsession: A database session\nkey: The artifact key\nReturns:\nArtifact: The latest artifact\n\n### `read_artifact` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L141\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_artifact(db: PrefectDBInterface, session: AsyncSession, artifact_id: UUID) -> Union[orm_models.Artifact, None]\n```\n\nReads an artifact by id.\n\n### `read_artifacts` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L251\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_artifacts(db: PrefectDBInterface, session: AsyncSession, offset: Optional[int] = None, limit: Optional[int] = None, artifact_filter: Optional[filters.ArtifactFilter] = None, flow_run_filter: Optional[filters.FlowRunFilter] = None, task_run_filter: Optional[filters.TaskRunFilter] = None, deployment_filter: Optional[filters.DeploymentFilter] = None, flow_filter: Optional[filters.FlowFilter] = None, sort: sorting.ArtifactSort = sorting.ArtifactSort.ID_DESC) -> Sequence[orm_models.Artifact]\n```\n\nReads artifacts.\n\n**Args:**\n\n* `session`: A database session\n* `offset`: Query offset\n* `limit`: Query limit\n* `artifact_filter`: Only select artifacts matching this filter\n* `flow_run_filter`: Only select artifacts whose flow runs matching this filter\n* `task_run_filter`: Only select artifacts whose task runs matching this filter\n* `deployment_filter`: Only select artifacts whose flow runs belong to deployments matching this filter\n* `flow_filter`: Only select artifacts whose flow runs belong to flows matching this filter\n* `work_pool_filter`: Only select artifacts whose flow runs belong to work pools matching this filter\n\n### `read_latest_artifacts` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L299\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_latest_artifacts(db: PrefectDBInterface, session: AsyncSession, offset: Optional[int] = None, limit: Optional[int] = None, artifact_filter: Optional[filters.ArtifactCollectionFilter] = None, flow_run_filter: Optional[filters.FlowRunFilter] = None, task_run_filter: Optional[filters.TaskRunFilter] = None, deployment_filter: Optional[filters.DeploymentFilter] = None, flow_filter: Optional[filters.FlowFilter] = None, sort: sorting.ArtifactCollectionSort = sorting.ArtifactCollectionSort.ID_DESC) -> Sequence[orm_models.ArtifactCollection]\n```\n\nReads artifacts.\n\n**Args:**\n\n* `session`: A database session\n* `offset`: Query offset\n* `limit`: Query limit\n* `artifact_filter`: Only select artifacts matching this filter\n* `flow_run_filter`: Only select artifacts whose flow runs matching this filter\n* `task_run_filter`: Only select artifacts whose task runs matching this filter\n* `deployment_filter`: Only select artifacts whose flow runs belong to deployments matching this filter\n* `flow_filter`: Only select artifacts whose flow runs belong to flows matching this filter\n* `work_pool_filter`: Only select artifacts whose flow runs belong to work pools matching this filter\n\n### `count_artifacts` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L346\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncount_artifacts(db: PrefectDBInterface, session: AsyncSession, artifact_filter: Optional[filters.ArtifactFilter] = None, flow_run_filter: Optional[filters.FlowRunFilter] = None, task_run_filter: Optional[filters.TaskRunFilter] = None, deployment_filter: Optional[filters.DeploymentFilter] = None, flow_filter: Optional[filters.FlowFilter] = None) -> int\n```\n\nCounts artifacts.\nArgs:\nsession: A database session\nartifact\\_filter: Only select artifacts matching this filter\nflow\\_run\\_filter: Only select artifacts whose flow runs matching this filter\ntask\\_run\\_filter: Only select artifacts whose task runs matching this filter\n\n### `count_latest_artifacts` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L380\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncount_latest_artifacts(db: PrefectDBInterface, session: AsyncSession, artifact_filter: Optional[filters.ArtifactCollectionFilter] = None, flow_run_filter: Optional[filters.FlowRunFilter] = None, task_run_filter: Optional[filters.TaskRunFilter] = None, deployment_filter: Optional[filters.DeploymentFilter] = None, flow_filter: Optional[filters.FlowFilter] = None) -> int\n```\n\nCounts artifacts.\nArgs:\nsession: A database session\nartifact\\_filter: Only select artifacts matching this filter\nflow\\_run\\_filter: Only select artifacts whose flow runs matching this filter\ntask\\_run\\_filter: Only select artifacts whose task runs matching this filter\n\n### `update_artifact` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L414\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupdate_artifact(db: PrefectDBInterface, session: AsyncSession, artifact_id: UUID, artifact: actions.ArtifactUpdate) -> bool\n```\n\nUpdates an artifact by id.\n\n**Args:**\n\n* `session`: A database session\n* `artifact_id`: The artifact id to update\n* `artifact`: An artifact model\n\n**Returns:**\n\n* True if the update was successful, False otherwise\n\n### `delete_artifact` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/artifacts.py#L453\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete_artifact(db: PrefectDBInterface, session: AsyncSession, artifact_id: UUID) -> bool\n```\n\nDeletes an artifact by id.\n\nThe ArtifactCollection table is used to track the latest version of an artifact\nby key. If we are deleting the latest version of an artifact from the Artifact\ntable, we need to first update the latest version referenced in ArtifactCollection\nso that it points to the next latest version of the artifact.\n\nExample:\nIf we have the following artifacts in Artifact:\n\n* key: \"foo\", id: 1, created: 2020-01-01\n* key: \"foo\", id: 2, created: 2020-01-02\n* key: \"foo\", id: 3, created: 2020-01-03\n\nthe ArtifactCollection table has the following entry:\n\n* key: \"foo\", latest\\_id: 3\n\nIf we delete the artifact with id 3, we need to update the latest version of the\nartifact with key \"foo\" to be the artifact with id 2.\n\n**Args:**\n\n* `session`: A database session\n* `artifact_id`: The artifact id to delete\n\n**Returns:**\n\n* True if the delete was successful, False otherwise",
  "content_length": 7608
}