{
  "title": "flows",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-models-flows",
  "content": "# `prefect.server.models.flows`\n\nFunctions for interacting with flow ORM objects.\nIntended for internal use by the Prefect REST API.\n\n## Functions\n\n### `create_flow` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L21\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_flow(db: PrefectDBInterface, session: AsyncSession, flow: schemas.core.Flow) -> orm_models.Flow\n```\n\nCreates a new flow.\n\nIf a flow with the same name already exists, the existing flow is returned.\n\n**Args:**\n\n* `session`: a database session\n* `flow`: a flow model\n\n**Returns:**\n\n* orm\\_models.Flow: the newly-created or existing flow\n\n### `update_flow` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L58\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupdate_flow(db: PrefectDBInterface, session: AsyncSession, flow_id: UUID, flow: schemas.actions.FlowUpdate) -> bool\n```\n\nUpdates a flow.\n\n**Args:**\n\n* `session`: a database session\n* `flow_id`: the flow id to update\n* `flow`: a flow update model\n\n**Returns:**\n\n* whether or not matching rows were found to update\n\n### `read_flow` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L87\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_flow(db: PrefectDBInterface, session: AsyncSession, flow_id: UUID) -> Optional[orm_models.Flow]\n```\n\nReads a flow by id.\n\n**Args:**\n\n* `session`: A database session\n* `flow_id`: a flow id\n\n**Returns:**\n\n* orm\\_models.Flow: the flow\n\n### `read_flow_by_name` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L104\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_flow_by_name(db: PrefectDBInterface, session: AsyncSession, name: str) -> Optional[orm_models.Flow]\n```\n\nReads a flow by name.\n\n**Args:**\n\n* `session`: A database session\n* `name`: a flow name\n\n**Returns:**\n\n* orm\\_models.Flow: the flow\n\n### `read_flows` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L182\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_flows(db: PrefectDBInterface, session: AsyncSession, flow_filter: Union[schemas.filters.FlowFilter, None] = None, flow_run_filter: Union[schemas.filters.FlowRunFilter, None] = None, task_run_filter: Union[schemas.filters.TaskRunFilter, None] = None, deployment_filter: Union[schemas.filters.DeploymentFilter, None] = None, work_pool_filter: Union[schemas.filters.WorkPoolFilter, None] = None, sort: schemas.sorting.FlowSort = schemas.sorting.FlowSort.NAME_ASC, offset: Union[int, None] = None, limit: Union[int, None] = None) -> Sequence[orm_models.Flow]\n```\n\nRead multiple flows.\n\n**Args:**\n\n* `session`: A database session\n* `flow_filter`: only select flows that match these filters\n* `flow_run_filter`: only select flows whose flow runs match these filters\n* `task_run_filter`: only select flows whose task runs match these filters\n* `deployment_filter`: only select flows whose deployments match these filters\n* `work_pool_filter`: only select flows whose work pools match these filters\n* `offset`: Query offset\n* `limit`: Query limit\n\n**Returns:**\n\n* List\\[orm\\_models.Flow]: flows\n\n### `count_flows` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L234\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncount_flows(db: PrefectDBInterface, session: AsyncSession, flow_filter: Union[schemas.filters.FlowFilter, None] = None, flow_run_filter: Union[schemas.filters.FlowRunFilter, None] = None, task_run_filter: Union[schemas.filters.TaskRunFilter, None] = None, deployment_filter: Union[schemas.filters.DeploymentFilter, None] = None, work_pool_filter: Union[schemas.filters.WorkPoolFilter, None] = None) -> int\n```\n\nCount flows.\n\n**Args:**\n\n* `session`: A database session\n* `flow_filter`: only count flows that match these filters\n* `flow_run_filter`: only count flows whose flow runs match these filters\n* `task_run_filter`: only count flows whose task runs match these filters\n* `deployment_filter`: only count flows whose deployments match these filters\n* `work_pool_filter`: only count flows whose work pools match these filters\n\n**Returns:**\n\n* count of flows\n\n### `delete_flow` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L275\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete_flow(db: PrefectDBInterface, session: AsyncSession, flow_id: UUID) -> bool\n```\n\nDelete a flow by id.\n\n**Args:**\n\n* `session`: A database session\n* `flow_id`: a flow id\n\n**Returns:**\n\n* whether or not the flow was deleted\n\n### `read_flow_labels` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/flows.py#L294\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_flow_labels(db: PrefectDBInterface, session: AsyncSession, flow_id: UUID) -> Union[schemas.core.KeyValueLabels, None]\n```",
  "content_length": 5433
}