{
  "title": "Blocks",
  "source_url": "https://docs-3.prefect.io/v3/concepts/blocks",
  "content": "Prefect blocks allow you to manage configuration schemas, infrastructure, and secrets for use with deployments or flow scripts.\n\nexport const blocks = {\n  cli: \"https://docs.prefect.io/v3/api-ref/cli/block\",\n  api: \"https://app.prefect.cloud/api/docs#tag/Blocks\",\n  tf: \"https://registry.terraform.io/providers/PrefectHQ/prefect/latest/docs/resources/block\"\n};\n\nexport const TF = ({name, href}) => <p>You can manage {name} with the <a href={href}>Terraform provider for Prefect</a>.</p>;\n\nexport const CLI = ({name, href}) => <p>You can manage {name} with the <a href={href}>Prefect CLI</a>.</p>;\n\nPrefect blocks store typed configuration that can be used across workflows and deployments.\nThe most common use case for blocks is storing credentials used to access external systems such as AWS or GCP.\nPrefect supports [a large number of common blocks](#pre-registered-blocks) and provides a Python SDK for creating your own.\n\n<Tip>\n  **Blocks and parameters**\n\n  Blocks are useful for sharing configuration across flow runs and between flows.\n\n  For configuration that will change between flow runs, we recommend using [parameters](/v3/develop/write-flows/#parameters).\n</Tip>\n\n## How blocks work\n\nThere are three layers to a block: its *type*, a *document*, and a Python *class*.\n\n### Block type\n\nA block *type* is essentially a schema registered with the Prefect API. This schema can be inspected and discovered in the UI on the **Blocks** page.\n\nTo see block types available for configuration, use `prefect block type ls`\nfrom the CLI or navigate to the **Blocks** page in the UI and click **+**.\n\n<img src=\"https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=42e22060633cf3dd2dd8a0f37d0317ef\" alt=\"The block catalogue in the UI\" data-og-width=\"2528\" width=\"2528\" data-og-height=\"1544\" height=\"1544\" data-path=\"v3/img/ui/block-library.png\" data-optimize=\"true\" data-opv=\"3\" srcset=\"https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?w=280&fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=0b0b1738210d33e8b24e8150ab28cc81 280w, https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?w=560&fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=4f2dca354e90203c5f043accb7281e0c 560w, https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?w=840&fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=65577240db473e0b36127f4979076b3b 840w, https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?w=1100&fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=01fea4ef2f8bc896b7102b169c86d1c1 1100w, https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?w=1650&fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=dc26d4e7e1667a3eebaa5c4fa16bee57 1650w, https://mintcdn.com/prefect-bd373955/dwD6EJObIjtIzwSC/v3/img/ui/block-library.png?w=2500&fit=max&auto=format&n=dwD6EJObIjtIzwSC&q=85&s=cf456a8a843c67fae1632379bb4be265 2500w\" />\n\nThese types separate blocks from [Prefect variables](/v3/develop/variables/), which are unstructured JSON documents.\nIn addition, block schemas allow for fields of `SecretStr` type which are stored with additional encryption and not displayed by default in the UI.\n\nBlock types are identified by a *slug* that is not configurable.\n\n```python  theme={null}\nfrom prefect.blocks.core import Block\n\n\nclass Cube(Block):\n    edge_length_inches: float\n\n\n# register the block type under the slug 'cube'\nCube.register_type_and_schema()\n```\n\n<Note>\n  Users should rarely need to register types in this way - saving a block document will also automatically register its type.\n</Note>\n\n### Block document\n\nA block *document* is an instantiation of the schema, or block type. A document contains *specific* values for each field defined in the schema.\n\nAll block types allow for the creation of as many documents as you wish. Building on our example above:\n\n```python  theme={null}\nfrom prefect.blocks.core import Block\n\n\nclass Cube(Block):\n    edge_length_inches: float\n\n\n# instantiate the type with specific values\nrubiks_cube = Cube(edge_length_inches=2.25)\n\n# store those values in a block document \n# on the server for future use\nrubiks_cube.save(\"rubiks-cube\")\n\n\n# instantiate and save another block document\ntiny_cube = Cube(edge_length_inches=0.001)\ntiny_cube.save(\"tiny\")\n```\n\nBlock documents can also be created and updated in the UI or API for easy change management.\nThis allows you to work with slowly changing configuration without having to redeploy all workflows that rely on it; for example, you may use this to rotate credentials on a regular basis without touching your deployments.\n\n### Block class\n\nA block *class* is the primary user-facing object; it is a Python class whose attributes are loaded from a block document. Most Prefect blocks encapsulate additional functionality built on top of the block document.\n\nFor example, an `S3Bucket` block contains methods for downloading data from, or upload data to, an S3 bucket; a `SnowflakeConnector` block contains methods for querying Snowflake databases.\n\nReturning to our `Cube` example from above:\n\n```python  theme={null}\nfrom prefect.blocks.core import Block\n\nclass Cube(Block):\n    edge_length_inches: float\n\n    def get_volume(self):\n        return self.edge_length_inches ** 3\n\n    def get_surface_area(self):\n        return 6 * self.edge_length_inches ** 2\n\n\nrubiks_cube = Cube.load(\"rubiks-cube\")\nrubiks_cube.get_volume() # 11.390625\n```\n\n<Warning>\n  The class itself is *not* stored server-side when registering block types and block documents.\n  For this reason, we highly recommend loading block documents by first importing the block class and then calling its `load` method with the relevant document name.\n</Warning>\n\n## Pre-registered blocks\n\n### Built-in blocks\n\nCommonly used block types come built-in with Prefect.\nYou can create and use these block types through the UI without installing any additional packages.\n\n| Block                   | Slug                 | Description                                                                                      |\n| ----------------------- | -------------------- | ------------------------------------------------------------------------------------------------ |\n| Custom Webhook          | `custom-webhook`     | Call custom webhooks.                                                                            |\n| Discord Webhook         | `discord-webhook`    | Call Discord webhooks.                                                                           |\n| Local File System       | `local-file-system`  | Store data as a file on a local file system.                                                     |\n| Mattermost Webhook      | `mattermost-webhook` | Send notifications through a provided Mattermost webhook.                                        |\n| Microsoft Teams Webhook | `ms-teams-webhook`   | Send notifications through a provided Microsoft Teams webhook.                                   |\n| Opsgenie Webhook        | `opsgenie-webhook`   | Send notifications through a provided Opsgenie webhook.                                          |\n| Pager Duty Webhook      | `pager-duty-webhook` | Send notifications through a provided PagerDuty webhook.                                         |\n| Remote File System      | `remote-file-system` | Access files on a remote file system.                                                            |\n| Secret                  | `secret`             | Store a secret value. The value will be obfuscated when this block is logged or shown in the UI. |\n| Sendgrid Email          | `sendgrid-email`     | Send notifications through Sendgrid email.                                                       |\n| Slack Webhook           | `slack-webhook`      | Send notifications through a provided Slack webhook.                                             |\n| SMB                     | `smb`                | Store data as a file on a SMB share.                                                             |\n| Twilio SMS              | `twilio-sms`         | Send notifications through Twilio SMS.                                                           |\n\n<Note>\n  Built-in blocks should be registered the first time you start a Prefect server. If the auto-registration fails, you can manually register the blocks using `prefect blocks register`.\n\n  For example, to register all built-in notification blocks, run `prefect block register -m prefect.blocks.notifications`.\n</Note>\n\n### Blocks in Prefect integration libraries\n\nSome block types that appear in the UI can be created immediately, with the corresponding integration library installed for use.\nFor example, an AWS Secret block can be created, but not used until the [`prefect-aws` library](/integrations/prefect-aws/) is installed.\n\nFind available block types in many of the published [Prefect integrations libraries](/integrations/).\nIf a block type is not available in the UI, you can [register it](#register-blocks) through the CLI.\n\n| Block                                | Slug                                   | Integration                                             |\n| ------------------------------------ | -------------------------------------- | ------------------------------------------------------- |\n| ECS Task                             | `ecs-task`                             | [prefect-aws](/integrations/prefect-aws/)               |\n| MinIO Credentials                    | `minio-credentials`                    | [prefect-aws](/integrations/prefect-aws/)               |\n| S3 Bucket                            | `s3-bucket`                            | [prefect-aws](/integrations/prefect-aws/)               |\n| Azure Blob Storage Credentials       | `azure-blob-storage-credentials`       | [prefect-azure](/integrations/prefect-azure/)           |\n| Azure Container Instance Credentials | `azure-container-instance-credentials` | [prefect-azure](/integrations/prefect-azure/)           |\n| Azure Container Instance Job         | `azure-container-instance-job`         | [prefect-azure](/integrations/prefect-azure/)           |\n| Azure Cosmos DB Credentials          | `azure-cosmos-db-credentials`          | [prefect-azure](/integrations/prefect-azure/)           |\n| AzureML Credentials                  | `azureml-credentials`                  | [prefect-azure](/integrations/prefect-azure/)           |\n| BitBucket Credentials                | `bitbucket-credentials`                | [prefect-bitbucket](/integrations/prefect-bitbucket/)   |\n| BitBucket Repository                 | `bitbucket-repository`                 | [prefect-bitbucket](/integrations/prefect-bitbucket/)   |\n| Databricks Credentials               | `databricks-credentials`               | [prefect-databricks](/integrations/prefect-databricks/) |\n| dbt CLI BigQuery Target Configs      | `dbt-cli-bigquery-target-configs`      | [prefect-dbt](/integrations/prefect-dbt/)               |\n| dbt CLI Profile                      | `dbt-cli-profile`                      | [prefect-dbt](/integrations/prefect-dbt/)               |\n| dbt Cloud Credentials                | `dbt-cloud-credentials`                | [prefect-dbt](/integrations/prefect-dbt/)               |\n| dbt CLI Global Configs               | `dbt-cli-global-configs`               | [prefect-dbt](/integrations/prefect-dbt/)               |\n| dbt CLI Postgres Target Configs      | `dbt-cli-postgres-target-configs`      | [prefect-dbt](/integrations/prefect-dbt/)               |\n| dbt CLI Snowflake Target Configs     | `dbt-cli-snowflake-target-configs`     | [prefect-dbt](/integrations/prefect-dbt/)               |\n| dbt CLI Target Configs               | `dbt-cli-target-configs`               | [prefect-dbt](/integrations/prefect-dbt/)               |\n| Docker Container                     | `docker-container`                     | [prefect-docker](/integrations/prefect-docker/)         |\n| Docker Host                          | `docker-host`                          | [prefect-docker](/integrations/prefect-docker/)         |\n| Docker Registry Credentials          | `docker-registry-credentials`          | [prefect-docker](/integrations/prefect-docker/)         |\n| Email Server Credentials             | `email-server-credentials`             | [prefect-email](/integrations/prefect-email/)           |\n| BigQuery Warehouse                   | `bigquery-warehouse`                   | [prefect-gcp](/integrations/prefect-gcp/)               |\n| GCP Cloud Run Job                    | `cloud-run-job`                        | [prefect-gcp](/integrations/prefect-gcp/)               |\n| GCP Credentials                      | `gcp-credentials`                      | [prefect-gcp](/integrations/prefect-gcp/)               |\n| GcpSecret                            | `gcpsecret`                            | [prefect-gcp](/integrations/prefect-gcp/)               |\n| GCS Bucket                           | `gcs-bucket`                           | [prefect-gcp](/integrations/prefect-gcp/)               |\n| Vertex AI Custom Training Job        | `vertex-ai-custom-training-job`        | [prefect-gcp](/integrations/prefect-gcp/)               |\n| GitHub Credentials                   | `github-credentials`                   | [prefect-github](/integrations/prefect-github/)         |\n| GitHub Repository                    | `github-repository`                    | [prefect-github](/integrations/prefect-github/)         |\n| GitLab Credentials                   | `gitlab-credentials`                   | [prefect-gitlab](/integrations/prefect-gitlab/)         |\n| GitLab Repository                    | `gitlab-repository`                    | [prefect-gitlab](/integrations/prefect-gitlab/)         |\n| Kubernetes Cluster Config            | `kubernetes-cluster-config`            | [prefect-kubernetes](/integrations/prefect-kubernetes/) |\n| Kubernetes Credentials               | `kubernetes-credentials`               | [prefect-kubernetes](/integrations/prefect-kubernetes/) |\n| Kubernetes Job                       | `kubernetes-job`                       | [prefect-kubernetes](/integrations/prefect-kubernetes/) |\n| Shell Operation                      | `shell-operation`                      | [prefect-shell](/integrations/prefect-shell/)           |\n| Slack Credentials                    | `slack-credentials`                    | [prefect-slack](/integrations/prefect-slack/)           |\n| Slack Incoming Webhook               | `slack-incoming-webhook`               | [prefect-slack](/integrations/prefect-slack/)           |\n| Snowflake Connector                  | `snowflake-connector`                  | [prefect-snowflake](/integrations/prefect-snowflake/)   |\n| Snowflake Credentials                | `snowflake-credentials`                | [prefect-snowflake](/integrations/prefect-snowflake/)   |\n| Database Credentials                 | `database-credentials`                 | [prefect-sqlalchemy](/integrations/prefect-sqlalchemy/) |\n| SQLAlchemy Connector                 | `sqlalchemy-connector`                 | [prefect-sqlalchemy](/integrations/prefect-sqlalchemy/) |\n\nAnyone can create a custom block type and, optionally, share it with the community.\n\n## Additional resources\n\n<CLI name=\"blocks\" href={blocks.cli} />\n\n<TF name=\"blocks\" href={blocks.tf} />",
  "content_length": 15444
}