{
  "title": "server",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-cli-server",
  "content": "# `prefect.cli.server`\n\nCommand line interface for working with the Prefect API and server.\n\n## Functions\n\n### `generate_welcome_blurb` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L77\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ngenerate_welcome_blurb(base_url: str, ui_enabled: bool) -> str\n```\n\n### `prestart_check` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L127\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nprestart_check(base_url: str) -> None\n```\n\nCheck if `PREFECT_API_URL` is set in the current profile. If not, prompt the user to set it.\n\n**Args:**\n\n* `base_url`: The base URL the server will be running on\n\n### `start` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L304\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstart(host: str = SettingsOption(PREFECT_SERVER_API_HOST), port: int = SettingsOption(PREFECT_SERVER_API_PORT), keep_alive_timeout: int = SettingsOption(PREFECT_SERVER_API_KEEPALIVE_TIMEOUT), log_level: str = SettingsOption(PREFECT_SERVER_LOGGING_LEVEL), scheduler: bool = SettingsOption(PREFECT_API_SERVICES_SCHEDULER_ENABLED), analytics: bool = SettingsOption(PREFECT_SERVER_ANALYTICS_ENABLED, '--analytics-on/--analytics-off'), late_runs: bool = SettingsOption(PREFECT_API_SERVICES_LATE_RUNS_ENABLED), ui: bool = SettingsOption(PREFECT_UI_ENABLED), no_services: bool = typer.Option(False, '--no-services', help='Only run the webserver API and UI'), background: bool = typer.Option(False, '--background', '-b', help='Run the server in the background'), workers: int = typer.Option(1, '--workers', help='Number of worker processes to run. Only runs the webserver API and UI'))\n```\n\nStart a Prefect server instance\n\n### `stop` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L508\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstop()\n```\n\nStop a Prefect server instance running in the background\n\n### `reset` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L528\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nreset(yes: bool = typer.Option(False, '--yes', '-y'))\n```\n\nDrop and recreate all Prefect database tables\n\n### `upgrade` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L549\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nupgrade(yes: bool = typer.Option(False, '--yes', '-y'), revision: str = typer.Option('head', '-r', help='The revision to pass to `alembic upgrade`. If not provided, runs all migrations.'), dry_run: bool = typer.Option(False, help='Flag to show what migrations would be made without applying them. Will emit sql statements to stdout.'))\n```\n\nUpgrade the Prefect database\n\n### `downgrade` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L588\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndowngrade(yes: bool = typer.Option(False, '--yes', '-y'), revision: str = typer.Option('-1', '-r', help=\"The revision to pass to `alembic downgrade`. If not provided, downgrades to the most recent revision. Use 'base' to run all migrations.\"), dry_run: bool = typer.Option(False, help='Flag to show what migrations would be made without applying them. Will emit sql statements to stdout.'))\n```\n\nDowngrade the Prefect database\n\n### `revision` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L632\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrevision(message: str = typer.Option(None, '--message', '-m', help='A message to describe the migration.'), autogenerate: bool = False)\n```\n\nCreate a new migration for the Prefect database\n\n### `stamp` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L654\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstamp(revision: str)\n```\n\nStamp the revision table with the given revision; don't run any migrations\n\n### `run_manager_process` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L697\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrun_manager_process()\n```\n\nThis is an internal entrypoint used by `prefect server services start --background`.\nUsers do not call this directly.\n\nWe do everything in sync so that the child won't exit until the user kills it.\n\n### `list_services` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L721\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nlist_services()\n```\n\nList all available services and their status.\n\n### `start_services` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L746\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstart_services(background: bool = typer.Option(False, '--background', '-b', help='Run the services in the background'))\n```\n\nStart all enabled Prefect services in one process.\n\n### `stop_services` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/cli/server.py#L807\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstop_services()\n```\n\nStop any background Prefect services that were started.",
  "content_length": 5965
}