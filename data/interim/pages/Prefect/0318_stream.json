{
  "title": "stream",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-logs-stream",
  "content": "# `prefect.server.logs.stream`\n\nLog streaming for live log distribution via websockets.\n\n## Functions\n\n### `subscribed` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L39\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nsubscribed(filter: LogFilter) -> AsyncGenerator['Queue[Log]', None]\n```\n\nSubscribe to a stream of logs matching the given filter.\n\n**Args:**\n\n* `filter`: The log filter to apply\n\n### `logs` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L64\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nlogs(filter: LogFilter) -> AsyncGenerator[AsyncIterable[Log | None], None]\n```\n\nCreate a stream of logs matching the given filter.\n\n**Args:**\n\n* `filter`: The log filter to apply\n\n### `log_matches_filter` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L99\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nlog_matches_filter(log: Log, filter: LogFilter) -> bool\n```\n\nCheck if a log matches the given filter criteria.\n\n**Args:**\n\n* `log`: The log to check\n* `filter`: The filter to apply\n\n**Returns:**\n\n* True if the log matches the filter, False otherwise\n\n### `distributor` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L150\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndistributor() -> AsyncGenerator[messaging.MessageHandler, None]\n```\n\nCreate a message handler that distributes logs to subscribed clients.\n\n### `start_distributor` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L190\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstart_distributor() -> None\n```\n\nStarts the distributor consumer as a global background task\n\n### `stop_distributor` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L202\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstop_distributor() -> None\n```\n\nStops the distributor consumer global background task\n\n### `run_distributor` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L253\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrun_distributor(started: asyncio.Event) -> NoReturn\n```\n\nRuns the distributor consumer forever until it is cancelled\n\n## Classes\n\n### `LogDistributor` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L220\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nService for distributing logs to websocket subscribers\n\n**Methods:**\n\n#### `all_services` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L92\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nall_services(cls) -> Sequence[type[Self]]\n```\n\nGet list of all service classes\n\n#### `enabled` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L234\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nenabled(cls) -> bool\n```\n\n#### `enabled` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L87\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nenabled(cls) -> bool\n```\n\nWhether the service is enabled\n\n#### `enabled_services` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L106\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nenabled_services(cls) -> list[type[Self]]\n```\n\nGet list of enabled service classes\n\n#### `environment_variable_name` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L230\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nenvironment_variable_name(cls) -> str\n```\n\n#### `environment_variable_name` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L83\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nenvironment_variable_name(cls) -> str\n```\n\n#### `run_services` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L127\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrun_services(cls) -> NoReturn\n```\n\nRun enabled services until cancelled.\n\n#### `running` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L112\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nrunning(cls) -> AsyncGenerator[None, None]\n```\n\nA context manager that runs enabled services on entry and stops them on\nexit.\n\n#### `service_settings` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L226\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nservice_settings(cls) -> ServicesBaseSetting\n```\n\n#### `service_settings` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L78\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nservice_settings(cls) -> ServicesBaseSetting\n```\n\nThe Prefect setting that controls whether the service is enabled\n\n#### `start` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L237\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstart(self) -> NoReturn\n```\n\n#### `start` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L137\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstart(self) -> NoReturn\n```\n\nStart running the service, which may run indefinitely\n\n#### `stop` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/logs/stream.py#L249\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstop(self) -> None\n```\n\n#### `stop` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/services/base.py#L142\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nstop(self) -> None\n```\n\nStop the service",
  "content_length": 7153
}