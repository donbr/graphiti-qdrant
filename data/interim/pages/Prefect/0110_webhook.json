{
  "title": "webhook",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-blocks-webhook",
  "content": "# `prefect.blocks.webhook`\n\n## Classes\n\n### `Webhook` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/webhook.py#L19\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nBlock that enables calling webhooks.\n\n**Methods:**\n\n#### `aload` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1024\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\naload(cls, name: str, validate: bool = True, client: Optional['PrefectClient'] = None) -> 'Self'\n```\n\nRetrieves data from the block document with the given name for the block type\nthat corresponds with the current class and returns an instantiated version of\nthe current class with the data stored in the block document.\n\nIf a block document for a given block type is saved with a different schema\nthan the current class calling `aload`, a warning will be raised.\n\nIf the current class schema is a subset of the block document schema, the block\ncan be loaded as normal using the default `validate = True`.\n\nIf the current class schema is a superset of the block document schema, `aload`\nmust be called with `validate` set to False to prevent a validation error. In\nthis case, the block attributes will default to `None` and must be set manually\nand saved to a new block document before the block can be used as expected.\n\n**Args:**\n\n* `name`: The name or slug of the block document. A block document slug is a\n  string with the format `<block_type_slug>/<block_document_name>`\n* `validate`: If False, the block document will be loaded without Pydantic\n  validating the block schema. This is useful if the block schema has\n  changed client-side since the block document referred to by `name` was saved.\n* `client`: The client to use to load the block document. If not provided, the\n  default client will be injected.\n\n**Raises:**\n\n* `ValueError`: If the requested block document is not found.\n\n**Returns:**\n\n* An instance of the current class hydrated with the data stored in the\n* block document with the specified name.\n\n**Examples:**\n\nLoad from a Block subclass with a block document name:\n\n```python  theme={null}\nclass Custom(Block):\n    message: str\n\nCustom(message=\"Hello!\").save(\"my-custom-message\")\n\nloaded_block = await Custom.aload(\"my-custom-message\")\n```\n\nLoad from Block with a block document slug:\n\n```python  theme={null}\nclass Custom(Block):\n    message: str\n\nCustom(message=\"Hello!\").save(\"my-custom-message\")\n\nloaded_block = await Block.aload(\"custom/my-custom-message\")\n```\n\nMigrate a block document to a new schema:\n\n```python  theme={null}\n# original class\nclass Custom(Block):\n    message: str\n\nCustom(message=\"Hello!\").save(\"my-custom-message\")\n\n# Updated class with new required field\nclass Custom(Block):\n    message: str\n    number_of_ducks: int\n\nloaded_block = await Custom.aload(\"my-custom-message\", validate=False)\n\n# Prints UserWarning about schema mismatch\n\nloaded_block.number_of_ducks = 42\n\nloaded_block.save(\"my-custom-message\", overwrite=True)\n```\n\n#### `annotation_refers_to_block_class` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1339\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nannotation_refers_to_block_class(annotation: Any) -> bool\n```\n\n#### `block_initialization` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/webhook.py#L55\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nblock_initialization(self) -> None\n```\n\n#### `block_initialization` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L380\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nblock_initialization(self) -> None\n```\n\n#### `call` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/webhook.py#L61\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncall(self, payload: dict[str, Any] | str | None = None) -> Response\n```\n\nCall the webhook.\n\n**Args:**\n\n* `payload`: an optional payload to send when calling the webhook.\n\n#### `delete` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1569\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete(cls, name: str, client: Optional['PrefectClient'] = None)\n```\n\n#### `get_block_capabilities` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L469\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_capabilities(cls) -> FrozenSet[str]\n```\n\nReturns the block capabilities for this Block. Recursively collects all block\ncapabilities of all parent classes into a single frozenset.\n\n#### `get_block_class_from_key` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L894\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_class_from_key(cls: type[Self], key: str) -> type[Self]\n```\n\nRetrieve the block class implementation given a key.\n\n#### `get_block_class_from_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L887\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_class_from_schema(cls: type[Self], schema: BlockSchema) -> type[Self]\n```\n\nRetrieve the block class implementation given a schema.\n\n#### `get_block_placeholder` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1580\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_placeholder(self) -> str\n```\n\nReturns the block placeholder for the current block which can be used for\ntemplating.\n\n**Returns:**\n\n* The block placeholder for the current block in the format\n  `prefect.blocks.{block_type_name}.{block_document_name}`\n\n**Raises:**\n\n* `BlockNotSavedError`: Raised if the block has not been saved.\n\nIf a block has not been saved, the return value will be `None`.\n\n#### `get_block_schema_version` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L499\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_schema_version(cls) -> str\n```\n\n#### `get_block_type_name` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L461\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_type_name(cls) -> str\n```\n\n#### `get_block_type_slug` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L465\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_block_type_slug(cls) -> str\n```\n\n#### `get_code_example` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L742\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_code_example(cls) -> Optional[str]\n```\n\nReturns the code example for the given block. Attempts to parse\ncode example from the class docstring if an override is not provided.\n\n#### `get_description` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L719\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nget_description(cls) -> Optional[str]\n```\n\nReturns the description for the current block. Attempts to parse\ndescription from class docstring if an override is not defined.\n\n#### `is_block_class` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1335\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nis_block_class(block: Any) -> TypeGuard[type['Block']]\n```\n\n#### `load` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1113\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nload(cls, name: str, validate: bool = True, client: Optional['PrefectClient'] = None) -> 'Self'\n```\n\nRetrieves data from the block document with the given name for the block type\nthat corresponds with the current class and returns an instantiated version of\nthe current class with the data stored in the block document.\n\nIf a block document for a given block type is saved with a different schema\nthan the current class calling `load`, a warning will be raised.\n\nIf the current class schema is a subset of the block document schema, the block\ncan be loaded as normal using the default `validate = True`.\n\nIf the current class schema is a superset of the block document schema, `load`\nmust be called with `validate` set to False to prevent a validation error. In\nthis case, the block attributes will default to `None` and must be set manually\nand saved to a new block document before the block can be used as expected.\n\n**Args:**\n\n* `name`: The name or slug of the block document. A block document slug is a\n  string with the format `<block_type_slug>/<block_document_name>`\n* `validate`: If False, the block document will be loaded without Pydantic\n  validating the block schema. This is useful if the block schema has\n  changed client-side since the block document referred to by `name` was saved.\n* `client`: The client to use to load the block document. If not provided, the\n  default client will be injected.\n\n**Raises:**\n\n* `ValueError`: If the requested block document is not found.\n\n**Returns:**\n\n* An instance of the current class hydrated with the data stored in the\n* block document with the specified name.\n\n**Examples:**\n\nLoad from a Block subclass with a block document name:\n\n```python  theme={null}\nclass Custom(Block):\n    message: str\n\nCustom(message=\"Hello!\").save(\"my-custom-message\")\n\nloaded_block = Custom.load(\"my-custom-message\")\n```\n\nLoad from Block with a block document slug:\n\n```python  theme={null}\nclass Custom(Block):\n    message: str\n\nCustom(message=\"Hello!\").save(\"my-custom-message\")\n\nloaded_block = Block.load(\"custom/my-custom-message\")\n```\n\nMigrate a block document to a new schema:\n\n```python  theme={null}\n# original class\nclass Custom(Block):\n    message: str\n\nCustom(message=\"Hello!\").save(\"my-custom-message\")\n\n# Updated class with new required field\nclass Custom(Block):\n    message: str\n    number_of_ducks: int\n\nloaded_block = Custom.load(\"my-custom-message\", validate=False)\n\n# Prints UserWarning about schema mismatch\n\nloaded_block.number_of_ducks = 42\n\nloaded_block.save(\"my-custom-message\", overwrite=True)\n```\n\n#### `load_from_ref` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1212\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nload_from_ref(cls, ref: Union[str, UUID, dict[str, Any]], validate: bool = True, client: 'PrefectClient | None' = None) -> Self\n```\n\nRetrieves data from the block document by given reference for the block type\nthat corresponds with the current class and returns an instantiated version of\nthe current class with the data stored in the block document.\n\nProvided reference can be a block document ID, or a reference data in dictionary format.\nSupported dictionary reference formats are:\n\n* `{\"block_document_id\": <block_document_id>}`\n* `{\"block_document_slug\": <block_document_slug>}`\n\nIf a block document for a given block type is saved with a different schema\nthan the current class calling `load`, a warning will be raised.\n\nIf the current class schema is a subset of the block document schema, the block\ncan be loaded as normal using the default `validate = True`.\n\nIf the current class schema is a superset of the block document schema, `load`\nmust be called with `validate` set to False to prevent a validation error. In\nthis case, the block attributes will default to `None` and must be set manually\nand saved to a new block document before the block can be used as expected.\n\n**Args:**\n\n* `ref`: The reference to the block document. This can be a block document ID,\n  or one of supported dictionary reference formats.\n* `validate`: If False, the block document will be loaded without Pydantic\n  validating the block schema. This is useful if the block schema has\n  changed client-side since the block document referred to by `name` was saved.\n* `client`: The client to use to load the block document. If not provided, the\n  default client will be injected.\n\n**Raises:**\n\n* `ValueError`: If invalid reference format is provided.\n* `ValueError`: If the requested block document is not found.\n\n**Returns:**\n\n* An instance of the current class hydrated with the data stored in the\n* block document with the specified name.\n\n#### `model_dump` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1648\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nmodel_dump(self) -> dict[str, Any]\n```\n\n#### `model_json_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1603\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nmodel_json_schema(cls, by_alias: bool = True, ref_template: str = '#/definitions/{model}', schema_generator: type[GenerateJsonSchema] = GenerateJsonSchema, mode: Literal['validation', 'serialization'] = 'validation') -> dict[str, Any]\n```\n\nTODO: stop overriding this method - use GenerateSchema in ConfigDict instead?\n\n#### `model_validate` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1623\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nmodel_validate(cls: type[Self], obj: dict[str, Any] | Any) -> Self\n```\n\n#### `register_type_and_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1353\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nregister_type_and_schema(cls, client: Optional['PrefectClient'] = None)\n```\n\nMakes block available for configuration with current Prefect API.\nRecursively registers all nested blocks. Registration is idempotent.\n\n**Args:**\n\n* `client`: Optional client to use for registering type and schema with the\n  Prefect API. A new client will be created and used if one is not\n  provided.\n\n#### `save` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L1546\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nsave(self, name: Optional[str] = None, overwrite: bool = False, client: Optional['PrefectClient'] = None)\n```\n\nSaves the values of a block as a block document.\n\n**Args:**\n\n* `name`: User specified name to give saved block document which can later be used to load the\n  block document.\n* `overwrite`: Boolean value specifying if values should be overwritten if a block document with\n  the specified name already exists.\n\n#### `ser_model` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L423\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nser_model(self, handler: SerializerFunctionWrapHandler, info: SerializationInfo) -> Any\n```\n\n#### `validate_block_type_slug` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/blocks/core.py#L364\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nvalidate_block_type_slug(cls, values: Any) -> Any\n```\n\nValidates that the `block_type_slug` in the input values matches the expected\nblock type slug for the class. This helps pydantic to correctly discriminate\nbetween different Block subclasses when validating Union types of Blocks.",
  "content_length": 16436
}