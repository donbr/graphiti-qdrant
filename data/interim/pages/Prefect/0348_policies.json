{
  "title": "policies",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-orchestration-policies",
  "content": "# `prefect.server.orchestration.policies`\n\nPolicies are collections of orchestration rules and transforms.\n\nPrefect implements (most) orchestration with logic that governs a Prefect flow or task\nchanging state. Policies organize of orchestration logic both to provide an ordering\nmechanism as well as provide observability into the orchestration process.\n\nWhile Prefect's orchestration rules can gracefully run independently of one another, ordering can still have an impact on\nthe observed behavior of the system. For example, it makes no sense to secure a\nconcurrency slot for a run if a cached state exists. Furthermore, policies, provide a\nmechanism to configure and observe exactly what logic will fire against a transition.\n\n## Classes\n\n### `BaseOrchestrationPolicy` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/orchestration/policies.py#L30\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nAn abstract base class used to organize orchestration rules in priority order.\n\nDifferent collections of orchestration rules might be used to govern various kinds\nof transitions. For example, flow-run states and task-run states might require\ndifferent orchestration logic.\n\n**Methods:**\n\n#### `compile_transition_rules` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/orchestration/policies.py#L51\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncompile_transition_rules(cls, from_state: states.StateType | None = None, to_state: states.StateType | None = None) -> list[type[BaseUniversalTransform[T, RP] | BaseOrchestrationRule[T, RP]]]\n```\n\nReturns rules in policy that are valid for the specified state transition.\n\n#### `priority` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/orchestration/policies.py#L41\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\npriority() -> list[type[BaseUniversalTransform[T, RP] | BaseOrchestrationRule[T, RP]]]\n```\n\nA list of orchestration rules in priority order.\n\n### `TaskRunOrchestrationPolicy` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/orchestration/policies.py#L69\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n### `FlowRunOrchestrationPolicy` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/orchestration/policies.py#L75\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n### `GenericOrchestrationPolicy` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/orchestration/policies.py#L81\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>",
  "content_length": 2845
}