{
  "title": "block_schemas",
  "source_url": "https://docs-3.prefect.io/v3/api-ref/python/prefect-server-models-block_schemas",
  "content": "# `prefect.server.models.block_schemas`\n\nFunctions for interacting with block schema ORM objects.\nIntended for internal use by the Prefect REST API.\n\n## Functions\n\n### `create_block_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L33\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_block_schema(db: PrefectDBInterface, session: AsyncSession, block_schema: Union[schemas.actions.BlockSchemaCreate, schemas.core.BlockSchema, 'ClientBlockSchemaCreate', 'ClientBlockSchema'], override: bool = False, definitions: Optional[dict[str, Any]] = None) -> Union[BlockSchema, orm_models.BlockSchema]\n```\n\nCreate a new block schema.\n\n**Args:**\n\n* `session`: A database session\n* `block_schema`: a block schema object\n* `definitions`: Definitions of fields from block schema fields\n  attribute. Used when recursively creating nested block schemas\n\n**Returns:**\n\n* an ORM block schema model\n\n### `delete_block_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L286\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ndelete_block_schema(db: PrefectDBInterface, session: AsyncSession, block_schema_id: UUID) -> bool\n```\n\nDelete a block schema by id.\n\n**Args:**\n\n* `session`: A database session\n* `block_schema_id`: a block schema id\n\n**Returns:**\n\n* whether or not the block schema was deleted\n\n### `read_block_schema` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L307\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_block_schema(db: PrefectDBInterface, session: AsyncSession, block_schema_id: UUID) -> Union[BlockSchema, None]\n```\n\nReads a block schema by id. Will reconstruct the block schema's fields attribute\nto include block schema references.\n\n**Args:**\n\n* `session`: A database session\n* `block_schema_id`: a block\\_schema id\n\n**Returns:**\n\n* orm\\_models..BlockSchema: the block\\_schema\n\n### `read_block_schemas` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L592\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_block_schemas(db: PrefectDBInterface, session: AsyncSession, block_schema_filter: Optional[schemas.filters.BlockSchemaFilter] = None, limit: Optional[int] = None, offset: Optional[int] = None) -> List[BlockSchema]\n```\n\nReads block schemas, optionally filtered by type or name.\n\n**Args:**\n\n* `session`: A database session\n* `block_schema_filter`: a block schema filter object\n* `limit`: query limit\n* `offset`: query offset\n\n**Returns:**\n\n* List\\[orm\\_models.BlockSchema]: the block\\_schemas\n\n### `read_block_schema_by_checksum` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L705\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_block_schema_by_checksum(db: PrefectDBInterface, session: AsyncSession, checksum: str, version: Optional[str] = None) -> Optional[BlockSchema]\n```\n\nReads a block\\_schema by checksum. Will reconstruct the block schema's fields\nattribute to include block schema references.\n\n**Args:**\n\n* `session`: A database session\n* `checksum`: a block\\_schema checksum\n* `version`: A block\\_schema version\n\n**Returns:**\n\n* orm\\_models.BlockSchema: the block\\_schema\n\n### `read_available_block_capabilities` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L786\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\nread_available_block_capabilities(db: PrefectDBInterface, session: AsyncSession) -> List[str]\n```\n\nRetrieves a list of all available block capabilities.\n\n**Args:**\n\n* `session`: A database session.\n\n**Returns:**\n\n* List\\[str]: List of all available block capabilities.\n\n### `create_block_schema_reference` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L811\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\n```python  theme={null}\ncreate_block_schema_reference(db: PrefectDBInterface, session: AsyncSession, block_schema_reference: schemas.core.BlockSchemaReference) -> Union[orm_models.BlockSchemaReference, None]\n```\n\nRetrieves a list of all available block capabilities.\n\n**Args:**\n\n* `session`: A database session.\n* `block_schema_reference`: A block schema reference object.\n\n**Returns:**\n\n* orm\\_models.BlockSchemaReference: The created BlockSchemaReference\n\n## Classes\n\n### `MissingBlockTypeException` <sup><a href=\"https://github.com/PrefectHQ/prefect/blob/main/src/prefect/server/models/block_schemas.py#L28\" target=\"_blank\"><Icon icon=\"github\" style=\"width: 14px; height: 14px;\" /></a></sup>\n\nRaised when the block type corresponding to a block schema cannot be found",
  "content_length": 5143
}