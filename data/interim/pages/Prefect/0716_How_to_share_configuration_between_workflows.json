{
  "title": "How to share configuration between workflows",
  "source_url": "https://docs-3.prefect.io/v3/how-to-guides/configuration/variables",
  "content": "### Create a variable\n\nTo create a variable stored in the Prefect backend, use `Variable.set()`.\n\n```python  theme={null}\nfrom prefect.variables import Variable\n\nVariable.set(\"answer\", 42)\n```\n\n### Read a variable\n\nTo read a variable, use `Variable.get()`.\n\n```python  theme={null}\nfrom prefect.variables import Variable\n\nVariable.get(\"answer\")\n```\n\nTo read a variable with a fallback value, use `Variable.get(default=...)`.\n\n```python  theme={null}\nfrom prefect.variables import Variable\n\nVariable.get(\"answer\", default=42)\n```\n\n### Update a variable\n\nTo update a variable, use `Variable.set(value, overwrite=True)`.\n\n```python  theme={null}\nfrom prefect.variables import Variable\n\nVariable.set(\"answer\", 42, overwrite=True)\n```\n\n### Delete a variable\n\nTo delete a variable, use `Variable.unset()`.\n\n```python  theme={null}\nfrom prefect.variables import Variable\n\nVariable.unset(\"answer\")\n```\n\n<Warning>\n  **Contextual Behavior**\n\n  In a sync context (such as an `if __name__ == \"__main__\"` block or simple `def` scope), these methods are used synchronously.\n  In an async context (such as an `async def` scope), they are used asynchronously.\n</Warning>\n\n<CodeGroup>\n  ```python Synchronous theme={null}\n\n  from prefect import flow\n  from prefect.variables import Variable\n\n  @flow(log_prints=True)\n  def space_mission_sync(mission_name: str):\n      crew = Variable.get(\"crew_members\", default=[\"Backup1\", \"Backup2\"])\n      print(f\"Launching {mission_name} with crew: {', '.join(crew)}\")\n\n  if __name__ == \"__main__\":\n      Variable.set(\"crew_members\", [\"Zaphod\", \"Arthur\", \"Trillian\"])\n      space_mission_sync(\"Mars Expedition\")\n  ```\n\n  ```python Asynchronous theme={null}\n  import asyncio\n  from prefect import flow\n  from prefect.variables import Variable\n\n  @flow(log_prints=True)\n  async def space_mission_async(mission_name: str):\n      crew = await Variable.get(\"crew_members\", default=[\"Backup1\", \"Backup2\"])\n      print(f\"Launching {mission_name} with crew: {', '.join(crew)}\")\n\n  if __name__ == \"__main__\":\n      Variable.set(\"crew_members\", [\"Zaphod\", \"Arthur\", \"Trillian\"])\n      asyncio.run(space_mission_async(\"Mars Expedition\"))\n  ```\n</CodeGroup>\n\n### Use variables in `prefect.yaml` deployment steps\n\nIn `prefect.yaml` files, variables are expressed as strings wrapped in quotes and double curly brackets:\n\n```\n\"{{ prefect.variables.my_variable }}\"\n```\n\nUse variables to templatize deployment steps by\nreferencing them in the `prefect.yaml` file that creates the deployments.\n\nFor example, you can pass in a variable to specify a branch for a git repo in a deployment `pull` step:\n\n```\npull:\n- prefect.deployments.steps.git_clone:\n    repository: https://github.com/PrefectHQ/hello-projects.git\n    branch: \"{{ prefect.variables.deployment_branch }}\"\n```\n\nThe `deployment_branch` variable is evaluated at runtime for the deployed flow, allowing changes to variables used in a pull action without updating a deployment directly.",
  "content_length": 2947
}