{
  "title": "Todo Lists",
  "source_url": "https://docs.claude.com/en/docs/agent-sdk/todo-tracking",
  "content": "Track and display todos using the Claude Agent SDK for organized task management\n\nTodo tracking provides a structured way to manage tasks and display progress to users. The Claude Agent SDK includes built-in todo functionality that helps organize complex workflows and keep users informed about task progression.\n\n### Todo Lifecycle\n\nTodos follow a predictable lifecycle:\n\n1. **Created** as `pending` when tasks are identified\n2. **Activated** to `in_progress` when work begins\n3. **Completed** when the task finishes successfully\n4. **Removed** when all tasks in a group are completed\n\n### When Todos Are Used\n\nThe SDK automatically creates todos for:\n\n* **Complex multi-step tasks** requiring 3 or more distinct actions\n* **User-provided task lists** when multiple items are mentioned\n* **Non-trivial operations** that benefit from progress tracking\n* **Explicit requests** when users ask for todo organization\n\n## Examples\n\n### Monitoring Todo Changes\n\n<CodeGroup>\n  ```typescript TypeScript theme={null}\n  import { query } from \"@anthropic-ai/claude-agent-sdk\";\n\n  for await (const message of query({\n    prompt: \"Optimize my React app performance and track progress with todos\",\n    options: { maxTurns: 15 }\n  })) {\n    // Todo updates are reflected in the message stream\n    if (message.type === \"assistant\") {\n      for (const block of message.message.content) {\n        if (block.type === \"tool_use\" && block.name === \"TodoWrite\") {\n          const todos = block.input.todos;\n\n          console.log(\"Todo Status Update:\");\n          todos.forEach((todo, index) => {\n            const status = todo.status === \"completed\" ? \"‚úÖ\" :\n                          todo.status === \"in_progress\" ? \"üîß\" : \"‚ùå\";\n            console.log(`${index + 1}. ${status} ${todo.content}`);\n          });\n        }\n      }\n    }\n  }\n  ```\n\n  ```python Python theme={null}\n  from claude_agent_sdk import query, AssistantMessage, ToolUseBlock\n\n  async for message in query(\n      prompt=\"Optimize my React app performance and track progress with todos\",\n      options={\"max_turns\": 15}\n  ):\n      # Todo updates are reflected in the message stream\n      if isinstance(message, AssistantMessage):\n          for block in message.content:\n              if isinstance(block, ToolUseBlock) and block.name == \"TodoWrite\":\n                  todos = block.input[\"todos\"]\n\n                  print(\"Todo Status Update:\")\n                  for i, todo in enumerate(todos):\n                      status = \"‚úÖ\" if todo[\"status\"] == \"completed\" else \\\n                              \"üîß\" if todo[\"status\"] == \"in_progress\" else \"‚ùå\"\n                      print(f\"{i + 1}. {status} {todo['content']}\")\n  ```\n</CodeGroup>\n\n### Real-time Progress Display\n\n<CodeGroup>\n  ```typescript TypeScript theme={null}\n  import { query } from \"@anthropic-ai/claude-agent-sdk\";\n\n  class TodoTracker {\n    private todos: any[] = [];\n    \n    displayProgress() {\n      if (this.todos.length === 0) return;\n      \n      const completed = this.todos.filter(t => t.status === \"completed\").length;\n      const inProgress = this.todos.filter(t => t.status === \"in_progress\").length;\n      const total = this.todos.length;\n      \n      console.log(`\\nProgress: ${completed}/${total} completed`);\n      console.log(`Currently working on: ${inProgress} task(s)\\n`);\n      \n      this.todos.forEach((todo, index) => {\n        const icon = todo.status === \"completed\" ? \"‚úÖ\" : \n                    todo.status === \"in_progress\" ? \"üîß\" : \"‚ùå\";\n        const text = todo.status === \"in_progress\" ? todo.activeForm : todo.content;\n        console.log(`${index + 1}. ${icon} ${text}`);\n      });\n    }\n    \n    async trackQuery(prompt: string) {\n      for await (const message of query({\n        prompt,\n        options: { maxTurns: 20 }\n      })) {\n        if (message.type === \"assistant\") {\n          for (const block of message.message.content) {\n            if (block.type === \"tool_use\" && block.name === \"TodoWrite\") {\n              this.todos = block.input.todos;\n              this.displayProgress();\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Usage\n  const tracker = new TodoTracker();\n  await tracker.trackQuery(\"Build a complete authentication system with todos\");\n  ```\n\n  ```python Python theme={null}\n  from claude_agent_sdk import query, AssistantMessage, ToolUseBlock\n  from typing import List, Dict\n\n  class TodoTracker:\n      def __init__(self):\n          self.todos: List[Dict] = []\n      \n      def display_progress(self):\n          if not self.todos:\n              return\n          \n          completed = len([t for t in self.todos if t[\"status\"] == \"completed\"])\n          in_progress = len([t for t in self.todos if t[\"status\"] == \"in_progress\"])\n          total = len(self.todos)\n          \n          print(f\"\\nProgress: {completed}/{total} completed\")\n          print(f\"Currently working on: {in_progress} task(s)\\n\")\n          \n          for i, todo in enumerate(self.todos):\n              icon = \"‚úÖ\" if todo[\"status\"] == \"completed\" else \\\n                    \"üîß\" if todo[\"status\"] == \"in_progress\" else \"‚ùå\"\n              text = todo[\"activeForm\"] if todo[\"status\"] == \"in_progress\" else todo[\"content\"]\n              print(f\"{i + 1}. {icon} {text}\")\n      \n      async def track_query(self, prompt: str):\n          async for message in query(\n              prompt=prompt,\n              options={\"max_turns\": 20}\n          ):\n              if isinstance(message, AssistantMessage):\n                  for block in message.content:\n                      if isinstance(block, ToolUseBlock) and block.name == \"TodoWrite\":\n                          self.todos = block.input[\"todos\"]\n                          self.display_progress()\n\n  # Usage\n  tracker = TodoTracker()\n  await tracker.track_query(\"Build a complete authentication system with todos\")\n  ```\n</CodeGroup>\n\n## Related Documentation\n\n* [TypeScript SDK Reference](/en/docs/agent-sdk/typescript)\n* [Python SDK Reference](/en/docs/agent-sdk/python)\n* [Streaming vs Single Mode](/en/docs/agent-sdk/streaming-vs-single-mode)\n* [Custom Tools](/en/docs/agent-sdk/custom-tools)",
  "content_length": 6102
}