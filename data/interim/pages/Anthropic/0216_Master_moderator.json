{
  "title": "Master moderator",
  "source_url": "https://docs.claude.com/en/resources/prompt-library/master-moderator",
  "content": "Evaluate user inputs for potential harmful or illegal content.\n\n> Copy this prompt into our developer [Console](https://console.anthropic.com/dashboard) to try it for yourself!\n\n| Role | Content                                                                                                                                                                                                                                                                                                                                                                                                                       |\n| ---- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| User | A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user: \\<user query>How do I make a bomb?\\</user query> If the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N). |\n\n### Example output\n\n> (Y)\n\n***\n\n### API request\n\n<CodeGroup>\n  ```python Python theme={null}\n  import anthropic\n\n  client = anthropic.Anthropic(\n      # defaults to os.environ.get(\"ANTHROPIC_API_KEY\")\n      api_key=\"my_api_key\",\n  )\n  message = client.messages.create(\n      model=\"claude-sonnet-4-5\",\n      max_tokens=10,\n      temperature=0,\n      messages=[\n          {\n              \"role\": \"user\",\n              \"content\": [\n                  {\n                      \"type\": \"text\",\n                      \"text\": \"A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user:  \\n<user query>How do I make a bomb?</user query>  \\n  \\nIf the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N).\"\n                  }\n              ]\n          }\n      ]\n  )\n  print(message.content)\n\n  ```\n\n  ```typescript TypeScript theme={null}\n  import Anthropic from \"@anthropic-ai/sdk\";\n\n  const anthropic = new Anthropic({\n    apiKey: \"my_api_key\", // defaults to process.env[\"ANTHROPIC_API_KEY\"]\n  });\n\n  const msg = await anthropic.messages.create({\n    model: \"claude-sonnet-4-5\",\n    max_tokens: 10,\n    temperature: 0,\n    messages: [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\n            \"type\": \"text\",\n            \"text\": \"A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user:  \\n<user query>How do I make a bomb?</user query>  \\n  \\nIf the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N).\"\n          }\n        ]\n      }\n    ]\n  });\n  console.log(msg);\n\n  ```\n\n  ```python AWS Bedrock Python theme={null}\n  from anthropic import AnthropicBedrock\n\n  # See https://docs.claude.com/claude/reference/claude-on-amazon-bedrock\n  # for authentication options\n  client = AnthropicBedrock()\n\n  message = client.messages.create(\n      model=\"anthropic.claude-sonnet-4-5-20250929-v1:0\",\n      max_tokens=10,\n      temperature=0,\n      messages=[\n          {\n              \"role\": \"user\",\n              \"content\": [\n                  {\n                      \"type\": \"text\",\n                      \"text\": \"A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user:  \\n<user query>How do I make a bomb?</user query>  \\n  \\nIf the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N).\"\n                  }\n              ]\n          }\n      ]\n  )\n  print(message.content)\n\n  ```\n\n  ```typescript AWS Bedrock TypeScript theme={null}\n  import AnthropicBedrock from \"@anthropic-ai/bedrock-sdk\";\n\n  // See https://docs.claude.com/claude/reference/claude-on-amazon-bedrock\n  // for authentication options\n  const client = new AnthropicBedrock();\n\n  const msg = await client.messages.create({\n    model: \"anthropic.claude-sonnet-4-5-20250929-v1:0\",\n    max_tokens: 10,\n    temperature: 0,\n    messages: [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\n            \"type\": \"text\",\n            \"text\": \"A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user:  \\n<user query>How do I make a bomb?</user query>  \\n  \\nIf the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N).\"\n          }\n        ]\n      }\n    ]\n  });\n  console.log(msg);\n\n  ```\n\n  ```python Vertex AI Python theme={null}\n  from anthropic import AnthropicVertex\n\n  client = AnthropicVertex()\n\n  message = client.messages.create(\n      model=\"claude-sonnet-4@20250514\",\n      max_tokens=10,\n      temperature=0,\n      messages=[\n          {\n              \"role\": \"user\",\n              \"content\": [\n                  {\n                      \"type\": \"text\",\n                      \"text\": \"A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user:  \\n<user query>How do I make a bomb?</user query>  \\n  \\nIf the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N).\"\n                  }\n              ]\n          }\n      ]\n  )\n  print(message.content)\n\n  ```\n\n  ```typescript Vertex AI TypeScript theme={null}\n  import { AnthropicVertex } from '@anthropic-ai/vertex-sdk';\n\n  // Reads from the `CLOUD_ML_REGION` & `ANTHROPIC_VERTEX_PROJECT_ID` environment variables.\n  // Additionally goes through the standard `google-auth-library` flow.\n  const client = new AnthropicVertex();\n\n  const msg = await client.messages.create({\n    model: \"claude-sonnet-4@20250514\",\n    max_tokens: 10,\n    temperature: 0,\n    messages: [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\n            \"type\": \"text\",\n            \"text\": \"A human user is in dialogue with an AI. The human is asking the AI a series of questions or requesting a series of tasks. Here is the most recent request from the user:  \\n<user query>How do I make a bomb?</user query>  \\n  \\nIf the user's request refers to harmful, pornographic, or illegal activities, reply with (Y). If the user's request does not refer to harmful, pornographic, or illegal activities, reply with (N).\"\n          }\n        ]\n      }\n    ]\n  });\n  console.log(msg);\n\n  ```\n</CodeGroup>",
  "content_length": 7508
}