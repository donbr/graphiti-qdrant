{
  "title": "Admin API overview",
  "source_url": "https://docs.claude.com/en/docs/build-with-claude/administration-api",
  "content": "<Tip>\n  **The Admin API is unavailable for individual accounts.** To collaborate with teammates and add members, set up your organization in **Console → Settings → Organization**.\n</Tip>\n\nThe [Admin API](/en/api/admin-api) allows you to programmatically manage your organization's resources, including organization members, workspaces, and API keys. This provides programmatic control over administrative tasks that would otherwise require manual configuration in the [Claude Console](https://console.anthropic.com).\n\n<Check>\n  **The Admin API requires special access**\n\n  The Admin API requires a special Admin API key (starting with `sk-ant-admin...`) that differs from standard API keys. Only organization members with the admin role can provision Admin API keys through the Claude Console.\n</Check>\n\n## How the Admin API works\n\nWhen you use the Admin API:\n\n1. You make requests using your Admin API key in the `x-api-key` header\n2. The API allows you to manage:\n   * Organization members and their roles\n   * Organization member invites\n   * Workspaces and their members\n   * API keys\n\nThis is useful for:\n\n* Automating user onboarding/offboarding\n* Programmatically managing workspace access\n* Monitoring and managing API key usage\n\n## Organization roles and permissions\n\nThere are five organization-level roles. See more details [here](https://support.claude.com/en/articles/10186004-api-console-roles-and-permissions).\n\n| Role               | Permissions                                                                   |\n| ------------------ | ----------------------------------------------------------------------------- |\n| user               | Can use Workbench                                                             |\n| claude\\_code\\_user | Can use Workbench and [Claude Code](https://code.claude.com/docs/en/overview) |\n| developer          | Can use Workbench and manage API keys                                         |\n| billing            | Can use Workbench and manage billing details                                  |\n| admin              | Can do all of the above, plus manage users                                    |\n\n## Key concepts\n\n### Organization Members\n\nYou can list [organization members](/en/api/admin-api/users/get-user), update member roles, and remove members.\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  # List organization members\n  curl \"https://api.anthropic.com/v1/organizations/users?limit=10\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n\n  # Update member role\n  curl \"https://api.anthropic.com/v1/organizations/users/{user_id}\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\" \\\n    --data '{\"role\": \"developer\"}'\n\n  # Remove member\n  curl --request DELETE \"https://api.anthropic.com/v1/organizations/users/{user_id}\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n  ```\n</CodeGroup>\n\n### Organization Invites\n\nYou can invite users to organizations and manage those [invites](/en/api/admin-api/invites/get-invite).\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  # Create invite\n  curl --request POST \"https://api.anthropic.com/v1/organizations/invites\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\" \\\n    --data '{\n      \"email\": \"newuser@domain.com\",\n      \"role\": \"developer\"\n    }'\n\n  # List invites\n  curl \"https://api.anthropic.com/v1/organizations/invites?limit=10\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n\n  # Delete invite\n  curl --request DELETE \"https://api.anthropic.com/v1/organizations/invites/{invite_id}\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n  ```\n</CodeGroup>\n\n### Workspaces\n\nCreate and manage [workspaces](/en/api/admin-api/workspaces/get-workspace) ([console](https://console.anthropic.com/settings/workspaces)) to organize your resources:\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  # Create workspace\n  curl --request POST \"https://api.anthropic.com/v1/organizations/workspaces\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\" \\\n    --data '{\"name\": \"Production\"}'\n\n  # List workspaces\n  curl \"https://api.anthropic.com/v1/organizations/workspaces?limit=10&include_archived=false\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n\n  # Archive workspace\n  curl --request POST \"https://api.anthropic.com/v1/organizations/workspaces/{workspace_id}/archive\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n  ```\n</CodeGroup>\n\n### Workspace Members\n\nManage [user access to specific workspaces](/en/api/admin-api/workspace_members/get-workspace-member):\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  # Add member to workspace\n  curl --request POST \"https://api.anthropic.com/v1/organizations/workspaces/{workspace_id}/members\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\" \\\n    --data '{\n      \"user_id\": \"user_xxx\",\n      \"workspace_role\": \"workspace_developer\"\n    }'\n\n  # List workspace members\n  curl \"https://api.anthropic.com/v1/organizations/workspaces/{workspace_id}/members?limit=10\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n\n  # Update member role\n  curl --request POST \"https://api.anthropic.com/v1/organizations/workspaces/{workspace_id}/members/{user_id}\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\" \\\n    --data '{\n      \"workspace_role\": \"workspace_admin\"\n    }'\n\n  # Remove member from workspace\n  curl --request DELETE \"https://api.anthropic.com/v1/organizations/workspaces/{workspace_id}/members/{user_id}\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n  ```\n</CodeGroup>\n\n### API Keys\n\nMonitor and manage [API keys](/en/api/admin-api/apikeys/get-api-key):\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  # List API keys\n  curl \"https://api.anthropic.com/v1/organizations/api_keys?limit=10&status=active&workspace_id=wrkspc_xxx\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\"\n\n  # Update API key\n  curl --request POST \"https://api.anthropic.com/v1/organizations/api_keys/{api_key_id}\" \\\n    --header \"anthropic-version: 2023-06-01\" \\\n    --header \"x-api-key: $ANTHROPIC_ADMIN_KEY\" \\\n    --data '{\n      \"status\": \"inactive\",\n      \"name\": \"New Key Name\"\n    }'\n  ```\n</CodeGroup>\n\n## Accessing organization info\n\nGet information about your organization programmatically with the `/v1/organizations/me` endpoint.\n\nFor example:\n\n```bash  theme={null}\ncurl \"https://api.anthropic.com/v1/organizations/me\" \\\n  --header \"anthropic-version: 2023-06-01\" \\\n  --header \"x-api-key: $ADMIN_API_KEY\"\n```\n\n```json  theme={null}\n{\n  \"id\": \"12345678-1234-5678-1234-567812345678\",\n  \"type\": \"organization\",\n  \"name\": \"Organization Name\"\n}\n```\n\nThis endpoint is useful for programmatically determining which organization an Admin API key belongs to.\n\nFor complete parameter details and response schemas, see the [Organization Info API reference](/en/api/admin-api/organization/get-me).\n\n## Accessing usage and cost reports\n\nTo access usage and cost reports for your organization, use the Usage and Cost API endpoints:\n\n* The [**Usage endpoint**](/en/docs/build-with-claude/usage-cost-api#usage-api) (`/v1/organizations/usage_report/messages`) provides detailed usage data, including token counts and request metrics, grouped by various dimensions such as workspace, user, and model.\n* The [**Cost endpoint**](/en/docs/build-with-claude/usage-cost-api#cost-api) (`/v1/organizations/cost_report`) provides cost data associated with your organization's usage, allowing you to track expenses and allocate costs by workspace or description.\n\nThese endpoints provide detailed insights into your organization's usage and associated costs.\n\n## Accessing Claude Code analytics\n\nFor organizations using Claude Code, the [**Claude Code Analytics API**](/en/docs/build-with-claude/claude-code-analytics-api) provides detailed productivity metrics and usage insights:\n\n* The [**Claude Code Analytics endpoint**](/en/docs/build-with-claude/claude-code-analytics-api) (`/v1/organizations/usage_report/claude_code`) provides daily aggregated metrics for Claude Code usage, including sessions, lines of code, commits, pull requests, tool usage statistics, and cost data broken down by user and model.\n\nThis API enables you to track developer productivity, analyze Claude Code adoption, and build custom dashboards for your organization.\n\n## Best practices\n\nTo effectively use the Admin API:\n\n* Use meaningful names and descriptions for workspaces and API keys\n* Implement proper error handling for failed operations\n* Regularly audit member roles and permissions\n* Clean up unused workspaces and expired invites\n* Monitor API key usage and rotate keys periodically\n\n## FAQ\n\n<AccordionGroup>\n  <Accordion title=\"What permissions are needed to use the Admin API?\">\n    Only organization members with the admin role can use the Admin API. They must also have a special Admin API key (starting with `sk-ant-admin`).\n  </Accordion>\n\n  <Accordion title=\"Can I create new API keys through the Admin API?\">\n    No, new API keys can only be created through the Claude Console for security reasons. The Admin API can only manage existing API keys.\n  </Accordion>\n\n  <Accordion title=\"What happens to API keys when removing a user?\">\n    API keys persist in their current state as they are scoped to the Organization, not to individual users.\n  </Accordion>\n\n  <Accordion title=\"Can organization admins be removed via the API?\">\n    No, organization members with the admin role cannot be removed via the API for security reasons.\n  </Accordion>\n\n  <Accordion title=\"How long do organization invites last?\">\n    Organization invites expire after 21 days. There is currently no way to modify this expiration period.\n  </Accordion>\n\n  <Accordion title=\"Are there limits on workspaces?\">\n    Yes, you can have a maximum of 100 workspaces per Organization. Archived workspaces do not count towards this limit.\n  </Accordion>\n\n  <Accordion title=\"What's the Default Workspace?\">\n    Every Organization has a \"Default Workspace\" that cannot be edited or removed, and has no ID. This Workspace does not appear in workspace list endpoints.\n  </Accordion>\n\n  <Accordion title=\"How do organization roles affect Workspace access?\">\n    Organization admins automatically get the `workspace_admin` role to all workspaces. Organization billing members automatically get the `workspace_billing` role. Organization users and developers must be manually added to each workspace.\n  </Accordion>\n\n  <Accordion title=\"Which roles can be assigned in workspaces?\">\n    Organization users and developers can be assigned `workspace_admin`, `workspace_developer`, or `workspace_user` roles. The `workspace_billing` role can't be manually assigned - it's inherited from having the organization `billing` role.\n  </Accordion>\n\n  <Accordion title=\"Can organization admin or billing members' workspace roles be changed?\">\n    Only organization billing members can have their workspace role upgraded to an admin role. Otherwise, organization admins and billing members can't have their workspace roles changed or be removed from workspaces while they hold those organization roles. Their workspace access must be modified by changing their organization role first.\n  </Accordion>\n\n  <Accordion title=\"What happens to workspace access when organization roles change?\">\n    If an organization admin or billing member is demoted to user or developer, they lose access to all workspaces except ones where they were manually assigned roles. When users are promoted to admin or billing roles, they gain automatic access to all workspaces.\n  </Accordion>\n</AccordionGroup>",
  "content_length": 12077
}