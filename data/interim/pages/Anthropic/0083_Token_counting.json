{
  "title": "Token counting",
  "source_url": "https://docs.claude.com/en/docs/build-with-claude/token-counting",
  "content": "Token counting enables you to determine the number of tokens in a message before sending it to Claude, helping you make informed decisions about your prompts and usage. With token counting, you can\n\n* Proactively manage rate limits and costs\n* Make smart model routing decisions\n* Optimize prompts to be a specific length\n\n***\n\n## How to count message tokens\n\nThe [token counting](/en/api/messages-count-tokens) endpoint accepts the same structured list of inputs for creating a message, including support for system prompts, [tools](/en/docs/agents-and-tools/tool-use/overview), [images](/en/docs/build-with-claude/vision), and [PDFs](/en/docs/build-with-claude/pdf-support). The response contains the total number of input tokens.\n\n<Note>\n  The token count should be considered an **estimate**. In some cases, the actual number of input tokens used when creating a message may differ by a small amount.\n\n  Token counts may include tokens added automatically by Anthropic for system optimizations. **You are not billed for system-added tokens**. Billing reflects only your content.\n</Note>\n\n### Supported models\n\nAll [active models](/en/docs/about-claude/models/overview) support token counting.\n\n### Count tokens in basic messages\n\n<CodeGroup>\n  ```python Python theme={null}\n  import anthropic\n\n  client = anthropic.Anthropic()\n\n  response = client.messages.count_tokens(\n      model=\"claude-sonnet-4-5\",\n      system=\"You are a scientist\",\n      messages=[{\n          \"role\": \"user\",\n          \"content\": \"Hello, Claude\"\n      }],\n  )\n\n  print(response.json())\n  ```\n\n  ```typescript TypeScript theme={null}\n  import Anthropic from '@anthropic-ai/sdk';\n\n  const client = new Anthropic();\n\n  const response = await client.messages.countTokens({\n    model: 'claude-sonnet-4-5',\n    system: 'You are a scientist',\n    messages: [{\n      role: 'user',\n      content: 'Hello, Claude'\n    }]\n  });\n\n  console.log(response);\n  ```\n\n  ```bash Shell theme={null}\n  curl https://api.anthropic.com/v1/messages/count_tokens \\\n      --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n      --header \"content-type: application/json\" \\\n      --header \"anthropic-version: 2023-06-01\" \\\n      --data '{\n        \"model\": \"claude-sonnet-4-5\",\n        \"system\": \"You are a scientist\",\n        \"messages\": [{\n          \"role\": \"user\",\n          \"content\": \"Hello, Claude\"\n        }]\n      }'\n  ```\n\n  ```java Java theme={null}\n  import com.anthropic.client.AnthropicClient;\n  import com.anthropic.client.okhttp.AnthropicOkHttpClient;\n  import com.anthropic.models.messages.MessageCountTokensParams;\n  import com.anthropic.models.messages.MessageTokensCount;\n  import com.anthropic.models.messages.Model;\n\n  public class CountTokensExample {\n\n      public static void main(String[] args) {\n          AnthropicClient client = AnthropicOkHttpClient.fromEnv();\n\n          MessageCountTokensParams params = MessageCountTokensParams.builder()\n                  .model(Model.CLAUDE_SONNET_4_20250514)\n                  .system(\"You are a scientist\")\n                  .addUserMessage(\"Hello, Claude\")\n                  .build();\n\n          MessageTokensCount count = client.messages().countTokens(params);\n          System.out.println(count);\n      }\n  }\n  ```\n</CodeGroup>\n\n```JSON JSON theme={null}\n{ \"input_tokens\": 14 }\n```\n\n### Count tokens in messages with tools\n\n<Note>\n  [Server tool](/en/docs/agents-and-tools/tool-use/overview#server-tools) token counts only apply to the first sampling call.\n</Note>\n\n<CodeGroup>\n  ```python Python theme={null}\n  import anthropic\n\n  client = anthropic.Anthropic()\n\n  response = client.messages.count_tokens(\n      model=\"claude-sonnet-4-5\",\n      tools=[\n          {\n              \"name\": \"get_weather\",\n              \"description\": \"Get the current weather in a given location\",\n              \"input_schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                      \"location\": {\n                          \"type\": \"string\",\n                          \"description\": \"The city and state, e.g. San Francisco, CA\",\n                      }\n                  },\n                  \"required\": [\"location\"],\n              },\n          }\n      ],\n      messages=[{\"role\": \"user\", \"content\": \"What's the weather like in San Francisco?\"}]\n  )\n\n  print(response.json())\n  ```\n\n  ```typescript TypeScript theme={null}\n  import Anthropic from '@anthropic-ai/sdk';\n\n  const client = new Anthropic();\n\n  const response = await client.messages.countTokens({\n    model: 'claude-sonnet-4-5',\n    tools: [\n      {\n        name: \"get_weather\",\n        description: \"Get the current weather in a given location\",\n        input_schema: {\n          type: \"object\",\n          properties: {\n            location: {\n              type: \"string\",\n              description: \"The city and state, e.g. San Francisco, CA\",\n            }\n          },\n          required: [\"location\"],\n        }\n      }\n    ],\n    messages: [{ role: \"user\", content: \"What's the weather like in San Francisco?\" }]\n  });\n\n  console.log(response);\n  ```\n\n  ```bash Shell theme={null}\n  curl https://api.anthropic.com/v1/messages/count_tokens \\\n      --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n      --header \"content-type: application/json\" \\\n      --header \"anthropic-version: 2023-06-01\" \\\n      --data '{\n        \"model\": \"claude-sonnet-4-5\",\n        \"tools\": [\n          {\n            \"name\": \"get_weather\",\n            \"description\": \"Get the current weather in a given location\",\n            \"input_schema\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"location\": {\n                  \"type\": \"string\",\n                  \"description\": \"The city and state, e.g. San Francisco, CA\"\n                }\n              },\n              \"required\": [\"location\"]\n            }\n          }\n        ],\n        \"messages\": [\n          {\n            \"role\": \"user\",\n            \"content\": \"What'\\''s the weather like in San Francisco?\"\n          }\n        ]\n      }'\n  ```\n\n  ```java Java theme={null}\n  import java.util.List;\n  import java.util.Map;\n\n  import com.anthropic.client.AnthropicClient;\n  import com.anthropic.client.okhttp.AnthropicOkHttpClient;\n  import com.anthropic.core.JsonValue;\n  import com.anthropic.models.messages.MessageCountTokensParams;\n  import com.anthropic.models.messages.MessageTokensCount;\n  import com.anthropic.models.messages.Model;\n  import com.anthropic.models.messages.Tool;\n  import com.anthropic.models.messages.Tool.InputSchema;\n\n  public class CountTokensWithToolsExample {\n\n      public static void main(String[] args) {\n          AnthropicClient client = AnthropicOkHttpClient.fromEnv();\n\n          InputSchema schema = InputSchema.builder()\n                  .properties(JsonValue.from(Map.of(\n                          \"location\", Map.of(\n                                  \"type\", \"string\",\n                                  \"description\", \"The city and state, e.g. San Francisco, CA\"\n                          )\n                  )))\n                  .putAdditionalProperty(\"required\", JsonValue.from(List.of(\"location\")))\n                  .build();\n\n          MessageCountTokensParams params = MessageCountTokensParams.builder()\n                  .model(Model.CLAUDE_SONNET_4_20250514)\n                  .addTool(Tool.builder()\n                          .name(\"get_weather\")\n                          .description(\"Get the current weather in a given location\")\n                          .inputSchema(schema)\n                          .build())\n                  .addUserMessage(\"What's the weather like in San Francisco?\")\n                  .build();\n\n          MessageTokensCount count = client.messages().countTokens(params);\n          System.out.println(count);\n      }\n  }\n  ```\n</CodeGroup>\n\n```JSON JSON theme={null}\n{ \"input_tokens\": 403 }\n```\n\n### Count tokens in messages with images\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  #!/bin/sh\n\n  IMAGE_URL=\"https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg\"\n  IMAGE_MEDIA_TYPE=\"image/jpeg\"\n  IMAGE_BASE64=$(curl \"$IMAGE_URL\" | base64)\n\n  curl https://api.anthropic.com/v1/messages/count_tokens \\\n       --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n       --header \"anthropic-version: 2023-06-01\" \\\n       --header \"content-type: application/json\" \\\n       --data \\\n  '{\n      \"model\": \"claude-sonnet-4-5\",\n      \"messages\": [\n          {\"role\": \"user\", \"content\": [\n              {\"type\": \"image\", \"source\": {\n                  \"type\": \"base64\",\n                  \"media_type\": \"'$IMAGE_MEDIA_TYPE'\",\n                  \"data\": \"'$IMAGE_BASE64'\"\n              }},\n              {\"type\": \"text\", \"text\": \"Describe this image\"}\n          ]}\n      ]\n  }'\n  ```\n\n  ```Python Python theme={null}\n  import anthropic\n  import base64\n  import httpx\n\n  image_url = \"https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg\"\n  image_media_type = \"image/jpeg\"\n  image_data = base64.standard_b64encode(httpx.get(image_url).content).decode(\"utf-8\")\n\n  client = anthropic.Anthropic()\n\n  response = client.messages.count_tokens(\n      model=\"claude-sonnet-4-5\",\n      messages=[\n          {\n              \"role\": \"user\",\n              \"content\": [\n                  {\n                      \"type\": \"image\",\n                      \"source\": {\n                          \"type\": \"base64\",\n                          \"media_type\": image_media_type,\n                          \"data\": image_data,\n                      },\n                  },\n                  {\n                      \"type\": \"text\",\n                      \"text\": \"Describe this image\"\n                  }\n              ],\n          }\n      ],\n  )\n  print(response.json())\n  ```\n\n  ```Typescript TypeScript theme={null}\n  import Anthropic from '@anthropic-ai/sdk';\n\n  const anthropic = new Anthropic();\n\n  const image_url = \"https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg\"\n  const image_media_type = \"image/jpeg\"\n  const image_array_buffer = await ((await fetch(image_url)).arrayBuffer());\n  const image_data = Buffer.from(image_array_buffer).toString('base64');\n\n  const response = await anthropic.messages.countTokens({\n    model: 'claude-sonnet-4-5',\n    messages: [\n      {\n        \"role\": \"user\",\n        \"content\": [\n          {\n            \"type\": \"image\",\n            \"source\": {\n              \"type\": \"base64\",\n              \"media_type\": image_media_type,\n              \"data\": image_data,\n            },\n          }\n        ],\n      },\n      {\n        \"type\": \"text\",\n        \"text\": \"Describe this image\"\n      }\n    ]\n  });\n  console.log(response);\n  ```\n\n  ```java Java theme={null}\n  import java.util.Base64;\n  import java.util.List;\n\n  import com.anthropic.client.AnthropicClient;\n  import com.anthropic.client.okhttp.AnthropicOkHttpClient;\n  import com.anthropic.models.messages.Base64ImageSource;\n  import com.anthropic.models.messages.ContentBlockParam;\n  import com.anthropic.models.messages.ImageBlockParam;\n  import com.anthropic.models.messages.MessageCountTokensParams;\n  import com.anthropic.models.messages.MessageTokensCount;\n  import com.anthropic.models.messages.Model;\n  import com.anthropic.models.messages.TextBlockParam;\n\n  import java.net.URI;\n  import java.net.http.HttpClient;\n  import java.net.http.HttpRequest;\n  import java.net.http.HttpResponse;\n\n  public class CountTokensImageExample {\n\n      public static void main(String[] args) throws Exception {\n          AnthropicClient client = AnthropicOkHttpClient.fromEnv();\n\n          String imageUrl = \"https://upload.wikimedia.org/wikipedia/commons/a/a7/Camponotus_flavomarginatus_ant.jpg\";\n          String imageMediaType = \"image/jpeg\";\n\n          HttpClient httpClient = HttpClient.newHttpClient();\n          HttpRequest request = HttpRequest.newBuilder()\n                  .uri(URI.create(imageUrl))\n                  .build();\n          byte[] imageBytes = httpClient.send(request, HttpResponse.BodyHandlers.ofByteArray()).body();\n          String imageBase64 = Base64.getEncoder().encodeToString(imageBytes);\n\n          ContentBlockParam imageBlock = ContentBlockParam.ofImage(\n                  ImageBlockParam.builder()\n                          .source(Base64ImageSource.builder()\n                                  .mediaType(Base64ImageSource.MediaType.IMAGE_JPEG)\n                                  .data(imageBase64)\n                                  .build())\n                          .build());\n\n          ContentBlockParam textBlock = ContentBlockParam.ofText(\n                  TextBlockParam.builder()\n                          .text(\"Describe this image\")\n                          .build());\n\n          MessageCountTokensParams params = MessageCountTokensParams.builder()\n                  .model(Model.CLAUDE_SONNET_4_20250514)\n                  .addUserMessageOfBlockParams(List.of(imageBlock, textBlock))\n                  .build();\n\n          MessageTokensCount count = client.messages().countTokens(params);\n          System.out.println(count);\n      }\n  }\n  ```\n</CodeGroup>\n\n```JSON JSON theme={null}\n{ \"input_tokens\": 1551 }\n```\n\n### Count tokens in messages with extended thinking\n\n<Note>\n  See [here](/en/docs/build-with-claude/extended-thinking#how-context-window-is-calculated-with-extended-thinking) for more details about how the context window is calculated with extended thinking\n\n  * Thinking blocks from **previous** assistant turns are ignored and **do not** count toward your input tokens\n  * **Current** assistant turn thinking **does** count toward your input tokens\n</Note>\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  curl https://api.anthropic.com/v1/messages/count_tokens \\\n      --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n      --header \"content-type: application/json\" \\\n      --header \"anthropic-version: 2023-06-01\" \\\n      --data '{\n        \"model\": \"claude-sonnet-4-5\",\n        \"thinking\": {\n          \"type\": \"enabled\",\n          \"budget_tokens\": 16000\n        },\n        \"messages\": [\n          {\n            \"role\": \"user\",\n            \"content\": \"Are there an infinite number of prime numbers such that n mod 4 == 3?\"\n          },\n          {\n            \"role\": \"assistant\",\n            \"content\": [\n              {\n                \"type\": \"thinking\",\n                \"thinking\": \"This is a nice number theory question. Lets think about it step by step...\",\n                \"signature\": \"EuYBCkQYAiJAgCs1le6/Pol5Z4/JMomVOouGrWdhYNsH3ukzUECbB6iWrSQtsQuRHJID6lWV...\"\n              },\n              {\n                \"type\": \"text\",\n                \"text\": \"Yes, there are infinitely many prime numbers p such that p mod 4 = 3...\"\n              }\n            ]\n          },\n          {\n            \"role\": \"user\",\n            \"content\": \"Can you write a formal proof?\"\n          }\n        ]\n      }'\n  ```\n\n  ```Python Python theme={null}\n  import anthropic\n\n  client = anthropic.Anthropic()\n\n  response = client.messages.count_tokens(\n      model=\"claude-sonnet-4-5\",\n      thinking={\n          \"type\": \"enabled\",\n          \"budget_tokens\": 16000\n      },\n      messages=[\n          {\n              \"role\": \"user\",\n              \"content\": \"Are there an infinite number of prime numbers such that n mod 4 == 3?\"\n          },\n          {\n              \"role\": \"assistant\",\n              \"content\": [\n                  {\n                      \"type\": \"thinking\",\n                      \"thinking\": \"This is a nice number theory question. Let's think about it step by step...\",\n                      \"signature\": \"EuYBCkQYAiJAgCs1le6/Pol5Z4/JMomVOouGrWdhYNsH3ukzUECbB6iWrSQtsQuRHJID6lWV...\"\n                  },\n                  {\n                    \"type\": \"text\",\n                    \"text\": \"Yes, there are infinitely many prime numbers p such that p mod 4 = 3...\"\n                  }\n              ]\n          },\n          {\n              \"role\": \"user\",\n              \"content\": \"Can you write a formal proof?\"\n          }\n      ]\n  )\n\n  print(response.json())\n  ```\n\n  ```typescript TypeScript theme={null}\n  import Anthropic from '@anthropic-ai/sdk';\n\n  const client = new Anthropic();\n\n  const response = await client.messages.countTokens({\n    model: 'claude-sonnet-4-5',\n    thinking: {\n      'type': 'enabled',\n      'budget_tokens': 16000\n    },\n    messages: [\n      {\n        'role': 'user',\n        'content': 'Are there an infinite number of prime numbers such that n mod 4 == 3?'\n      },\n      {\n        'role': 'assistant',\n        'content': [\n          {\n            'type': 'thinking',\n            'thinking': \"This is a nice number theory question. Let's think about it step by step...\",\n            'signature': 'EuYBCkQYAiJAgCs1le6/Pol5Z4/JMomVOouGrWdhYNsH3ukzUECbB6iWrSQtsQuRHJID6lWV...'\n          },\n          {\n            'type': 'text',\n            'text': 'Yes, there are infinitely many prime numbers p such that p mod 4 = 3...',\n          }\n        ]\n      },\n      {\n        'role': 'user',\n        'content': 'Can you write a formal proof?'\n      }\n    ]\n  });\n\n  console.log(response);\n  ```\n\n  ```java Java theme={null}\n  import java.util.List;\n\n  import com.anthropic.client.AnthropicClient;\n  import com.anthropic.client.okhttp.AnthropicOkHttpClient;\n  import com.anthropic.models.messages.ContentBlockParam;\n  import com.anthropic.models.messages.MessageCountTokensParams;\n  import com.anthropic.models.messages.MessageTokensCount;\n  import com.anthropic.models.messages.Model;\n  import com.anthropic.models.messages.TextBlockParam;\n  import com.anthropic.models.messages.ThinkingBlockParam;\n\n  public class CountTokensThinkingExample {\n\n      public static void main(String[] args) {\n          AnthropicClient client = AnthropicOkHttpClient.fromEnv();\n\n          List<ContentBlockParam> assistantBlocks = List.of(\n                  ContentBlockParam.ofThinking(ThinkingBlockParam.builder()\n                          .thinking(\"This is a nice number theory question. Let's think about it step by step...\")\n                          .signature(\"EuYBCkQYAiJAgCs1le6/Pol5Z4/JMomVOouGrWdhYNsH3ukzUECbB6iWrSQtsQuRHJID6lWV...\")\n                          .build()),\n                  ContentBlockParam.ofText(TextBlockParam.builder()\n                          .text(\"Yes, there are infinitely many prime numbers p such that p mod 4 = 3...\")\n                          .build())\n          );\n\n          MessageCountTokensParams params = MessageCountTokensParams.builder()\n                  .model(Model.CLAUDE_SONNET_4_20250514)\n                  .enabledThinking(16000)\n                  .addUserMessage(\"Are there an infinite number of prime numbers such that n mod 4 == 3?\")\n                  .addAssistantMessageOfBlockParams(assistantBlocks)\n                  .addUserMessage(\"Can you write a formal proof?\")\n                  .build();\n\n          MessageTokensCount count = client.messages().countTokens(params);\n          System.out.println(count);\n      }\n  }\n  ```\n</CodeGroup>\n\n```JSON JSON theme={null}\n{ \"input_tokens\": 88 }\n```\n\n### Count tokens in messages with PDFs\n\n<Note>\n  Token counting supports PDFs with the same [limitations](/en/docs/build-with-claude/pdf-support#pdf-support-limitations) as the Messages API.\n</Note>\n\n<CodeGroup>\n  ```bash Shell theme={null}\n  curl https://api.anthropic.com/v1/messages/count_tokens \\\n      --header \"x-api-key: $ANTHROPIC_API_KEY\" \\\n      --header \"content-type: application/json\" \\\n      --header \"anthropic-version: 2023-06-01\" \\\n      --data '{\n        \"model\": \"claude-sonnet-4-5\",\n        \"messages\": [{\n          \"role\": \"user\",\n          \"content\": [\n            {\n              \"type\": \"document\",\n              \"source\": {\n                \"type\": \"base64\",\n                \"media_type\": \"application/pdf\",\n                \"data\": \"'$(base64 -i document.pdf)'\"\n              }\n            },\n            {\n              \"type\": \"text\",\n              \"text\": \"Please summarize this document.\"\n            }\n          ]\n        }]\n      }'\n  ```\n\n  ```Python Python theme={null}\n  import base64\n  import anthropic\n\n  client = anthropic.Anthropic()\n\n  with open(\"document.pdf\", \"rb\") as pdf_file:\n      pdf_base64 = base64.standard_b64encode(pdf_file.read()).decode(\"utf-8\")\n\n  response = client.messages.count_tokens(\n      model=\"claude-sonnet-4-5\",\n      messages=[{\n          \"role\": \"user\",\n          \"content\": [\n              {\n                  \"type\": \"document\",\n                  \"source\": {\n                      \"type\": \"base64\",\n                      \"media_type\": \"application/pdf\",\n                      \"data\": pdf_base64\n                  }\n              },\n              {\n                  \"type\": \"text\",\n                  \"text\": \"Please summarize this document.\"\n              }\n          ]\n      }]\n  )\n\n  print(response.json())\n  ```\n\n  ```Typescript TypeScript theme={null}\n  import Anthropic from '@anthropic-ai/sdk';\n  import { readFileSync } from 'fs';\n\n  const client = new Anthropic();\n\n  const pdfBase64 = readFileSync('document.pdf', { encoding: 'base64' });\n\n  const response = await client.messages.countTokens({\n    model: 'claude-sonnet-4-5',\n    messages: [{\n      role: 'user',\n      content: [\n        {\n          type: 'document',\n          source: {\n            type: 'base64',\n            media_type: 'application/pdf',\n            data: pdfBase64\n          }\n        },\n        {\n          type: 'text',\n          text: 'Please summarize this document.'\n        }\n      ]\n    }]\n  });\n\n  console.log(response);\n  ```\n\n  ```java Java theme={null}\n  import java.nio.file.Files;\n  import java.nio.file.Path;\n  import java.util.Base64;\n  import java.util.List;\n\n  import com.anthropic.client.AnthropicClient;\n  import com.anthropic.client.okhttp.AnthropicOkHttpClient;\n  import com.anthropic.models.messages.Base64PdfSource;\n  import com.anthropic.models.messages.ContentBlockParam;\n  import com.anthropic.models.messages.DocumentBlockParam;\n  import com.anthropic.models.messages.MessageCountTokensParams;\n  import com.anthropic.models.messages.MessageTokensCount;\n  import com.anthropic.models.messages.Model;\n  import com.anthropic.models.messages.TextBlockParam;\n\n  public class CountTokensPdfExample {\n\n      public static void main(String[] args) throws Exception {\n          AnthropicClient client = AnthropicOkHttpClient.fromEnv();\n\n          byte[] fileBytes = Files.readAllBytes(Path.of(\"document.pdf\"));\n          String pdfBase64 = Base64.getEncoder().encodeToString(fileBytes);\n\n          ContentBlockParam documentBlock = ContentBlockParam.ofDocument(\n                  DocumentBlockParam.builder()\n                          .source(Base64PdfSource.builder()\n                                  .mediaType(Base64PdfSource.MediaType.APPLICATION_PDF)\n                                  .data(pdfBase64)\n                                  .build())\n                          .build());\n\n          ContentBlockParam textBlock = ContentBlockParam.ofText(\n                  TextBlockParam.builder()\n                          .text(\"Please summarize this document.\")\n                          .build());\n\n          MessageCountTokensParams params = MessageCountTokensParams.builder()\n                  .model(Model.CLAUDE_SONNET_4_20250514)\n                  .addUserMessageOfBlockParams(List.of(documentBlock, textBlock))\n                  .build();\n\n          MessageTokensCount count = client.messages().countTokens(params);\n          System.out.println(count);\n      }\n  }\n  ```\n</CodeGroup>\n\n```JSON JSON theme={null}\n{ \"input_tokens\": 2188 }\n```\n\n***\n\n## Pricing and rate limits\n\nToken counting is **free to use** but subject to requests per minute rate limits based on your [usage tier](/en/api/rate-limits#rate-limits). If you need higher limits, contact sales through the [Claude Console](https://console.anthropic.com/settings/limits).\n\n| Usage tier | Requests per minute (RPM) |\n| ---------- | ------------------------- |\n| 1          | 100                       |\n| 2          | 2,000                     |\n| 3          | 4,000                     |\n| 4          | 8,000                     |\n\n<Note>\n  Token counting and message creation have separate and independent rate limits -- usage of one does not count against the limits of the other.\n</Note>\n\n***\n\n## FAQ\n\n<AccordionGroup>\n  <Accordion title=\"Does token counting use prompt caching?\">\n    No, token counting provides an estimate without using caching logic. While you may provide `cache_control` blocks in your token counting request, prompt caching only occurs during actual message creation.\n  </Accordion>\n</AccordionGroup>",
  "content_length": 24558
}