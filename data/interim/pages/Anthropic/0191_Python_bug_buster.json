{
  "title": "Python bug buster",
  "source_url": "https://docs.claude.com/en/resources/prompt-library/python-bug-buster",
  "content": "Detect and fix bugs in Python code.\n\n> Copy this prompt into our developer [Console](https://console.anthropic.com/dashboard) to try it for yourself!\n\n|        | Content                                                                                                                                                                                                                                                                                                                                                             |\n| ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| System | Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming. |\n| User   | def calculate\\_average(nums): <br /> sum = 0 <br /> for num in nums: <br /> sum += num <br /> average = sum / len(nums) <br /> return average <br /><br /> numbers = \\[10, 20, 30, 40, 50] <br /> result = calculate\\_average(numbers) <br /> print(\"The average is:\", results)                                                                                     |\n\n## Example Output\n\nCorrected Python code:\n\n```python Python theme={null}\ndef calculate_average(nums):\n    total = 0\n    for num in nums:\n        total += num\n    average = total / len(nums)\n    return average\n\nnumbers = [10, 20, 30, 40, 50]\nresult = calculate_average(numbers)\nprint(\"The average is:\", result)\n```\n\nExplanation:\n\n1. Changed the variable name \"sum\" to \"total\" to avoid using the built-in Python function \"sum()\".\n2. Fixed the typo in the print statement, changing \"results\" to \"result\" to correctly reference the variable.\n\n## API Request\n\n<Tabs>\n  <Tab title=\"Python\">\n    ```python  theme={null}\n    import anthropic\n\n    client = anthropic.Anthropic(\n      # defaults to os.environ.get(\"ANTHROPIC_API_KEY\")\n      api_key=\"my_api_key\",\n    )\n    message = client.messages.create(\n      model=\"claude-sonnet-4-5\",\n      max_tokens=1000,\n      temperature=0,\n      system=\"Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming.\",\n      messages=[\n        {\n        \"role\": \"user\",\n        \"content\": [\n            {\n              \"type\": \"text\",\n              \"text\": \"def calculate_average(nums):\\n sum = 0\\n for num in nums:\\n sum += num\\n average = sum / len(nums)\\n return average\\n\\nnumbers = [10, 20, 30, 40, 50]\\nresult = calculate_average(numbers)\\nprint(\\\"The average is:\\\", results)\"\n            }\n          ]\n        }\n      ]\n    )\n    print(message.content)\n\n    ```\n  </Tab>\n\n  <Tab title=\"TypeScript\">\n    ```TypeScript  theme={null}\n    import Anthropic from \"@anthropic-ai/sdk\";\n\n    const anthropic = new Anthropic({\n      apiKey: \"my_api_key\", // defaults to process.env[\"ANTHROPIC_API_KEY\"]\n    });\n\n    const msg = await anthropic.messages.create({\n      model: \"claude-sonnet-4-5\",\n      max_tokens: 1000,\n      temperature: 0,\n      system: \"Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming.\",\n      messages: [\n        {\n          \"role\": \"user\",\n          \"content\": [\n            {\n              \"type\": \"text\",\n              \"text\": \"def calculate_average(nums):\\n   sum = 0\\n   for num in nums:\\n      sum += num\\n   average = sum / len(nums)\\n   return average\\n\\nnumbers = [10, 20, 30, 40, 50]\\nresult = calculate_average(numbers)\\nprint(\\\"The average is:\\\", results)\"\n            }\n          ]\n        }\n      ]\n    });\n    console.log(msg);\n    ```\n  </Tab>\n\n  <Tab title=\"AWS Bedrock Python\">\n    ```Python  theme={null}\n    from anthropic import AnthropicBedrock\n\n    # See https://docs.claude.com/claude/reference/claude-on-amazon-bedrock\n\n    # for authentication options\n\n    client = AnthropicBedrock()\n\n    message = client.messages.create(\n    model=\"anthropic.claude-sonnet-4-5-20250929-v1:0\",\n    max_tokens=1000,\n    temperature=0,\n    system=\"Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming.\",\n    messages=[\n    {\n    \"role\": \"user\",\n    \"content\": [\n    {\n    \"type\": \"text\",\n    \"text\": \"def calculate_average(nums):\\n sum = 0\\n for num in nums:\\n sum += num\\n average = sum / len(nums)\\n return average\\n\\nnumbers = [10, 20, 30, 40, 50]\\nresult = calculate_average(numbers)\\nprint(\\\"The average is:\\\", results)\"\n    }\n    ]\n    }\n    ]\n    )\n    print(message.content)\n\n    ```\n  </Tab>\n\n  <Tab title=\"AWS Bedrock TypeScript\">\n    ```TypeScript  theme={null}\n    import AnthropicBedrock from \"@anthropic-ai/bedrock-sdk\";\n\n    // See https://docs.claude.com/claude/reference/claude-on-amazon-bedrock\n    // for authentication options\n    const client = new AnthropicBedrock();\n\n    const msg = await client.messages.create({\n      model: \"anthropic.claude-sonnet-4-5-20250929-v1:0\",\n      max_tokens: 1000,\n      temperature: 0,\n      system: \"Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming.\",\n      messages: [\n        {\n          \"role\": \"user\",\n          \"content\": [\n            {\n              \"type\": \"text\",\n              \"text\": \"def calculate_average(nums):\\n   sum = 0\\n   for num in nums:\\n      sum += num\\n   average = sum / len(nums)\\n   return average\\n\\nnumbers = [10, 20, 30, 40, 50]\\nresult = calculate_average(numbers)\\nprint(\\\"The average is:\\\", results)\"\n            }\n          ]\n        }\n      ]\n    });\n    console.log(msg);\n    ```\n  </Tab>\n\n  <Tab title=\"Vertex AI Python\">\n    ```Python  theme={null}\n    from anthropic import AnthropicVertex\n\n    client = AnthropicVertex()\n\n    message = client.messages.create(\n    model=\"claude-sonnet-4@20250514\",\n    max_tokens=1000,\n    temperature=0,\n    system=\"Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming.\",\n    messages=[\n    {\n    \"role\": \"user\",\n    \"content\": [\n    {\n    \"type\": \"text\",\n    \"text\": \"def calculate_average(nums):\\n sum = 0\\n for num in nums:\\n sum += num\\n average = sum / len(nums)\\n return average\\n\\nnumbers = [10, 20, 30, 40, 50]\\nresult = calculate_average(numbers)\\nprint(\\\"The average is:\\\", results)\"\n    }\n    ]\n    }\n    ]\n    )\n    print(message.content)\n\n    ```\n  </Tab>\n\n  <Tab title=\"Vertex AI TypeScript\">\n    ```TypeScript  theme={null}\n    import { AnthropicVertex } from '@anthropic-ai/vertex-sdk';\n\n    // Reads from the `CLOUD_ML_REGION` & `ANTHROPIC_VERTEX_PROJECT_ID` environment variables.\n    // Additionally goes through the standard `google-auth-library` flow.\n    const client = new AnthropicVertex();\n\n    const msg = await client.messages.create({\n      model: \"claude-sonnet-4@20250514\",\n      max_tokens: 1000,\n      temperature: 0,\n      system: \"Your task is to analyze the provided Python code snippet, identify any bugs or errors present, and provide a corrected version of the code that resolves these issues. Explain the problems you found in the original code and how your fixes address them. The corrected code should be functional, efficient, and adhere to best practices in Python programming.\",\n      messages: [\n        {\n          \"role\": \"user\",\n          \"content\": [\n            {\n              \"type\": \"text\",\n              \"text\": \"def calculate_average(nums):\\n   sum = 0\\n   for num in nums:\\n      sum += num\\n   average = sum / len(nums)\\n   return average\\n\\nnumbers = [10, 20, 30, 40, 50]\\nresult = calculate_average(numbers)\\nprint(\\\"The average is:\\\", results)\"\n            }\n          ]\n        }\n      ]\n    });\n    console.log(msg);\n    ```\n  </Tab>\n</Tabs>",
  "content_length": 9333
}