{
  "title": "Pagination",
  "source_url": "https://modelcontextprotocol.io/specification/2025-11-25/server/utilities/pagination",
  "content": "<div id=\"enable-section-numbers\" />\n\n<Info>**Protocol Revision**: 2025-11-25</Info>\n\nThe Model Context Protocol (MCP) supports paginating list operations that may return\nlarge result sets. Pagination allows servers to yield results in smaller chunks rather\nthan all at once.\n\nPagination is especially important when connecting to external services over the\ninternet, but also useful for local integrations to avoid performance issues with large\ndata sets.\n\n## Pagination Model\n\nPagination in MCP uses an opaque cursor-based approach, instead of numbered pages.\n\n* The **cursor** is an opaque string token, representing a position in the result set\n* **Page size** is determined by the server, and clients **MUST NOT** assume a fixed page\n  size\n\n## Response Format\n\nPagination starts when the server sends a **response** that includes:\n\n* The current page of results\n* An optional `nextCursor` field if more results exist\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": \"123\",\n  \"result\": {\n    \"resources\": [...],\n    \"nextCursor\": \"eyJwYWdlIjogM30=\"\n  }\n}\n```\n\n## Request Format\n\nAfter receiving a cursor, the client can *continue* paginating by issuing a request\nincluding that cursor:\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": \"124\",\n  \"method\": \"resources/list\",\n  \"params\": {\n    \"cursor\": \"eyJwYWdlIjogMn0=\"\n  }\n}\n```\n\n## Pagination Flow\n\n```mermaid  theme={null}\nsequenceDiagram\n    participant Client\n    participant Server\n\n    Client->>Server: List Request (no cursor)\n    loop Pagination Loop\n      Server-->>Client: Page of results + nextCursor\n      Client->>Server: List Request (with cursor)\n    end\n```\n\n## Operations Supporting Pagination\n\nThe following MCP operations support pagination:\n\n* `resources/list` - List available resources\n* `resources/templates/list` - List resource templates\n* `prompts/list` - List available prompts\n* `tools/list` - List available tools\n\n## Implementation Guidelines\n\n1. Servers **SHOULD**:\n   * Provide stable cursors\n   * Handle invalid cursors gracefully\n\n2. Clients **SHOULD**:\n   * Treat a missing `nextCursor` as the end of results\n   * Support both paginated and non-paginated flows\n\n3. Clients **MUST** treat cursors as opaque tokens:\n   * Don't make assumptions about cursor format\n   * Don't attempt to parse or modify cursors\n   * Don't persist cursors across sessions\n\n## Error Handling\n\nInvalid cursors **SHOULD** result in an error with code -32602 (Invalid params).",
  "content_length": 2448
}