{
  "title": "Tools",
  "source_url": "https://modelcontextprotocol.io/specification/2025-11-25/server/tools",
  "content": "<div id=\"enable-section-numbers\" />\n\n<Info>**Protocol Revision**: 2025-11-25</Info>\n\nThe Model Context Protocol (MCP) allows servers to expose tools that can be invoked by\nlanguage models. Tools enable models to interact with external systems, such as querying\ndatabases, calling APIs, or performing computations. Each tool is uniquely identified by\na name and includes metadata describing its schema.\n\n## User Interaction Model\n\nTools in MCP are designed to be **model-controlled**, meaning that the language model can\ndiscover and invoke tools automatically based on its contextual understanding and the\nuser's prompts.\n\nHowever, implementations are free to expose tools through any interface pattern that\nsuits their needs—the protocol itself does not mandate any specific user\ninteraction model.\n\n<Warning>\n  For trust & safety and security, there **SHOULD** always\n  be a human in the loop with the ability to deny tool invocations.\n\n  Applications **SHOULD**:\n\n  * Provide UI that makes clear which tools are being exposed to the AI model\n  * Insert clear visual indicators when tools are invoked\n  * Present confirmation prompts to the user for operations, to ensure a human is in the\n    loop\n</Warning>\n\n## Capabilities\n\nServers that support tools **MUST** declare the `tools` capability:\n\n```json  theme={null}\n{\n  \"capabilities\": {\n    \"tools\": {\n      \"listChanged\": true\n    }\n  }\n}\n```\n\n`listChanged` indicates whether the server will emit notifications when the list of\navailable tools changes.\n\n## Protocol Messages\n\n### Listing Tools\n\nTo discover available tools, clients send a `tools/list` request. This operation supports\n[pagination](/specification/2025-11-25/server/utilities/pagination).\n\n**Request:**\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"tools/list\",\n  \"params\": {\n    \"cursor\": \"optional-cursor-value\"\n  }\n}\n```\n\n**Response:**\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"result\": {\n    \"tools\": [\n      {\n        \"name\": \"get_weather\",\n        \"title\": \"Weather Information Provider\",\n        \"description\": \"Get current weather information for a location\",\n        \"inputSchema\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"location\": {\n              \"type\": \"string\",\n              \"description\": \"City name or zip code\"\n            }\n          },\n          \"required\": [\"location\"]\n        },\n        \"icons\": [\n          {\n            \"src\": \"https://example.com/weather-icon.png\",\n            \"mimeType\": \"image/png\",\n            \"sizes\": [\"48x48\"]\n          }\n        ]\n      }\n    ],\n    \"nextCursor\": \"next-page-cursor\"\n  }\n}\n```\n\n### Calling Tools\n\nTo invoke a tool, clients send a `tools/call` request:\n\n**Request:**\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"get_weather\",\n    \"arguments\": {\n      \"location\": \"New York\"\n    }\n  }\n}\n```\n\n**Response:**\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"Current weather in New York:\\nTemperature: 72°F\\nConditions: Partly cloudy\"\n      }\n    ],\n    \"isError\": false\n  }\n}\n```\n\n### List Changed Notification\n\nWhen the list of available tools changes, servers that declared the `listChanged`\ncapability **SHOULD** send a notification:\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"notifications/tools/list_changed\"\n}\n```\n\n## Message Flow\n\n```mermaid  theme={null}\nsequenceDiagram\n    participant LLM\n    participant Client\n    participant Server\n\n    Note over Client,Server: Discovery\n    Client->>Server: tools/list\n    Server-->>Client: List of tools\n\n    Note over Client,LLM: Tool Selection\n    LLM->>Client: Select tool to use\n\n    Note over Client,Server: Invocation\n    Client->>Server: tools/call\n    Server-->>Client: Tool result\n    Client->>LLM: Process result\n\n    Note over Client,Server: Updates\n    Server--)Client: tools/list_changed\n    Client->>Server: tools/list\n    Server-->>Client: Updated tools\n```\n\n## Data Types\n\n### Tool\n\nA tool definition includes:\n\n* `name`: Unique identifier for the tool\n* `title`: Optional human-readable name of the tool for display purposes.\n* `description`: Human-readable description of functionality\n* `inputSchema`: JSON Schema defining expected parameters\n  * Follows the [JSON Schema usage guidelines](/specification/2025-11-25/basic#json-schema-usage)\n  * Defaults to 2020-12 if no `$schema` field is present\n  * **MUST** be a valid JSON Schema object (not `null`)\n  * For tools with no parameters, use one of these valid approaches:\n    * `{ \"type\": \"object\", \"additionalProperties\": false }` - **Recommended**: explicitly accepts only empty objects\n    * `{ \"type\": \"object\" }` - accepts any object (including with properties)\n* `outputSchema`: Optional JSON Schema defining expected output structure\n  * Follows the [JSON Schema usage guidelines](/specification/2025-11-25/basic#json-schema-usage)\n  * Defaults to 2020-12 if no `$schema` field is present\n* `annotations`: Optional properties describing tool behavior\n\n<Warning>\n  For trust & safety and security, clients **MUST** consider tool annotations to\n  be untrusted unless they come from trusted servers.\n</Warning>\n\n#### Tool Names\n\n* Tool names **SHOULD** be between 1 and 128 characters in length (inclusive).\n* Tool names **SHOULD** be considered case-sensitive.\n* The following **SHOULD** be the only allowed characters: uppercase and lowercase ASCII letters (A-Z, a-z), digits\n  (0-9), underscore (\\_), hyphen (-), and dot (.)\n* Tool names **SHOULD NOT** contain spaces, commas, or other special characters.\n* Tool names **SHOULD** be unique within a server.\n* Example valid tool names:\n  * getUser\n  * DATA\\_EXPORT\\_v2\n  * admin.tools.list\n\n### Tool Result\n\nTool results may contain [**structured**](#structured-content) or **unstructured** content.\n\n**Unstructured** content is returned in the `content` field of a result, and can contain multiple content items of different types:\n\n<Note>\n  All content types (text, image, audio, resource links, and embedded resources)\n  support optional\n  [annotations](/specification/2025-11-25/server/resources#annotations) that\n  provide metadata about audience, priority, and modification times. This is the\n  same annotation format used by resources and prompts.\n</Note>\n\n#### Text Content\n\n```json  theme={null}\n{\n  \"type\": \"text\",\n  \"text\": \"Tool result text\"\n}\n```\n\n#### Image Content\n\n```json  theme={null}\n{\n  \"type\": \"image\",\n  \"data\": \"base64-encoded-data\",\n  \"mimeType\": \"image/png\",\n  \"annotations\": {\n    \"audience\": [\"user\"],\n    \"priority\": 0.9\n  }\n}\n```\n\n#### Audio Content\n\n```json  theme={null}\n{\n  \"type\": \"audio\",\n  \"data\": \"base64-encoded-audio-data\",\n  \"mimeType\": \"audio/wav\"\n}\n```\n\n#### Resource Links\n\nA tool **MAY** return links to [Resources](/specification/2025-11-25/server/resources), to provide additional context\nor data. In this case, the tool will return a URI that can be subscribed to or fetched by the client:\n\n```json  theme={null}\n{\n  \"type\": \"resource_link\",\n  \"uri\": \"file:///project/src/main.rs\",\n  \"name\": \"main.rs\",\n  \"description\": \"Primary application entry point\",\n  \"mimeType\": \"text/x-rust\"\n}\n```\n\nResource links support the same [Resource annotations](/specification/2025-11-25/server/resources#annotations) as regular resources to help clients understand how to use them.\n\n<Info>\n  Resource links returned by tools are not guaranteed to appear in the results\n  of a `resources/list` request.\n</Info>\n\n#### Embedded Resources\n\n[Resources](/specification/2025-11-25/server/resources) **MAY** be embedded to provide additional context\nor data using a suitable [URI scheme](./resources#common-uri-schemes). Servers that use embedded resources **SHOULD** implement the `resources` capability:\n\n```json  theme={null}\n{\n  \"type\": \"resource\",\n  \"resource\": {\n    \"uri\": \"file:///project/src/main.rs\",\n    \"mimeType\": \"text/x-rust\",\n    \"text\": \"fn main() {\\n    println!(\\\"Hello world!\\\");\\n}\",\n    \"annotations\": {\n      \"audience\": [\"user\", \"assistant\"],\n      \"priority\": 0.7,\n      \"lastModified\": \"2025-05-03T14:30:00Z\"\n    }\n  }\n}\n```\n\nEmbedded resources support the same [Resource annotations](/specification/2025-11-25/server/resources#annotations) as regular resources to help clients understand how to use them.\n\n#### Structured Content\n\n**Structured** content is returned as a JSON object in the `structuredContent` field of a result.\n\nFor backwards compatibility, a tool that returns structured content SHOULD also return the serialized JSON in a TextContent block.\n\n#### Output Schema\n\nTools may also provide an output schema for validation of structured results.\nIf an output schema is provided:\n\n* Servers **MUST** provide structured results that conform to this schema.\n* Clients **SHOULD** validate structured results against this schema.\n\nExample tool with output schema:\n\n```json  theme={null}\n{\n  \"name\": \"get_weather_data\",\n  \"title\": \"Weather Data Retriever\",\n  \"description\": \"Get current weather data for a location\",\n  \"inputSchema\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"location\": {\n        \"type\": \"string\",\n        \"description\": \"City name or zip code\"\n      }\n    },\n    \"required\": [\"location\"]\n  },\n  \"outputSchema\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"temperature\": {\n        \"type\": \"number\",\n        \"description\": \"Temperature in celsius\"\n      },\n      \"conditions\": {\n        \"type\": \"string\",\n        \"description\": \"Weather conditions description\"\n      },\n      \"humidity\": {\n        \"type\": \"number\",\n        \"description\": \"Humidity percentage\"\n      }\n    },\n    \"required\": [\"temperature\", \"conditions\", \"humidity\"]\n  }\n}\n```\n\nExample valid response for this tool:\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 5,\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"{\\\"temperature\\\": 22.5, \\\"conditions\\\": \\\"Partly cloudy\\\", \\\"humidity\\\": 65}\"\n      }\n    ],\n    \"structuredContent\": {\n      \"temperature\": 22.5,\n      \"conditions\": \"Partly cloudy\",\n      \"humidity\": 65\n    }\n  }\n}\n```\n\nProviding an output schema helps clients and LLMs understand and properly handle structured tool outputs by:\n\n* Enabling strict schema validation of responses\n* Providing type information for better integration with programming languages\n* Guiding clients and LLMs to properly parse and utilize the returned data\n* Supporting better documentation and developer experience\n\n### Schema Examples\n\n#### Tool with default 2020-12 schema:\n\n```json  theme={null}\n{\n  \"name\": \"calculate_sum\",\n  \"description\": \"Add two numbers\",\n  \"inputSchema\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"a\": { \"type\": \"number\" },\n      \"b\": { \"type\": \"number\" }\n    },\n    \"required\": [\"a\", \"b\"]\n  }\n}\n```\n\n#### Tool with explicit draft-07 schema:\n\n```json  theme={null}\n{\n  \"name\": \"calculate_sum\",\n  \"description\": \"Add two numbers\",\n  \"inputSchema\": {\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n      \"a\": { \"type\": \"number\" },\n      \"b\": { \"type\": \"number\" }\n    },\n    \"required\": [\"a\", \"b\"]\n  }\n}\n```\n\n#### Tool with no parameters:\n\n```json  theme={null}\n{\n  \"name\": \"get_current_time\",\n  \"description\": \"Returns the current server time\",\n  \"inputSchema\": {\n    \"type\": \"object\",\n    \"additionalProperties\": false\n  }\n}\n```\n\n## Error Handling\n\nTools use two error reporting mechanisms:\n\n1. **Protocol Errors**: Standard JSON-RPC errors for issues like:\n   * Unknown tools\n   * Malformed requests (requests that fail to satisfy [CallToolRequest schema](specification/2025-11-25/schema#calltoolrequest))\n   * Server errors\n\n2. **Tool Execution Errors**: Reported in tool results with `isError: true`:\n   * API failures\n   * Input validation errors (e.g., date in wrong format, value out of range)\n   * Business logic errors\n\n**Tool Execution Errors** contain actionable feedback that language models can use to self-correct and retry with adjusted parameters.\n**Protocol Errors** indicate issues with the request structure itself that models are less likely to be able to fix.\nClients **SHOULD** provide tool execution errors to language models to enable self-correction.\nClients **MAY** provide protocol errors to language models, though these are less likely to result in successful recovery.\n\nExample protocol error:\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 3,\n  \"error\": {\n    \"code\": -32602,\n    \"message\": \"Unknown tool: invalid_tool_name\"\n  }\n}\n```\n\nExample tool execution error (input validation):\n\n```json  theme={null}\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 4,\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"Invalid departure date: must be in the future. Current date is 08/08/2025.\"\n      }\n    ],\n    \"isError\": true\n  }\n}\n```\n\n## Security Considerations\n\n1. Servers **MUST**:\n   * Validate all tool inputs\n   * Implement proper access controls\n   * Rate limit tool invocations\n   * Sanitize tool outputs\n\n2. Clients **SHOULD**:\n   * Prompt for user confirmation on sensitive operations\n   * Show tool inputs to the user before calling the server, to avoid malicious or\n     accidental data exfiltration\n   * Validate tool results before passing to LLM\n   * Implement timeouts for tool calls\n   * Log tool usage for audit purposes",
  "content_length": 13347
}