{
  "title": "Set graph ontology",
  "source_url": null,
  "content": "PUT https://api.getzep.com/api/v2/graph/set-ontology\nContent-Type: application/json\n\nSets custom entity and edge types for your graph. This wrapper method\nprovides a clean interface for defining your graph schema with custom\nentity and edge types.\n\nSee the [full documentation](/customizing-graph-structure#setting-entity-and-edge-types) for details.\n\n\nReference: https://help.getzep.com/sdk-reference/graph/set-ontology\n\n## OpenAPI Specification\n\n```yaml\nopenapi: 3.1.1\ninfo:\n  title: Set graph ontology\n  version: endpoint_graph.set_ontology\npaths:\n  /graph/set-ontology:\n    put:\n      operationId: set-ontology\n      summary: Set graph ontology\n      description: >\n        Sets custom entity and edge types for your graph. This wrapper method\n\n        provides a clean interface for defining your graph schema with custom\n\n        entity and edge types.\n\n\n        See the [full\n        documentation](/customizing-graph-structure#setting-entity-and-edge-types)\n        for details.\n      tags:\n        - - subpackage_graph\n      parameters: []\n      responses:\n        '200':\n          description: Ontology set successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/apidata.SuccessResponse'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                entities:\n                  $ref: >-\n                    #/components/schemas/GraphSetOntologyPutRequestBodyContentApplicationJsonSchemaEntities\n                edges:\n                  $ref: >-\n                    #/components/schemas/GraphSetOntologyPutRequestBodyContentApplicationJsonSchemaEdges\n                user_ids:\n                  type: array\n                  items:\n                    type: string\n                graph_ids:\n                  type: array\n                  items:\n                    type: string\ncomponents:\n  schemas:\n    GraphSetOntologyPutRequestBodyContentApplicationJsonSchemaEntities:\n      type: object\n      properties: {}\n    GraphSetOntologyPutRequestBodyContentApplicationJsonSchemaEdges:\n      type: object\n      properties: {}\n    apidata.SuccessResponse:\n      type: object\n      properties:\n        message:\n          type: string\n\n```\n\n## SDK Code Examples\n\n```python\nfrom zep_cloud.client import Zep\nfrom zep_cloud.external_clients.ontology import EntityModel, EntityText, EdgeModel\nfrom zep_cloud import EntityEdgeSourceTarget\nfrom pydantic import Field\n\nclass Restaurant(EntityModel):\n    cuisine_type: EntityText = Field(description=\"The cuisine type\", default=None)\n\nclass RestaurantVisit(EdgeModel):\n    restaurant_name: EntityText = Field(description=\"Restaurant name\", default=None)\n\nclient = Zep(\n    api_key=\"YOUR_API_KEY\",\n)\nclient.graph.set_ontology(\n    entities={\n        \"Restaurant\": Restaurant,\n    },\n    edges={\n        \"RESTAURANT_VISIT\": (\n            RestaurantVisit,\n            [EntityEdgeSourceTarget(source=\"User\", target=\"Restaurant\")]\n        ),\n    }\n)\n\n```\n\n```typescript\nimport { ZepClient, entityFields, EntityType, EdgeType } from \"@getzep/zep-cloud\";\n\nconst RestaurantSchema: EntityType = {\n    description: \"Represents a restaurant.\",\n    fields: {\n        cuisine_type: entityFields.text(\"The cuisine type\"),\n    },\n};\n\nconst RestaurantVisit: EdgeType = {\n    description: \"User visited a restaurant.\",\n    fields: {\n        restaurant_name: entityFields.text(\"Restaurant name\"),\n    },\n    sourceTargets: [\n        { source: \"User\", target: \"Restaurant\" },\n    ],\n};\n\nconst client = new ZepClient({ apiKey: \"YOUR_API_KEY\" });\nawait client.graph.setOntology(\n    {\n        Restaurant: RestaurantSchema,\n    },\n    {\n        RESTAURANT_VISIT: RestaurantVisit,\n    }\n);\n\n```\n\n```go\nimport (\n\tcontext \"context\"\n\toption \"github.com/getzep/zep-go/v3/option\"\n\tv3 \"github.com/getzep/zep-go/v3\"\n\tv3client \"github.com/getzep/zep-go/v3/client\"\n)\n\ntype Restaurant struct {\n    v3.BaseEntity `name:\"Restaurant\" description:\"Represents a restaurant.\"`\n    CuisineType string `description:\"The cuisine type\" json:\"cuisine_type,omitempty\"`\n}\n\ntype RestaurantVisit struct {\n    v3.BaseEdge `name:\"RESTAURANT_VISIT\" description:\"User visited a restaurant.\"`\n    RestaurantName string `description:\"Restaurant name\" json:\"restaurant_name,omitempty\"`\n}\n\nclient := v3client.NewClient(\n\toption.WithAPIKey(\n\t\t\"<YOUR_APIKey>\",\n\t),\n)\n_, err := client.Graph.SetOntology(\n    context.TODO(),\n    []v3.EntityDefinition{\n        Restaurant{},\n    },\n    []v3.EdgeDefinitionWithSourceTargets{\n        {\n            EdgeModel: RestaurantVisit{},\n            SourceTargets: []v3.EntityEdgeSourceTarget{\n                {Source: v3.String(\"User\"), Target: v3.String(\"Restaurant\")},\n            },\n        },\n    },\n)\nif err != nil {\n    panic(err)\n}\n\n```",
  "content_length": 4830
}