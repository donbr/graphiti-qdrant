{
  "title": "Users",
  "source_url": null,
  "content": "## Overview\n\nA User represents an individual interacting with your application. Each User can have multiple Threads associated with them, allowing you to track and manage their interactions over time. Additionally, each user has an associated User Graph which stores the memory for that user.\n\nThe unique identifier for each user is their `UserID`. This can be any string value, such as a username, email address, or UUID.\n\nIn the following sections, you will learn how to manage Users and their associated Threads.\n\n<Note>\n  **Users Enable Simple User Privacy Management**\n\n  Deleting a User will delete all Threads and thread artifacts associated with that User with a single API call, making it easy to handle Right To Be Forgotten requests.\n</Note>\n\n## Ensuring Your User Data Is Correctly Mapped to the Zep Knowledge Graph\n\n<Tip>\n  Adding your user's `email`, `first_name`, and `last_name` ensures that chat messages and business data are correctly mapped to the user node in the Zep knowledge graph.\n\n  For e.g., if business data contains your user's email address, it will be related directly to the user node.\n</Tip>\n\nYou can associate rich business context with a User:\n\n* `user_id`: A unique identifier of the user that maps to your internal User ID.\n* `email`: The user's email.\n* `first_name`: The user's first name.\n* `last_name`: The user's last name.\n\n## Adding a User\n\nYou can add a new user by providing the user details.\n\n<CodeBlocks>\n  ```python Python\n  from zep_cloud.client import Zep\n\n  client = Zep(api_key=API_KEY)\n\n  new_user = client.user.add(\n      user_id=user_id,\n      email=\"user@example.com\",\n      first_name=\"Jane\",\n      last_name=\"Smith\",\n  )\n  ```\n\n  ```typescript TypeScript\n  import { ZepClient } from \"@getzep/zep-cloud\";\n\n  const client = new ZepClient({\n    apiKey: API_KEY,\n  });\n\n  const user = await client.user.add({\n    userId: userId,\n    email: \"user@example.com\",\n    firstName: \"Jane\",\n    lastName: \"Smith\",\n  });\n  ```\n\n  ```go Go\n  import (\n  \t\"context\"\n  \t\"log\"\n\n  \t\"github.com/getzep/zep-go/v3\"\n  \tzepclient \"github.com/getzep/zep-go/v3/client\"\n  \t\"github.com/getzep/zep-go/v3/option\"\n  )\n\n  client := zepclient.NewClient(option.WithAPIKey(apiKey))\n\n  newUser, err := client.User.Add(context.TODO(), &zep.CreateUserRequest{\n  \tUserID:    userID,\n  \tEmail:     zep.String(\"user@example.com\"),\n  \tFirstName: zep.String(\"Jane\"),\n  \tLastName:  zep.String(\"Smith\"),\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to add user: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n> Learn how to associate [Threads with Users](/threads)\n\n## User Summary Instructions\n\n<Frame background=\"subtle\">\n  <iframe src=\"https://www.youtube.com/embed/L10KculT6hk?vq=hd1080\" frameBorder=\"0\" allowFullScreen />\n</Frame>\n\n<Callout intent=\"info\">\n  Get started with the example in the video using:\n\n  ```bash\n  git clone https://github.com/getzep/zep.git\n  cd zep/examples/python/user-summary-instructions-example\n  ```\n</Callout>\n\nUser summary instructions customize how Zep generates the entity summary for each user in their knowledge graph. You can create up to 5 custom instructions per user, set of users, or project-wide. Each instruction consists of a `name` (unique identifier) and `text` (the instruction content, maximum 100 characters).\n\n<Note>\n  **User summary and the user node**\n\n  Each user has a single unique user node in their graph representing the user themselves. The user summary generated from these instructions lives on this user node. You can retrieve the user node and its summary using the `get_node` method shown in the [Get the User Node](#get-the-user-node) section.\n</Note>\n\n### Default instructions\n\nZep applies the following default instructions to generate user summaries when no custom instructions are specified:\n\n1. What are the user's key personal and lifestyle details?\n2. What are the user's important relationships or social connections?\n3. What does the user do for work, study, or main pursuits?\n4. What are the user's preferences, values, and recurring goals?\n5. What procedural or interaction instructions has the user given for how the AI should assist them?\n\nThese default instructions ensure comprehensive user summaries that capture essential information across personal, professional, and interaction contexts.\n\n### Custom instructions\n\nInstructions are managed through dedicated methods that allow you to add, list, and delete them. You can apply instructions to specific users by providing user IDs, or set them as project-wide defaults by omitting user IDs.\n\n<Tip>\n  **Best practices for writing instructions**: Instructions should be focused and specific, designed to elicit responses that can be answered in a sentence or two. Phrasing instructions as questions is often an effective way to get accurate and succinct responses.\n</Tip>\n\n<Note>\n  User summary instructions do not apply when using `graph.add_batch()` or `thread.add_messages_batch()`.\n</Note>\n\n<CodeBlocks>\n  ```python Python\n  from zep_cloud.client import Zep\n  from zep_cloud.types import UserInstruction\n\n  client = Zep(api_key=API_KEY)\n\n  # Add instructions for specific users\n  client.user.add_user_summary_instructions(\n      instructions=[\n          UserInstruction(\n              name=\"professional_background\",\n              text=\"What are the user's key professional skills and career achievements?\",\n          )\n      ],\n      user_ids=[user_id],\n  )\n\n  # Add project-wide default instructions (applied to all users without custom instructions)\n  client.user.add_user_summary_instructions(\n      instructions=[\n          UserInstruction(\n              name=\"communication_style\",\n              text=\"How does the user prefer to receive information and assistance?\",\n          )\n      ],\n  )\n\n  # List instructions for a user\n  instructions = client.user.list_user_summary_instructions(user_id=user_id)\n\n  # Delete specific instructions for a user\n  client.user.delete_user_summary_instructions(\n      instruction_names=[\"professional_background\"],\n      user_ids=[user_id],\n  )\n  ```\n\n  ```typescript TypeScript\n  import { ZepClient } from \"@getzep/zep-cloud\";\n\n  const client = new ZepClient({\n    apiKey: API_KEY,\n  });\n\n  // Add instructions for specific users\n  await client.user.addUserSummaryInstructions({\n    instructions: [\n      {\n        name: \"professional_background\",\n        text: \"What are the user's key professional skills and career achievements?\",\n      }\n    ],\n    userIds: [userId],\n  });\n\n  // Add project-wide default instructions (applied to all users without custom instructions)\n  await client.user.addUserSummaryInstructions({\n    instructions: [\n      {\n        name: \"communication_style\",\n        text: \"How does the user prefer to receive information and assistance?\",\n      }\n    ],\n  });\n\n  // List instructions for a user\n  const instructions = await client.user.listUserSummaryInstructions({\n    userId: userId,\n  });\n\n  // Delete specific instructions for a user\n  await client.user.deleteUserSummaryInstructions({\n    instructionNames: [\"professional_background\"],\n    userIds: [userId],\n  });\n  ```\n\n  ```go Go\n  import (\n  \t\"context\"\n  \t\"log\"\n\n  \t\"github.com/getzep/zep-go/v3\"\n  \tzepclient \"github.com/getzep/zep-go/v3/client\"\n  \t\"github.com/getzep/zep-go/v3/option\"\n  )\n\n  client := zepclient.NewClient(option.WithAPIKey(apiKey))\n\n  // Add instructions for specific users\n  _, err := client.User.AddUserSummaryInstructions(context.TODO(), &zep.ApidataAddUserInstructionsRequest{\n  \tInstructions: []*zep.UserInstruction{\n  \t\t{\n  \t\t\tName: \"professional_background\",\n  \t\t\tText: \"What are the user's key professional skills and career achievements?\",\n  \t\t},\n  \t},\n  \tUserIDs: []string{userID},\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to add user summary instructions: %v\", err)\n  }\n\n  // Add project-wide default instructions (applied to all users without custom instructions)\n  _, err = client.User.AddUserSummaryInstructions(context.TODO(), &zep.ApidataAddUserInstructionsRequest{\n  \tInstructions: []*zep.UserInstruction{\n  \t\t{\n  \t\t\tName: \"communication_style\",\n  \t\t\tText: \"How does the user prefer to receive information and assistance?\",\n  \t\t},\n  \t},\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to add default instructions: %v\", err)\n  }\n\n  // List instructions for a user\n  instructions, err := client.User.ListUserSummaryInstructions(context.TODO(), &zep.ApidataListUserInstructionsRequest{\n  \tUserID: userID,\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to list instructions: %v\", err)\n  }\n\n  // Delete specific instructions for a user\n  _, err = client.User.DeleteUserSummaryInstructions(context.TODO(), &zep.ApidataDeleteUserInstructionsRequest{\n  \tInstructionNames: []string{\"professional_background\"},\n  \tUserIDs:          []string{userID},\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to delete instructions: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n### Utilizing user summary\n\nUser summaries are automatically included in [Zep's Context Block](/retrieving-memory#zeps-context-block). You can toggle whether the user summary is included in the Context Block on the Projects page of the web app. Accounts created before November 10, 2025 will need to enable this setting manually, while new accounts have it enabled by default.\n\nAlternatively, you can build a custom context block by retrieving the user node and including its summary. See [this example](/cookbook/advanced-context-block-construction#example-4-using-user-summary-in-context-block) for a complete implementation.\n\n## Getting a User\n\nYou can retrieve a user by their ID.\n\n<CodeBlocks>\n  ```python Python\n  user = client.user.get(\"user123\")\n  ```\n\n  ```typescript TypeScript\n  const user = await client.user.get(\"user123\");\n  ```\n\n  ```go Go\n  user, err := client.User.Get(context.TODO(), \"user123\")\n  if err != nil {\n  \tlog.Fatalf(\"Failed to get user: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n## Updating a User\n\nYou can update a user's details by providing the updated user details.\n\n<CodeBlocks>\n  ```python Python\n  updated_user = client.user.update(\n      user_id=user_id,\n      email=\"updated_user@example.com\",\n      first_name=\"Jane\",\n      last_name=\"Smith\",\n  )\n  ```\n\n  ```typescript TypeScript\n  const updatedUser = await client.user.update(userId, {\n    email: \"updated_user@example.com\",\n    firstName: \"Jane\",\n    lastName: \"Smith\",\n    metadata: { foo: \"updated_bar\" },\n  });\n  ```\n\n  ```go Go\n  updatedUser, err := client.User.Update(context.TODO(), userID, &zep.UpdateUserRequest{\n  \tEmail:     zep.String(\"updated_user@example.com\"),\n  \tFirstName: zep.String(\"Jane\"),\n  \tLastName:  zep.String(\"Smith\"),\n  \tMetadata: map[string]interface{}{\n  \t\t\"foo\": \"updated_bar\",\n  \t},\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to update user: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n## Deleting a User\n\nYou can delete a user by their ID.\n\n<CodeBlocks>\n  ```python Python\n  client.user.delete(\"user123\")\n  ```\n\n  ```typescript TypeScript\n  await client.user.delete(\"user123\");\n  ```\n\n  ```go Go\n  _, err := client.User.Delete(context.TODO(), \"user123\")\n  if err != nil {\n  \tlog.Fatalf(\"Failed to delete user: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n## Getting a User's Threads\n\nYou can retrieve all Threads for a user by their ID.\n\n<CodeBlocks>\n  ```python Python\n  threads = client.user.get_threads(\"user123\")\n  ```\n\n  ```typescript TypeScript\n  const threads = await client.user.getThreads(\"user123\");\n  ```\n\n  ```go Go\n  threads, err := client.User.GetThreads(context.TODO(), \"user123\")\n  if err != nil {\n  \tlog.Fatalf(\"Failed to get user threads: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n## Listing Users\n\nYou can list all users, with optional limit and cursor parameters for pagination.\n\n<CodeBlocks>\n  ```python Python\n  # List the first 10 users\n  result = client.user.list_ordered(page_size=10, page_number=1)\n  ```\n\n  ```typescript TypeScript\n  // List the first 10 users\n  const result = await client.user.listOrdered({\n    pageSize: 10,\n    pageNumber: 1,\n  });\n  ```\n\n  ```go Go\n  // List the first 10 users\n  result, err := client.User.ListOrdered(context.TODO(), &zep.UserListOrderedRequest{\n  \tPageSize:   zep.Int(10),\n  \tPageNumber: zep.Int(1),\n  })\n  if err != nil {\n  \tlog.Fatalf(\"Failed to list users: %v\", err)\n  }\n  ```\n</CodeBlocks>\n\n## Get the User Node\n\nYou can also retrieve the user's node from their graph:\n\n<CodeBlocks>\n  ```python Python\n  results = client.user.get_node(user_id=user_id)\n  user_node = results.node\n  print(user_node.summary)\n  ```\n\n  ```typescript TypeScript\n  const results = await client.user.getNode(userId);\n  const userNode = results.node;\n  console.log(userNode?.summary);\n  ```\n\n  ```go Go\n  results, err := client.User.GetNode(context.TODO(), userID)\n  if err != nil {\n  \tlog.Fatalf(\"Failed to get user node: %v\", err)\n  }\n  userNode := results.Node\n  if userNode != nil && userNode.Summary != nil {\n  \tlog.Printf(\"User summary: %s\", *userNode.Summary)\n  }\n  ```\n</CodeBlocks>\n\nThe user node might be used to get a summary of the user or to get facts related to the user (see [\"How to find facts relevant to a specific node\"](/cookbook/how-to-find-facts-relevant-to-a-specific-node)).\n\n## Default Ontology for Users\n\nUser graphs utilize Zep's default ontology, consisting of default entity types and default edge types that affect how the graph is built. You can read more about default and custom graph ontology [here](/graph/customizing-graph-structure).\n\n### Definition\n\nEach user graph comes with default entity and edge types that help classify and structure information extracted from conversations. [View the full default ontology definition](/graph/customizing-graph-structure#default-entity-and-edge-types).\n\n### Disabling Default Ontology\n\nYou can disable the default entity and edge types for specific users if you need precise control over your graph structure. [Learn how to disable the default ontology](/graph/customizing-graph-structure#disabling-default-ontology).",
  "content_length": 13882
}