{
  "title": "AWS Neptune Configuration",
  "source_url": null,
  "content": "> Configure Amazon Neptune as the graph provider for Graphiti\n\nNeptune DB is Amazon's fully managed graph database service that supports both property graph and RDF data models. Graphiti integrates with Neptune to provide scalable, cloud-native graph storage with automatic backups, encryption, and high availability.\n\n## Prerequisites\n\nNeptune DB integration requires both Neptune and Amazon OpenSearch Serverless (AOSS) services:\n\n* **Neptune Service**: For graph data storage and Cypher query processing\n* **OpenSearch Serverless**: For text search and hybrid retrieval functionality\n* **AWS Credentials**: Configured via AWS CLI, environment variables, or IAM roles\n\nFor detailed setup instructions, see:\n\n* [AWS Neptune Developer Resources](https://aws.amazon.com/neptune/developer-resources/)\n* [Neptune Database Documentation](https://docs.aws.amazon.com/neptune/latest/userguide/)\n* [Neptune Analytics Documentation](https://docs.aws.amazon.com/neptune-analytics/latest/userguide/)\n* [OpenSearch Serverless Documentation](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless.html)\n\n## Setup\n\n1. Create a Neptune Database cluster in the AWS Console or via CloudFormation\n2. Create an OpenSearch Serverless collection for text search\n3. Configure VPC networking and security groups to allow communication between services\n4. Note your Neptune cluster endpoint and OpenSearch collection endpoint\n\n## Configuration\n\nSet the following environment variables:\n\n```bash\nexport NEPTUNE_HOST=your-neptune-cluster.cluster-xyz.us-west-2.neptune.amazonaws.com\nexport NEPTUNE_PORT=8182  # Optional, defaults to 8182\nexport AOSS_HOST=your-collection.us-west-2.aoss.amazonaws.com\n```\n\n## Installation\n\nInstall the required dependencies:\n\n```bash\npip install graphiti-core[neptune]\n```\n\nor\n\n```bash\nuv add graphiti-core[neptune]\n```\n\n## Connection in Python\n\n```python\nimport os\nfrom graphiti_core import Graphiti\nfrom graphiti_core.driver.neptune_driver import NeptuneDriver\n\n### Get connection parameters from environment\nneptune_uri = os.getenv('NEPTUNE_HOST')\nneptune_port = int(os.getenv('NEPTUNE_PORT', 8182))\naoss_host = os.getenv('AOSS_HOST')\n\n### Validate required parameters\nif not neptune_uri or not aoss_host:\n    raise ValueError(\"NEPTUNE_HOST and AOSS_HOST environment variables must be set\")\n\n### Create Neptune driver\ndriver = NeptuneDriver(\n    host=neptune_uri,        # Required: Neptune cluster endpoint\n    aoss_host=aoss_host,     # Required: OpenSearch Serverless collection endpoint\n    port=neptune_port        # Optional: Neptune port (defaults to 8182)\n)\n\n### Pass the driver to Graphiti\ngraphiti = Graphiti(graph_driver=driver)\n```",
  "content_length": 2677
}